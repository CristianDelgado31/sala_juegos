var oR=Object.defineProperty,sR=Object.defineProperties;var aR=Object.getOwnPropertyDescriptors;var jI=Object.getOwnPropertySymbols,cR=Object.getPrototypeOf,uR=Object.prototype.hasOwnProperty,lR=Object.prototype.propertyIsEnumerable,dR=Reflect.get;var UI=(t,e,n)=>e in t?oR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O=(t,e)=>{for(var n in e||={})uR.call(e,n)&&UI(t,n,e[n]);if(jI)for(var n of jI(e))lR.call(e,n)&&UI(t,n,e[n]);return t},ue=(t,e)=>sR(t,aR(e));var er=(t,e,n)=>dR(cR(t),n,e);var w=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});function BI(t,e){return Object.is(t,e)}var Ue=null,Zc=!1,Jc=1,En=Symbol("SIGNAL");function ye(t){let e=Ue;return Ue=t,e}function $I(){return Ue}var $s={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function cf(t){if(Zc)throw new Error("");if(Ue===null)return;Ue.consumerOnSignalRead(t);let e=Ue.nextProducerIndex++;if(nu(Ue),e<Ue.producerNode.length&&Ue.producerNode[e]!==t&&Bs(Ue)){let n=Ue.producerNode[e];tu(n,Ue.producerIndexOfThis[e])}Ue.producerNode[e]!==t&&(Ue.producerNode[e]=t,Ue.producerIndexOfThis[e]=Bs(Ue)?GI(t,Ue,e):0),Ue.producerLastReadVersion[e]=t.version}function hR(){Jc++}function HI(t){if(!(Bs(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Jc)){if(!t.producerMustRecompute(t)&&!lf(t)){t.dirty=!1,t.lastCleanEpoch=Jc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Jc}}function zI(t){if(t.liveConsumerNode===void 0)return;let e=Zc;Zc=!0;try{for(let n of t.liveConsumerNode)n.dirty||fR(n)}finally{Zc=e}}function qI(){return Ue?.consumerAllowSignalWrites!==!1}function fR(t){t.dirty=!0,zI(t),t.consumerMarkedDirty?.(t)}function eu(t){return t&&(t.nextProducerIndex=0),ye(t)}function uf(t,e){if(ye(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Bs(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)tu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function lf(t){nu(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(HI(n),r!==n.version))return!0}return!1}function df(t){if(nu(t),Bs(t))for(let e=0;e<t.producerNode.length;e++)tu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function GI(t,e,n){if(WI(t),t.liveConsumerNode.length===0&&KI(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=GI(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function tu(t,e){if(WI(t),t.liveConsumerNode.length===1&&KI(t))for(let r=0;r<t.producerNode.length;r++)tu(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];nu(i),i.producerIndexOfThis[r]=e}}function Bs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function nu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function WI(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function KI(t){return t.producerNode!==void 0}function QI(t){let e=Object.create(pR);e.computation=t;let n=()=>{if(HI(e),cf(e),e.value===Xc)throw e.error;return e.value};return n[En]=e,n}var sf=Symbol("UNSET"),af=Symbol("COMPUTING"),Xc=Symbol("ERRORED"),pR=ue(O({},$s),{value:sf,dirty:!0,error:null,equal:BI,producerMustRecompute(t){return t.value===sf||t.value===af},producerRecomputeValue(t){if(t.value===af)throw new Error("Detected cycle in computations.");let e=t.value;t.value=af;let n=eu(t),r;try{r=t.computation()}catch(i){r=Xc,t.error=i}finally{uf(t,n)}if(e!==sf&&e!==Xc&&r!==Xc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function gR(){throw new Error}var YI=gR;function ZI(){YI()}function JI(t){YI=t}var mR=null;function XI(t){let e=Object.create(tw);e.value=t;let n=()=>(cf(e),e.value);return n[En]=e,n}function hf(t,e){qI()||ZI(),t.equal(t.value,e)||(t.value=e,yR(t))}function ew(t,e){qI()||ZI(),hf(t,e(t.value))}var tw=ue(O({},$s),{equal:BI,value:void 0});function yR(t){t.version++,hR(),zI(t),mR?.()}function X(t){return typeof t=="function"}function Ui(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ru=Ui(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Vr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ne=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(X(r))try{r()}catch(o){e=o instanceof ru?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{nw(o)}catch(s){e=e??[],s instanceof ru?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ru(e)}}add(e){var n;if(e&&e!==this)if(this.closed)nw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Vr(n,e)}remove(e){let{_finalizers:n}=this;n&&Vr(n,e),e instanceof t&&e._removeParent(this)}};Ne.EMPTY=(()=>{let t=new Ne;return t.closed=!0,t})();var ff=Ne.EMPTY;function iu(t){return t instanceof Ne||t&&"closed"in t&&X(t.remove)&&X(t.add)&&X(t.unsubscribe)}function nw(t){X(t)?t():t.unsubscribe()}var Ut={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Bi={setTimeout(t,e,...n){let{delegate:r}=Bi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Bi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ou(t){Bi.setTimeout(()=>{let{onUnhandledError:e}=Ut;if(e)e(t);else throw t})}function Hs(){}var rw=pf("C",void 0,void 0);function iw(t){return pf("E",void 0,t)}function ow(t){return pf("N",t,void 0)}function pf(t,e,n){return{kind:t,value:e,error:n}}var jr=null;function $i(t){if(Ut.useDeprecatedSynchronousErrorHandling){let e=!jr;if(e&&(jr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=jr;if(jr=null,n)throw r}}else t()}function sw(t){Ut.useDeprecatedSynchronousErrorHandling&&jr&&(jr.errorThrown=!0,jr.error=t)}var Ur=class extends Ne{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,iu(e)&&e.add(this)):this.destination=IR}static create(e,n,r){return new Hi(e,n,r)}next(e){this.isStopped?mf(ow(e),this):this._next(e)}error(e){this.isStopped?mf(iw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?mf(rw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},vR=Function.prototype.bind;function gf(t,e){return vR.call(t,e)}var yf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){su(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){su(r)}else su(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){su(n)}}},Hi=class extends Ur{constructor(e,n,r){super();let i;if(X(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Ut.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&gf(e.next,o),error:e.error&&gf(e.error,o),complete:e.complete&&gf(e.complete,o)}):i=e}this.destination=new yf(i)}};function su(t){Ut.useDeprecatedSynchronousErrorHandling?sw(t):ou(t)}function _R(t){throw t}function mf(t,e){let{onStoppedNotification:n}=Ut;n&&Bi.setTimeout(()=>n(t,e))}var IR={closed:!0,next:Hs,error:_R,complete:Hs};var zi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function _t(t){return t}function au(...t){return vf(t)}function vf(t){return t.length===0?_t:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var le=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=ER(n)?n:new Hi(n,r,i);return $i(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=aw(r),new r((i,o)=>{let s=new Hi({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[zi](){return this}pipe(...n){return vf(n)(this)}toPromise(n){return n=aw(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function aw(t){var e;return(e=t??Ut.Promise)!==null&&e!==void 0?e:Promise}function wR(t){return t&&X(t.next)&&X(t.error)&&X(t.complete)}function ER(t){return t&&t instanceof Ur||wR(t)&&iu(t)}function _f(t){return X(t?.lift)}function ge(t){return e=>{if(_f(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function de(t,e,n,r,i){return new If(t,e,n,r,i)}var If=class extends Ur{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function qi(){return ge((t,e)=>{let n=null;t._refCount++;let r=de(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Gi=class extends le{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,_f(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ne;let n=this.getSubject();e.add(this.source.subscribe(de(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ne.EMPTY)}return e}refCount(){return qi()(this)}};var cw=Ui(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ze=(()=>{class t extends le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new cu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new cw}next(n){$i(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){$i(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){$i(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?ff:(this.currentObservers=null,o.push(n),new Ne(()=>{this.currentObservers=null,Vr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new le;return n.source=this,n}}return t.create=(e,n)=>new cu(e,n),t})(),cu=class extends ze{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:ff}};var Ke=class extends ze{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var wf={now(){return(wf.delegate||Date).now()},delegate:void 0};var uu=class extends Ne{constructor(e,n){super()}schedule(e,n=0){return this}};var zs={setInterval(t,e,...n){let{delegate:r}=zs;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=zs;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Wi=class extends uu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return zs.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&zs.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Vr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Ki=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Ki.now=wf.now;var Qi=class extends Ki{constructor(e,n=Ki.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Ef=new Qi(Wi);var lu=class extends Wi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var du=class extends Qi{};var Df=new du(lu);var It=new le(t=>t.complete());function uw(t){return t&&X(t.schedule)}function lw(t){return t[t.length-1]}function hu(t){return X(lw(t))?t.pop():void 0}function tr(t){return uw(lw(t))?t.pop():void 0}function bf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function hw(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function dw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Br(t){return this instanceof Br?(this.v=t,this):new Br(t)}function fw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(S){return Promise.resolve(S).then(v,p)}}function a(v,S){r[v]&&(i[v]=function(N){return new Promise(function(R,F){o.push([v,N,R,F])>1||u(v,N)})},S&&(i[v]=S(i[v])))}function u(v,S){try{l(r[v](S))}catch(N){m(o[0][3],N)}}function l(v){v.value instanceof Br?Promise.resolve(v.value.v).then(h,p):m(o[0][2],v)}function h(v){u("next",v)}function p(v){u("throw",v)}function m(v,S){v(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function pw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof dw=="function"?dw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var fu=t=>t&&typeof t.length=="number"&&typeof t!="function";function pu(t){return X(t?.then)}function gu(t){return X(t[zi])}function mu(t){return Symbol.asyncIterator&&X(t?.[Symbol.asyncIterator])}function yu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function DR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var vu=DR();function _u(t){return X(t?.[vu])}function Iu(t){return fw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Br(n.read());if(i)return yield Br(void 0);yield yield Br(r)}}finally{n.releaseLock()}})}function wu(t){return X(t?.getReader)}function Oe(t){if(t instanceof le)return t;if(t!=null){if(gu(t))return bR(t);if(fu(t))return CR(t);if(pu(t))return TR(t);if(mu(t))return gw(t);if(_u(t))return SR(t);if(wu(t))return AR(t)}throw yu(t)}function bR(t){return new le(e=>{let n=t[zi]();if(X(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function CR(t){return new le(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function TR(t){return new le(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ou)})}function SR(t){return new le(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function gw(t){return new le(e=>{RR(t,e).catch(n=>e.error(n))})}function AR(t){return gw(Iu(t))}function RR(t,e){var n,r,i,o;return hw(this,void 0,void 0,function*(){try{for(n=pw(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function pt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function nr(t,e=0){return ge((n,r)=>{n.subscribe(de(r,i=>pt(r,t,()=>r.next(i),e),()=>pt(r,t,()=>r.complete(),e),i=>pt(r,t,()=>r.error(i),e)))})}function rr(t,e=0){return ge((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function mw(t,e){return Oe(t).pipe(rr(e),nr(e))}function yw(t,e){return Oe(t).pipe(rr(e),nr(e))}function vw(t,e){return new le(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function _w(t,e){return new le(n=>{let r;return pt(n,e,()=>{r=t[vu](),pt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>X(r?.return)&&r.return()})}function Eu(t,e){if(!t)throw new Error("Iterable cannot be null");return new le(n=>{pt(n,e,()=>{let r=t[Symbol.asyncIterator]();pt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Iw(t,e){return Eu(Iu(t),e)}function ww(t,e){if(t!=null){if(gu(t))return mw(t,e);if(fu(t))return vw(t,e);if(pu(t))return yw(t,e);if(mu(t))return Eu(t,e);if(_u(t))return _w(t,e);if(wu(t))return Iw(t,e)}throw yu(t)}function xe(t,e){return e?ww(t,e):Oe(t)}function ee(...t){let e=tr(t);return xe(t,e)}function Yi(t,e){let n=X(t)?t:()=>t,r=i=>i.error(n());return new le(e?i=>e.schedule(r,0,i):r)}function Cf(t){return!!t&&(t instanceof le||X(t.lift)&&X(t.subscribe))}var Dn=Ui(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function re(t,e){return ge((n,r)=>{let i=0;n.subscribe(de(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:MR}=Array;function NR(t,e){return MR(e)?t(...e):t(e)}function Du(t){return re(e=>NR(t,e))}var{isArray:xR}=Array,{getPrototypeOf:PR,prototype:OR,keys:kR}=Object;function bu(t){if(t.length===1){let e=t[0];if(xR(e))return{args:e,keys:null};if(FR(e)){let n=kR(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function FR(t){return t&&typeof t=="object"&&PR(t)===OR}function Cu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Tu(...t){let e=tr(t),n=hu(t),{args:r,keys:i}=bu(t);if(r.length===0)return xe([],e);let o=new le(LR(r,e,i?s=>Cu(i,s):_t));return n?o.pipe(Du(n)):o}function LR(t,e,n=_t){return r=>{Ew(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)Ew(e,()=>{let l=xe(t[u],e),h=!1;l.subscribe(de(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Ew(t,e,n){t?pt(n,t,e):e()}function Dw(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},v=N=>l<r?S(N):u.push(N),S=N=>{o&&e.next(N),l++;let R=!1;Oe(n(N,h++)).subscribe(de(e,F=>{i?.(F),o?v(F):e.next(F)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let F=u.shift();s?pt(e,s,()=>S(F)):S(F)}m()}catch(F){e.error(F)}}))};return t.subscribe(de(e,v,()=>{p=!0,m()})),()=>{a?.()}}function Be(t,e,n=1/0){return X(e)?Be((r,i)=>re((o,s)=>e(r,o,i,s))(Oe(t(r,i))),n):(typeof e=="number"&&(n=e),ge((r,i)=>Dw(r,i,t,n)))}function Tf(t=1/0){return Be(_t,t)}function bw(){return Tf(1)}function Zi(...t){return bw()(xe(t,tr(t)))}function Su(t){return new le(e=>{Oe(t()).subscribe(e)})}function Sf(...t){let e=hu(t),{args:n,keys:r}=bu(t),i=new le(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Oe(n[h]).subscribe(de(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Cu(r,a):a),o.complete())}))}});return e?i.pipe(Du(e)):i}function St(t,e){return ge((n,r)=>{let i=0;n.subscribe(de(r,o=>t.call(e,o,i++)&&r.next(o)))})}function ir(t){return ge((e,n)=>{let r=null,i=!1,o;r=e.subscribe(de(n,void 0,void 0,s=>{o=Oe(t(s,ir(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Cw(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(de(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Ji(t,e){return X(e)?Be(t,e,1):Be(t,1)}function or(t){return ge((e,n)=>{let r=!1;e.subscribe(de(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function bn(t){return t<=0?()=>It:ge((e,n)=>{let r=0;e.subscribe(de(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Af(t){return re(()=>t)}function Au(t=VR){return ge((e,n)=>{let r=!1;e.subscribe(de(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function VR(){return new Dn}function qs(t){return ge((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Zt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?St((i,o)=>t(i,o,r)):_t,bn(1),n?or(e):Au(()=>new Dn))}function Xi(t){return t<=0?()=>It:ge((e,n)=>{let r=[];e.subscribe(de(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Rf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?St((i,o)=>t(i,o,r)):_t,Xi(1),n?or(e):Au(()=>new Dn))}function Ru(t,e){return ge(Cw(t,e,arguments.length>=2,!0))}function Mu(...t){let e=tr(t);return ge((n,r)=>{(e?Zi(t,n,e):Zi(t,n)).subscribe(r)})}function Bt(t,e){return ge((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(de(r,u=>{i?.unsubscribe();let l=0,h=o++;Oe(t(u,h)).subscribe(i=de(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Mf(t){return ge((e,n)=>{Oe(t).subscribe(de(n,()=>n.complete(),Hs)),!n.closed&&e.subscribe(n)})}function $e(t,e,n){let r=X(t)||e||n?{next:t,error:e,complete:n}:t;return r?ge((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(de(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):_t}var lE="https://g.co/ng/security#xss",H=class extends Error{constructor(e,n){super(Sp(e,n)),this.code=e}};function Sp(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function na(t){return{toString:t}.toString()}var Nu="__parameters__";function jR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function UR(t,e,n){return na(()=>{let r=jR(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Nu)?u[Nu]:Object.defineProperty(u,Nu,{value:[]})[Nu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var zf=globalThis;function De(t){for(let e in t)if(t[e]===De)return e;throw Error("Could not find renamed property on target object.")}function BR(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function lt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(lt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Tw(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var $R=De({__forward_ref__:De});function Jr(t){return t.__forward_ref__=Jr,t.toString=function(){return lt(this())},t}function ut(t){return dE(t)?t():t}function dE(t){return typeof t=="function"&&t.hasOwnProperty($R)&&t.__forward_ref__===Jr}function W(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function _o(t){return{providers:t.providers||[],imports:t.imports||[]}}function ll(t){return Sw(t,fE)||Sw(t,pE)}function hE(t){return ll(t)!==null}function Sw(t,e){return t.hasOwnProperty(e)?t[e]:null}function HR(t){let e=t&&(t[fE]||t[pE]);return e||null}function Aw(t){return t&&(t.hasOwnProperty(Rw)||t.hasOwnProperty(zR))?t[Rw]:null}var fE=De({\u0275prov:De}),Rw=De({\u0275inj:De}),pE=De({ngInjectableDef:De}),zR=De({ngInjectorDef:De}),B=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=W({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function gE(t){return t&&!!t.\u0275providers}var qR=De({\u0275cmp:De}),GR=De({\u0275dir:De}),WR=De({\u0275pipe:De}),KR=De({\u0275mod:De}),Bu=De({\u0275fac:De}),Ks=De({__NG_ELEMENT_ID__:De}),Mw=De({__NG_ENV_ID__:De});function dl(t){return typeof t=="string"?t:t==null?"":String(t)}function QR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():dl(t)}function YR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new H(-200,t)}function Ap(t,e){throw new H(-201,!1)}var ie=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ie||{}),qf;function mE(){return qf}function At(t){let e=qf;return qf=t,e}function yE(t,e,n){let r=ll(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ie.Optional)return null;if(e!==void 0)return e;Ap(t,"Injector")}var ZR={},Qs=ZR,Gf="__NG_DI_FLAG__",$u="ngTempTokenPath",JR="ngTokenPath",XR=/\n/gm,eM="\u0275",Nw="__source",ro;function tM(){return ro}function sr(t){let e=ro;return ro=t,e}function nM(t,e=ie.Default){if(ro===void 0)throw new H(-203,!1);return ro===null?yE(t,void 0,e):ro.get(t,e&ie.Optional?null:void 0,e)}function oe(t,e=ie.Default){return(mE()||nM)(ut(t),e)}function k(t,e=ie.Default){return oe(t,hl(e))}function hl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Wf(t){let e=[];for(let n=0;n<t.length;n++){let r=ut(t[n]);if(Array.isArray(r)){if(r.length===0)throw new H(900,!1);let i,o=ie.Default;for(let s=0;s<r.length;s++){let a=r[s],u=iM(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(oe(i,o))}else e.push(oe(r))}return e}function rM(t,e){return t[Gf]=e,t.prototype[Gf]=e,t}function iM(t){return t[Gf]}function oM(t,e,n,r){let i=t[$u];throw e[Nw]&&i.unshift(e[Nw]),t.message=sM(`
`+t.message,i,n,r),t[JR]=i,t[$u]=null,t}function sM(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==eM?t.slice(2):t;let i=lt(e);if(Array.isArray(e))i=e.map(lt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):lt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(XR,`
  `)}`}var mt=rM(UR("Optional"),8);function oo(t,e){let n=t.hasOwnProperty(Bu);return n?t[Bu]:null}function Rp(t,e){t.forEach(n=>Array.isArray(n)?Rp(n,e):e(n))}function vE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Hu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function aM(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function cM(t,e,n){let r=ra(t,e);return r>=0?t[r|1]=n:(r=~r,aM(t,r,e,n)),r}function Nf(t,e){let n=ra(t,e);if(n>=0)return t[n|1]}function ra(t,e){return uM(t,e,1)}function uM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var so={},Rt=[],ao=new B(""),_E=new B("",-1),IE=new B(""),zu=class{get(e,n=Qs){if(n===Qs){let r=new Error(`NullInjectorError: No provider for ${lt(e)}!`);throw r.name="NullInjectorError",r}return n}},wE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(wE||{}),en=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(en||{}),ur=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ur||{});function lM(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Kf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];dM(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function EE(t){return t===3||t===4||t===6}function dM(t){return t.charCodeAt(0)===64}function Ys(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?xw(t,n,i,null,e[++r]):xw(t,n,i,null,null))}}return t}function xw(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var DE="ng-template";function hM(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&lM(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Mp(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Mp(t){return t.type===4&&t.value!==DE}function fM(t,e,n){let r=t.type===4&&!n?DE:t.value;return e===r}function pM(t,e,n){let r=4,i=t.attrs,o=i!==null?yM(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!$t(r)&&!$t(u))return!1;if(s&&$t(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!fM(t,u,n)||u===""&&e.length===1){if($t(r))return!1;s=!0}}else if(r&8){if(i===null||!hM(t,i,u,n)){if($t(r))return!1;s=!0}}else{let l=e[++a],h=gM(u,i,Mp(t),n);if(h===-1){if($t(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if($t(r))return!1;s=!0}}}}return $t(r)||s}function $t(t){return(t&1)===0}function gM(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return vM(e,t)}function mM(t,e,n=!1){for(let r=0;r<e.length;r++)if(pM(t,e[r],n))return!0;return!1}function yM(t){for(let e=0;e<t.length;e++){let n=t[e];if(EE(n))return e}return t.length}function vM(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Pw(t,e){return t?":not("+e.trim()+")":e}function _M(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!$t(s)&&(e+=Pw(o,i),i=""),r=s,o=o||!$t(r);n++}return i!==""&&(e+=Pw(o,i)),e}function IM(t){return t.map(_M).join(",")}function wM(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!$t(i))break;i=o}r++}return{attrs:e,classes:n}}function Pt(t){return na(()=>{let e=AE(t),n=ue(O({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===wE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||en.Emulated,styles:t.styles||Rt,_:null,schemas:t.schemas||null,tView:null,id:""});RE(n);let r=t.dependencies;return n.directiveDefs=kw(r,!1),n.pipeDefs=kw(r,!0),n.id=bM(n),n})}function EM(t){return qr(t)||bE(t)}function DM(t){return t!==null}function Io(t){return na(()=>({type:t.type,bootstrap:t.bootstrap||Rt,declarations:t.declarations||Rt,imports:t.imports||Rt,exports:t.exports||Rt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ow(t,e){if(t==null)return so;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=ur.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==ur.None?[r,a]:r,e[o]=s):n[o]=r}return n}function tt(t){return na(()=>{let e=AE(t);return RE(e),e})}function qr(t){return t[qR]||null}function bE(t){return t[GR]||null}function CE(t){return t[WR]||null}function TE(t){let e=qr(t)||bE(t)||CE(t);return e!==null?e.standalone:!1}function SE(t,e){let n=t[KR]||null;if(!n&&e===!0)throw new Error(`Type ${lt(t)} does not have '\u0275mod' property.`);return n}function AE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||so,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Rt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ow(t.inputs,e),outputs:Ow(t.outputs),debugInfo:null}}function RE(t){t.features?.forEach(e=>e(t))}function kw(t,e){if(!t)return null;let n=e?CE:EM;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(DM)}function bM(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function sn(t){return{\u0275providers:t}}function CM(...t){return{\u0275providers:ME(!0,t),\u0275fromNgModule:!0}}function ME(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Rp(e,s=>{let a=s;Qf(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&NE(i,o),n}function NE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Np(i,o=>{e(o,r)})}}function Qf(t,e,n,r){if(t=ut(t),!t)return!1;let i=null,o=Aw(t),s=!o&&qr(t);if(!o&&!s){let u=t.ngModule;if(o=Aw(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Qf(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Rp(o.imports,h=>{Qf(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&NE(l,e)}if(!a){let l=oo(i)||(()=>new i);e({provide:i,useFactory:l,deps:Rt},i),e({provide:IE,useValue:i,multi:!0},i),e({provide:ao,useValue:()=>oe(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;Np(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Np(t,e){for(let n of t)gE(n)&&(n=n.\u0275providers),Array.isArray(n)?Np(n,e):e(n)}var TM=De({provide:String,useValue:De});function xE(t){return t!==null&&typeof t=="object"&&TM in t}function SM(t){return!!(t&&t.useExisting)}function AM(t){return!!(t&&t.useFactory)}function co(t){return typeof t=="function"}function RM(t){return!!t.useClass}var fl=new B(""),Fu={},MM={},xf;function xp(){return xf===void 0&&(xf=new zu),xf}var xt=class{},Zs=class extends xt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Zf(e,s=>this.processProvider(s)),this.records.set(_E,eo(void 0,this)),i.has("environment")&&this.records.set(xt,eo(void 0,this));let o=this.records.get(fl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(IE,Rt,ie.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ye(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ye(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=sr(this),r=At(void 0),i;try{return e()}finally{sr(n),At(r)}}get(e,n=Qs,r=ie.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Mw))return e[Mw](this);r=hl(r);let i,o=sr(this),s=At(void 0);try{if(!(r&ie.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=kM(e)&&ll(e);l&&this.injectableDefInScope(l)?u=eo(Yf(e),Fu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ie.Self?xp():this.parent;return n=r&ie.Optional&&n===Qs?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[$u]=a[$u]||[]).unshift(lt(e)),o)throw a;return oM(a,e,"R3InjectorError",this.source)}else throw a}finally{At(s),sr(o)}}resolveInjectorInitializers(){let e=ye(null),n=sr(this),r=At(void 0),i;try{let o=this.get(ao,Rt,ie.Self);for(let s of o)s()}finally{sr(n),At(r),ye(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(lt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new H(205,!1)}processProvider(e){e=ut(e);let n=co(e)?e:ut(e&&e.provide),r=xM(e);if(!co(e)&&e.multi===!0){let i=this.records.get(n);i||(i=eo(void 0,Fu,!0),i.factory=()=>Wf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ye(null);try{return n.value===Fu&&(n.value=MM,n.value=n.factory()),typeof n.value=="object"&&n.value&&OM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ye(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ut(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Yf(t){let e=ll(t),n=e!==null?e.factory:oo(t);if(n!==null)return n;if(t instanceof B)throw new H(204,!1);if(t instanceof Function)return NM(t);throw new H(204,!1)}function NM(t){if(t.length>0)throw new H(204,!1);let n=HR(t);return n!==null?()=>n.factory(t):()=>new t}function xM(t){if(xE(t))return eo(void 0,t.useValue);{let e=PE(t);return eo(e,Fu)}}function PE(t,e,n){let r;if(co(t)){let i=ut(t);return oo(i)||Yf(i)}else if(xE(t))r=()=>ut(t.useValue);else if(AM(t))r=()=>t.useFactory(...Wf(t.deps||[]));else if(SM(t))r=()=>oe(ut(t.useExisting));else{let i=ut(t&&(t.useClass||t.provide));if(PM(t))r=()=>new i(...Wf(t.deps));else return oo(i)||Yf(i)}return r}function eo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function PM(t){return!!t.deps}function OM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function kM(t){return typeof t=="function"||typeof t=="object"&&t instanceof B}function Zf(t,e){for(let n of t)Array.isArray(n)?Zf(n,e):n&&gE(n)?Zf(n.\u0275providers,e):e(n)}function An(t,e){t instanceof Zs&&t.assertNotDestroyed();let n,r=sr(t),i=At(void 0);try{return e()}finally{sr(r),At(i)}}function FM(){return mE()!==void 0||tM()!=null}function LM(t){return typeof t=="function"}var Rn=0,he=1,Y=2,dt=3,Ht=4,qt=5,qu=6,Gu=7,zt=8,uo=9,tn=10,Fe=11,Js=12,Fw=13,wo=14,nn=15,lo=16,to=17,ho=18,pl=19,OE=20,ar=21,Pf=22,Mt=23,rn=25,kE=1;var Gr=7,Wu=8,Ku=9,Nt=10,Qu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Qu||{});function cr(t){return Array.isArray(t)&&typeof t[kE]=="object"}function Mn(t){return Array.isArray(t)&&t[kE]===!0}function Pp(t){return(t.flags&4)!==0}function gl(t){return t.componentOffset>-1}function ml(t){return(t.flags&1)===1}function lr(t){return!!t.template}function Jf(t){return(t[Y]&512)!==0}var Xf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function FE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function fr(){return LE}function LE(t){return t.type.prototype.ngOnChanges&&(t.setInput=jM),VM}fr.ngInherit=!0;function VM(){let t=jE(this),e=t?.current;if(e){let n=t.previous;if(n===so)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function jM(t,e,n,r,i){let o=this.declaredInputs[r],s=jE(t)||UM(t,{previous:so,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Xf(l&&l.currentValue,n,u===so),FE(t,e,i,n)}var VE="__ngSimpleChanges__";function jE(t){return t[VE]||null}function UM(t,e){return t[VE]=e}var Lw=null;var Jt=function(t,e,n){Lw?.(t,e,n)},BM="svg",$M="math";function on(t){for(;Array.isArray(t);)t=t[Rn];return t}function UE(t,e){return on(e[t])}function Ot(t,e){return on(e[t.index])}function BE(t,e){return t.data[e]}function HM(t,e){return t[e]}function pr(t,e){let n=e[t];return cr(n)?n:n[Rn]}function Op(t){return(t[Y]&128)===128}function zM(t){return Mn(t[dt])}function fo(t,e){return e==null?null:t[e]}function $E(t){t[to]=0}function HE(t){t[Y]&1024||(t[Y]|=1024,Op(t)&&vl(t))}function qM(t,e){for(;t>0;)e=e[wo],t--;return e}function yl(t){return!!(t[Y]&9216||t[Mt]?.dirty)}function ep(t){t[tn].changeDetectionScheduler?.notify(8),t[Y]&64&&(t[Y]|=1024),yl(t)&&vl(t)}function vl(t){t[tn].changeDetectionScheduler?.notify(0);let e=Wr(t);for(;e!==null&&!(e[Y]&8192||(e[Y]|=8192,!Op(e)));)e=Wr(e)}function zE(t,e){if((t[Y]&256)===256)throw new H(911,!1);t[ar]===null&&(t[ar]=[]),t[ar].push(e)}function GM(t,e){if(t[ar]===null)return;let n=t[ar].indexOf(e);n!==-1&&t[ar].splice(n,1)}function Wr(t){let e=t[dt];return Mn(e)?e[dt]:e}var se={lFrame:XE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var qE=!1;function WM(){return se.lFrame.elementDepthCount}function KM(){se.lFrame.elementDepthCount++}function QM(){se.lFrame.elementDepthCount--}function GE(){return se.bindingsEnabled}function YM(){return se.skipHydrationRootTNode!==null}function ZM(t){return se.skipHydrationRootTNode===t}function JM(){se.skipHydrationRootTNode=null}function be(){return se.lFrame.lView}function ht(){return se.lFrame.tView}function Eo(t){return se.lFrame.contextLView=t,t[zt]}function Do(t){return se.lFrame.contextLView=null,t}function nt(){let t=WE();for(;t!==null&&t.type===64;)t=t.parent;return t}function WE(){return se.lFrame.currentTNode}function XM(){let t=se.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Xr(t,e){let n=se.lFrame;n.currentTNode=t,n.isParent=e}function kp(){return se.lFrame.isParent}function KE(){se.lFrame.isParent=!1}function e1(){return se.lFrame.contextLView}function QE(){return qE}function Vw(t){qE=t}function t1(){let t=se.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function n1(t){return se.lFrame.bindingIndex=t}function _l(){return se.lFrame.bindingIndex++}function r1(t){let e=se.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function i1(){return se.lFrame.inI18n}function o1(t,e){let n=se.lFrame;n.bindingIndex=n.bindingRootIndex=t,tp(e)}function s1(){return se.lFrame.currentDirectiveIndex}function tp(t){se.lFrame.currentDirectiveIndex=t}function a1(t){let e=se.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function YE(t){se.lFrame.currentQueryIndex=t}function c1(t){let e=t[he];return e.type===2?e.declTNode:e.type===1?t[qt]:null}function ZE(t,e,n){if(n&ie.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ie.Host);)if(i=c1(o),i===null||(o=o[wo],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=se.lFrame=JE();return r.currentTNode=e,r.lView=t,!0}function Fp(t){let e=JE(),n=t[he];se.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function JE(){let t=se.lFrame,e=t===null?null:t.child;return e===null?XE(t):e}function XE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function e0(){let t=se.lFrame;return se.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var t0=e0;function Lp(){let t=e0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function u1(t){return(se.lFrame.contextLView=qM(t,se.lFrame.contextLView))[zt]}function bo(){return se.lFrame.selectedIndex}function Kr(t){se.lFrame.selectedIndex=t}function Vp(){let t=se.lFrame;return BE(t.tView,t.selectedIndex)}function l1(){return se.lFrame.currentNamespace}var n0=!0;function Il(){return n0}function wl(t){n0=t}function d1(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=LE(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function El(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Lu(t,e,n){r0(t,e,3,n)}function Vu(t,e,n,r){(t[Y]&3)===n&&r0(t,e,n,r)}function Of(t,e){let n=t[Y];(n&3)===e&&(n&=16383,n+=1,t[Y]=n)}function r0(t,e,n,r){let i=r!==void 0?t[to]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[to]+=65536),(a<o||o==-1)&&(h1(t,n,e,u),t[to]=(t[to]&4294901760)+u+2),u++}function jw(t,e){Jt(4,t,e);let n=ye(null);try{e.call(t)}finally{ye(n),Jt(5,t,e)}}function h1(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[Y]>>14<t[to]>>16&&(t[Y]&3)===e&&(t[Y]+=16384,jw(a,o)):jw(a,o)}var io=-1,Qr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function f1(t){return t instanceof Qr}function p1(t){return(t.flags&8)!==0}function g1(t){return(t.flags&16)!==0}var kf={},np=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=hl(r);let i=this.injector.get(e,kf,r);return i!==kf||n===kf?i:this.parentInjector.get(e,n,r)}};function i0(t){return t!==io}function Yu(t){return t&32767}function m1(t){return t>>16}function Zu(t,e){let n=m1(t),r=e;for(;n>0;)r=r[wo],n--;return r}var rp=!0;function Uw(t){let e=rp;return rp=t,e}var y1=256,o0=y1-1,s0=5,v1=0,Xt={};function _1(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ks)&&(r=n[Ks]),r==null&&(r=n[Ks]=v1++);let i=r&o0,o=1<<i;e.data[t+(i>>s0)]|=o}function Ju(t,e){let n=a0(t,e);if(n!==-1)return n;let r=e[he];r.firstCreatePass&&(t.injectorIndex=e.length,Ff(r.data,t),Ff(e,null),Ff(r.blueprint,null));let i=jp(t,e),o=t.injectorIndex;if(i0(i)){let s=Yu(i),a=Zu(i,e),u=a[he].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Ff(t,e){t.push(0,0,0,0,0,0,0,0,e)}function a0(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function jp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=h0(i),r===null)return io;if(n++,i=i[wo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return io}function ip(t,e,n){_1(t,e,n)}function I1(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(EE(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function c0(t,e,n){if(n&ie.Optional||t!==void 0)return t;Ap(e,"NodeInjector")}function u0(t,e,n,r){if(n&ie.Optional&&r===void 0&&(r=null),!(n&(ie.Self|ie.Host))){let i=t[uo],o=At(void 0);try{return i?i.get(e,r,n&ie.Optional):yE(e,r,n&ie.Optional)}finally{At(o)}}return c0(r,e,n)}function l0(t,e,n,r=ie.Default,i){if(t!==null){if(e[Y]&2048&&!(r&ie.Self)){let s=C1(t,e,n,r,Xt);if(s!==Xt)return s}let o=d0(t,e,n,r,Xt);if(o!==Xt)return o}return u0(e,n,r,i)}function d0(t,e,n,r,i){let o=D1(n);if(typeof o=="function"){if(!ZE(e,t,r))return r&ie.Host?c0(i,n,r):u0(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ie.Optional))Ap(n);else return s}finally{t0()}}else if(typeof o=="number"){let s=null,a=a0(t,e),u=io,l=r&ie.Host?e[nn][qt]:null;for((a===-1||r&ie.SkipSelf)&&(u=a===-1?jp(t,e):e[a+8],u===io||!$w(r,!1)?a=-1:(s=e[he],a=Yu(u),e=Zu(u,e)));a!==-1;){let h=e[he];if(Bw(o,a,h.data)){let p=w1(a,e,n,s,r,l);if(p!==Xt)return p}u=e[a+8],u!==io&&$w(r,e[he].data[a+8]===l)&&Bw(o,a,e)?(s=h,a=Yu(u),e=Zu(u,e)):a=-1}}return i}function w1(t,e,n,r,i,o){let s=e[he],a=s.data[t+8],u=r==null?gl(a)&&rp:r!=s&&(a.type&3)!==0,l=i&ie.Host&&o===a,h=E1(a,s,n,u,l);return h!==null?po(e,s,h,a):Xt}function E1(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let v=p;v<m;v++){let S=s[v];if(v<u&&n===S||v>=u&&S.type===n)return v}if(i){let v=s[u];if(v&&lr(v)&&v.type===n)return u}return null}function po(t,e,n,r){let i=t[n],o=e.data;if(f1(i)){let s=i;s.resolving&&YR(QR(o[n]));let a=Uw(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?At(s.injectImpl):null,h=ZE(t,r,ie.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&d1(n,o[n],e)}finally{l!==null&&At(l),Uw(a),s.resolving=!1,t0()}}return i}function D1(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ks)?t[Ks]:void 0;return typeof e=="number"?e>=0?e&o0:b1:e}function Bw(t,e,n){let r=1<<t;return!!(n[e+(t>>s0)]&r)}function $w(t,e){return!(t&ie.Self)&&!(t&ie.Host&&e)}var zr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return l0(this._tNode,this._lView,e,hl(r),n)}};function b1(){return new zr(nt(),be())}function Co(t){return na(()=>{let e=t.prototype.constructor,n=e[Bu]||op(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Bu]||op(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function op(t){return dE(t)?()=>{let e=op(ut(t));return e&&e()}:oo(t)}function C1(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Y]&2048&&!(s[Y]&512);){let a=d0(o,s,n,r|ie.Self,Xt);if(a!==Xt)return a;let u=o.parent;if(!u){let l=s[OE];if(l){let h=l.get(n,Xt,r);if(h!==Xt)return h}u=h0(s),s=s[wo]}o=u}return i}function h0(t){let e=t[he],n=e.type;return n===2?e.declTNode:n===1?t[qt]:null}function Up(t){return I1(nt(),t)}function Hw(t,e=null,n=null,r){let i=f0(t,e,n,r);return i.resolveInjectorInitializers(),i}function f0(t,e=null,n=null,r,i=new Set){let o=[n||Rt,CM(t)];return r=r||(typeof t=="object"?void 0:lt(t)),new Zs(o,e||xp(),r||null,i)}var $r=class $r{static create(e,n){if(Array.isArray(e))return Hw({name:""},n,e,"");{let r=e.name??"";return Hw({name:r},e.parent,e.providers,r)}}};$r.THROW_IF_NOT_FOUND=Qs,$r.NULL=new zu,$r.\u0275prov=W({token:$r,providedIn:"any",factory:()=>oe(_E)}),$r.__NG_ELEMENT_ID__=-1;var gt=$r;var T1=new B("");T1.__NG_ELEMENT_ID__=t=>{let e=nt();if(e===null)throw new H(204,!1);if(e.type&2)return e.value;if(t&ie.Optional)return null;throw new H(204,!1)};var S1="ngOriginalError";function Lf(t){return t[S1]}var p0=!0,g0=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=A1,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),sp=class extends g0{constructor(e){super(),this._lView=e}onDestroy(e){return zE(this._lView,e),()=>GM(this._lView,e)}};function A1(){return new sp(be())}var To=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ke(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=W({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var ap=class extends ze{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,FM()&&(this.destroyRef=k(g0,{optional:!0})??void 0,this.pendingTasks=k(To,{optional:!0})??void 0)}emit(e){let n=ye(null);try{super.next(e)}finally{ye(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ne&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},ke=ap;function Xu(...t){}function m0(t){let e,n;function r(){t=Xu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function zw(t){return queueMicrotask(()=>t()),()=>{t=Xu}}var Bp="isAngularZone",el=Bp+"_ID",R1=0,we=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ke(!1),this.onMicrotaskEmpty=new ke(!1),this.onStable=new ke(!1),this.onError=new ke(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=p0}=e;if(typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,x1(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Bp)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new H(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,M1,Xu,Xu);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},M1={};function $p(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function N1(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){m0(()=>{t.callbackScheduled=!1,cp(t),t.isCheckStableRunning=!0,$p(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),cp(t)}function x1(t){let e=()=>{N1(t)},n=R1++;t._inner=t._inner.fork({name:"angular",properties:{[Bp]:!0,[el]:n,[el+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(P1(u))return r.invokeTask(o,s,a,u);try{return qw(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Gw(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return qw(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!O1(u)&&e(),Gw(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,cp(t),$p(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function cp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function qw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Gw(t){t._nesting--,$p(t)}var up=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ke,this.onMicrotaskEmpty=new ke,this.onStable=new ke,this.onError=new ke}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function P1(t){return y0(t,"__ignore_ng_zone__")}function O1(t){return y0(t,"__scheduler_tick__")}function y0(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Cn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Lf(e);for(;n&&Lf(n);)n=Lf(n);return n||null}},k1=new B("",{providedIn:"root",factory:()=>{let t=k(we),e=k(Cn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function F1(){return Dl(nt(),be())}function Dl(t,e){return new gr(Ot(t,e))}var gr=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=F1;let t=e;return t})();function v0(t){return(t.flags&128)===128}var _0=new Map,L1=0;function V1(){return L1++}function j1(t){_0.set(t[pl],t)}function lp(t){_0.delete(t[pl])}var Ww="__ngContext__";function dr(t,e){cr(e)?(t[Ww]=e[pl],j1(e)):t[Ww]=e}function I0(t){return E0(t[Js])}function w0(t){return E0(t[Ht])}function E0(t){for(;t!==null&&!Mn(t);)t=t[Ht];return t}var dp;function D0(t){dp=t}function U1(){if(dp!==void 0)return dp;if(typeof document<"u")return document;throw new H(210,!1)}var Hp=new B("",{providedIn:"root",factory:()=>B1}),B1="ng",zp=new B(""),mr=new B("",{providedIn:"platform",factory:()=>"unknown"});var qp=new B("",{providedIn:"root",factory:()=>U1().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var $1="h",H1="b";var z1=()=>null;function Gp(t,e,n=!1){return z1(t,e,n)}var b0=!1,q1=new B("",{providedIn:"root",factory:()=>b0});var xu;function G1(){if(xu===void 0&&(xu=null,zf.trustedTypes))try{xu=zf.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return xu}function Kw(t){return G1()?.createScriptURL(t)||t}var tl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lE})`}};function ia(t){return t instanceof tl?t.changingThisBreaksApplicationSecurity:t}function Wp(t,e){let n=W1(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${lE})`)}return n===e}function W1(t){return t instanceof tl&&t.getTypeName()||null}var K1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function C0(t){return t=String(t),t.match(K1)?t:"unsafe:"+t}var bl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(bl||{});function Q1(t){let e=S0();return e?e.sanitize(bl.URL,t)||"":Wp(t,"URL")?ia(t):C0(dl(t))}function Y1(t){let e=S0();if(e)return Kw(e.sanitize(bl.RESOURCE_URL,t)||"");if(Wp(t,"ResourceURL"))return Kw(ia(t));throw new H(904,!1)}function Z1(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?Y1:Q1}function T0(t,e,n){return Z1(e,n)(t)}function S0(){let t=be();return t&&t[tn].sanitizer}var J1=/^>|^->|<!--|-->|--!>|<!-$/g,X1=/(<|>)/g,eN="\u200B$1\u200B";function tN(t){return t.replace(J1,e=>e.replace(X1,eN))}function A0(t){return t instanceof Function?t():t}var Tn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Tn||{}),nN;function Kp(t,e){return nN(t,e)}function no(t,e,n,r,i){if(r!=null){let o,s=!1;Mn(r)?o=r:cr(r)&&(s=!0,r=r[Rn]);let a=on(r);t===0&&n!==null?i==null?P0(e,n,a):nl(e,n,a,i||null,!0):t===1&&n!==null?nl(e,n,a,i||null,!0):t===2?vN(e,a,s):t===3&&e.destroyNode(a),o!=null&&IN(e,t,o,n,i)}}function rN(t,e){return t.createText(e)}function iN(t,e,n){t.setValue(e,n)}function oN(t,e){return t.createComment(tN(e))}function R0(t,e,n){return t.createElement(e,n)}function sN(t,e){M0(t,e),e[Rn]=null,e[qt]=null}function aN(t,e,n,r,i,o){r[Rn]=i,r[qt]=e,Tl(t,r,n,1,i,o)}function M0(t,e){e[tn].changeDetectionScheduler?.notify(9),Tl(t,e,e[Fe],2,null,null)}function cN(t){let e=t[Js];if(!e)return Vf(t[he],t);for(;e;){let n=null;if(cr(e))n=e[Js];else{let r=e[Nt];r&&(n=r)}if(!n){for(;e&&!e[Ht]&&e!==t;)cr(e)&&Vf(e[he],e),e=e[dt];e===null&&(e=t),cr(e)&&Vf(e[he],e),n=e&&e[Ht]}e=n}}function uN(t,e,n,r){let i=Nt+r,o=n.length;r>0&&(n[i-1][Ht]=e),r<o-Nt?(e[Ht]=n[i],vE(n,Nt+r,e)):(n.push(e),e[Ht]=null),e[dt]=n;let s=e[lo];s!==null&&n!==s&&N0(s,e);let a=e[ho];a!==null&&a.insertView(t),ep(e),e[Y]|=128}function N0(t,e){let n=t[Ku],r=e[dt];if(cr(r))t[Y]|=Qu.HasTransplantedViews;else{let i=r[dt][nn];e[nn]!==i&&(t[Y]|=Qu.HasTransplantedViews)}n===null?t[Ku]=[e]:n.push(e)}function Qp(t,e){let n=t[Ku],r=n.indexOf(e);n.splice(r,1)}function hp(t,e){if(t.length<=Nt)return;let n=Nt+e,r=t[n];if(r){let i=r[lo];i!==null&&i!==t&&Qp(i,r),e>0&&(t[n-1][Ht]=r[Ht]);let o=Hu(t,Nt+e);sN(r[he],r);let s=o[ho];s!==null&&s.detachView(o[he]),r[dt]=null,r[Ht]=null,r[Y]&=-129}return r}function x0(t,e){if(!(e[Y]&256)){let n=e[Fe];n.destroyNode&&Tl(t,e,n,3,null,null),cN(e)}}function Vf(t,e){if(e[Y]&256)return;let n=ye(null);try{e[Y]&=-129,e[Y]|=256,e[Mt]&&df(e[Mt]),dN(t,e),lN(t,e),e[he].type===1&&e[Fe].destroy();let r=e[lo];if(r!==null&&Mn(e[dt])){r!==e[dt]&&Qp(r,e);let i=e[ho];i!==null&&i.detachView(t)}lp(e)}finally{ye(n)}}function lN(t,e){let n=t.cleanup,r=e[Gu];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Gu]=null);let i=e[ar];if(i!==null){e[ar]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function dN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Qr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Jt(4,a,u);try{u.call(a)}finally{Jt(5,a,u)}}else{Jt(4,i,o);try{o.call(i)}finally{Jt(5,i,o)}}}}}function hN(t,e,n){return fN(t,e.parent,n)}function fN(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Rn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===en.None||o===en.Emulated)return null}return Ot(r,n)}}function nl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function P0(t,e,n){t.appendChild(e,n)}function Qw(t,e,n,r,i){r!==null?nl(t,e,n,r,i):P0(t,e,n)}function O0(t,e){return t.parentNode(e)}function pN(t,e){return t.nextSibling(e)}function gN(t,e,n){return yN(t,e,n)}function mN(t,e,n){return t.type&40?Ot(t,n):null}var yN=mN,Yw;function Cl(t,e,n,r){let i=hN(t,r,e),o=e[Fe],s=r.parent||e[qt],a=gN(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Qw(o,i,n[u],a,!1);else Qw(o,i,n,a,!1);Yw!==void 0&&Yw(o,r,e,n,i)}function Gs(t,e){if(e!==null){let n=e.type;if(n&3)return Ot(e,t);if(n&4)return fp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Gs(t,r);{let i=t[e.index];return Mn(i)?fp(-1,i):on(i)}}else{if(n&128)return Gs(t,e.next);if(n&32)return Kp(e,t)()||on(t[e.index]);{let r=k0(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Wr(t[nn]);return Gs(i,r)}else return Gs(t,e.next)}}}return null}function k0(t,e){if(e!==null){let r=t[nn][qt],i=e.projection;return r.projection[i]}return null}function fp(t,e){let n=Nt+t+1;if(n<e.length){let r=e[n],i=r[he].firstChild;if(i!==null)return Gs(r,i)}return e[Gr]}function vN(t,e,n){t.removeChild(null,e,n)}function Yp(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&dr(on(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Yp(t,e,n.child,r,i,o,!1),no(e,t,i,a,o);else if(u&32){let l=Kp(n,r),h;for(;h=l();)no(e,t,i,h,o);no(e,t,i,a,o)}else u&16?_N(t,e,r,n,i,o):no(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Tl(t,e,n,r,i,o){Yp(n,r,t.firstChild,e,i,o,!1)}function _N(t,e,n,r,i,o){let s=n[nn],u=s[qt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];no(e,t,i,h,o)}else{let l=u,h=s[dt];v0(r)&&(l.flags|=128),Yp(t,e,l,h,i,o,!0)}}function IN(t,e,n,r,i){let o=n[Gr],s=on(n);o!==s&&no(e,t,r,o,i);for(let a=Nt;a<n.length;a++){let u=n[a];Tl(u[he],u,t,e,r,o)}}function wN(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Tn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Tn.Important),t.setStyle(n,r,i,o))}}function EN(t,e,n){t.setAttribute(e,"style",n)}function F0(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function L0(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Kf(t,e,r),i!==null&&F0(t,e,i),o!==null&&EN(t,e,o)}var ei={};function ft(t=1){V0(ht(),be(),bo()+t,!1)}function V0(t,e,n,r){if(!r)if((e[Y]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Lu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Vu(e,o,0,n)}Kr(n)}function ae(t,e=ie.Default){let n=be();if(n===null)return oe(t,e);let r=nt();return l0(r,n,ut(t),e)}function j0(t,e,n,r,i,o){let s=ye(null);try{let a=null;i&ur.SignalBased&&(a=e[r][En]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&ur.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):FE(e,a,r,o)}finally{ye(s)}}function DN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Kr(~i);else{let o=i,s=n[++r],a=n[++r];o1(s,o);let u=e[o];a(2,u)}}}finally{Kr(-1)}}function Sl(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Rn]=i,p[Y]=r|4|128|8|64,(l!==null||t&&t[Y]&2048)&&(p[Y]|=2048),$E(p),p[dt]=p[wo]=t,p[zt]=n,p[tn]=s||t&&t[tn],p[Fe]=a||t&&t[Fe],p[uo]=u||t&&t[uo]||null,p[qt]=o,p[pl]=V1(),p[qu]=h,p[OE]=l,p[nn]=e.type==2?t[nn]:p,p}function oa(t,e,n,r,i){let o=t.data[e];if(o===null)o=bN(t,e,n,r,i),i1()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=XM();o.injectorIndex=s===null?-1:s.injectorIndex}return Xr(o,!0),o}function bN(t,e,n,r,i){let o=WE(),s=kp(),a=s?o:o&&o.parent,u=t.data[e]=RN(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function U0(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function B0(t,e,n,r,i){let o=bo(),s=r&2;try{Kr(-1),s&&e.length>rn&&V0(t,e,rn,!1),Jt(s?2:0,i),n(r,i)}finally{Kr(o),Jt(s?3:1,i)}}function Zp(t,e,n){if(Pp(e)){let r=ye(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{ye(r)}}}function Jp(t,e,n){GE()&&(kN(t,e,n,Ot(n,e)),(n.flags&64)===64&&q0(t,e,n))}function Xp(t,e,n=Ot){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function $0(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=eg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function eg(t,e,n,r,i,o,s,a,u,l,h){let p=rn+r,m=p+i,v=CN(p,m),S=typeof l=="function"?l():l;return v[he]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function CN(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ei);return n}function TN(t,e,n,r){let o=r.get(q1,b0)||n===en.ShadowDom,s=t.selectRootElement(e,o);return SN(s),s}function SN(t){AN(t)}var AN=()=>null;function RN(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return YM()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Zw(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=ur.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?Jw(r,n,l,a,u):Jw(r,n,l,a)}return r}function Jw(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function MN(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],m=n?n.get(p):null,v=m?m.inputs:null,S=m?m.outputs:null;u=Zw(0,p.inputs,h,u,v),l=Zw(1,p.outputs,h,l,S);let N=u!==null&&s!==null&&!Mp(e)?GN(u,h,s):null;a.push(N)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function NN(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function H0(t,e,n,r,i,o,s,a){let u=Ot(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(ng(t,n,h,r,i),gl(e)&&xN(n,e.index)):e.type&3?(r=NN(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function xN(t,e){let n=pr(e,t);n[Y]&16||(n[Y]|=64)}function tg(t,e,n,r){if(GE()){let i=r===null?null:{"":-1},o=LN(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&z0(t,e,n,s,i,a),i&&VN(n,r,i)}n.mergedAttrs=Ys(n.mergedAttrs,n.attrs)}function z0(t,e,n,r,i,o){for(let l=0;l<r.length;l++)ip(Ju(n,e),t,r[l].type);UN(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=U0(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=Ys(n.mergedAttrs,h.hostAttrs),BN(t,n,e,u,h),jN(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}MN(t,n,o)}function PN(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;ON(s)!=a&&s.push(a),s.push(n,r,o)}}function ON(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function kN(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;gl(n)&&$N(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Ju(n,e),dr(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],l=po(e,t,a,n);if(dr(l,e),s!==null&&qN(e,a-i,l,u,n,s),lr(u)){let h=pr(n.index,e);h[zt]=po(e,t,a,n)}}}function q0(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=s1();try{Kr(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];tp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&FN(u,l)}}finally{Kr(-1),tp(s)}}function FN(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function LN(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(mM(e,s.selectors,!1))if(r||(r=[]),lr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;pp(t,e,u)}else r.unshift(s),pp(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function pp(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function VN(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new H(-301,!1);r.push(e[i],o)}}}function jN(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;lr(e)&&(n[""]=t)}}function UN(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function BN(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=oo(i.type,!0)),s=new Qr(o,lr(i),ae);t.blueprint[r]=s,n[r]=s,PN(t,e,r,U0(t,n,i.hostVars,ei),i)}function $N(t,e,n){let r=Ot(e,t),i=$0(n),o=t[tn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Al(t,Sl(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function HN(t,e,n,r,i,o){let s=Ot(t,e);zN(e[Fe],s,o,t.value,n,r,i)}function zN(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?dl(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function qN(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];j0(r,n,u,l,h,p)}}function GN(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function G0(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function W0(t,e){let n=t.contentQueries;if(n!==null){let r=ye(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];YE(o),a.contentQueries(2,e[s],s)}}}finally{ye(r)}}}function Al(t,e){return t[Js]?t[Fw][Ht]=e:t[Js]=e,t[Fw]=e,e}function gp(t,e,n){YE(0);let r=ye(null);try{e(t,n)}finally{ye(r)}}function WN(t){return t[Gu]??=[]}function KN(t){return t.cleanup??=[]}function K0(t,e){let n=t[uo],r=n?n.get(Cn,null):null;r&&r.handleError(e)}function ng(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],l=e[s],h=t.data[s];j0(h,l,r,a,u,i)}}function QN(t,e,n){let r=UE(e,t);iN(t[Fe],r,n)}function YN(t,e){let n=pr(e,t),r=n[he];ZN(r,n);let i=n[Rn];i!==null&&n[qu]===null&&(n[qu]=Gp(i,n[uo])),rg(r,n,n[zt])}function ZN(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function rg(t,e,n){Fp(e);try{let r=t.viewQuery;r!==null&&gp(1,r,n);let i=t.template;i!==null&&B0(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ho]?.finishViewCreation(t),t.staticContentQueries&&W0(t,e),t.staticViewQueries&&gp(2,t.viewQuery,n);let o=t.components;o!==null&&JN(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Y]&=-5,Lp()}}function JN(t,e){for(let n=0;n<e.length;n++)YN(t,e[n])}function XN(t,e,n,r){let i=ye(null);try{let o=e.tView,a=t[Y]&4096?4096:16,u=Sl(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[lo]=l;let h=t[ho];return h!==null&&(u[ho]=h.createEmbeddedView(o)),rg(o,u,n),u}finally{ye(i)}}function Xw(t,e){return!e||e.firstChild===null||v0(t)}function ex(t,e,n,r=!0){let i=e[he];if(uN(i,e,t,n),r){let s=fp(n,t),a=e[Fe],u=O0(a,t[Gr]);u!==null&&aN(i,t[qt],a,e,u,s)}let o=e[qu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function rl(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(on(o)),Mn(o)&&tx(o,r);let s=n.type;if(s&8)rl(t,e,n.child,r);else if(s&32){let a=Kp(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=k0(e,n);if(Array.isArray(a))r.push(...a);else{let u=Wr(e[nn]);rl(u[he],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function tx(t,e){for(let n=Nt;n<t.length;n++){let r=t[n],i=r[he].firstChild;i!==null&&rl(r[he],r,i,e)}t[Gr]!==t[Rn]&&e.push(t[Gr])}var Q0=[];function nx(t){return t[Mt]??rx(t)}function rx(t){let e=Q0.pop()??Object.create(ox);return e.lView=t,e}function ix(t){t.lView[Mt]!==t&&(t.lView=null,Q0.push(t))}var ox=ue(O({},$s),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{vl(t.lView)},consumerOnSignalRead(){this.lView[Mt]=this}});function sx(t){let e=t[Mt]??Object.create(ax);return e.lView=t,e}var ax=ue(O({},$s),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Wr(t.lView);for(;e&&!Y0(e[he]);)e=Wr(e);e&&HE(e)},consumerOnSignalRead(){this.lView[Mt]=this}});function Y0(t){return t.type!==2}var cx=100;function Z0(t,e=!0,n=0){let r=t[tn],i=r.rendererFactory,o=!1;o||i.begin?.();try{ux(t,n)}catch(s){throw e&&K0(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function ux(t,e){let n=QE();try{Vw(!0),mp(t,e);let r=0;for(;yl(t);){if(r===cx)throw new H(103,!1);r++,mp(t,1)}}finally{Vw(n)}}function lx(t,e,n,r){let i=e[Y];if((i&256)===256)return;let o=!1,s=!1;!o&&e[tn].inlineEffectRunner?.flush(),Fp(e);let a=!0,u=null,l=null;o||(Y0(t)?(l=nx(e),u=eu(l)):$I()===null?(a=!1,l=sx(e),u=eu(l)):e[Mt]&&(df(e[Mt]),e[Mt]=null));try{$E(e),n1(t.bindingStartIndex),n!==null&&B0(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let v=t.preOrderCheckHooks;v!==null&&Lu(e,v,null)}else{let v=t.preOrderHooks;v!==null&&Vu(e,v,0,null),Of(e,0)}if(s||dx(e),J0(e,0),t.contentQueries!==null&&W0(t,e),!o)if(h){let v=t.contentCheckHooks;v!==null&&Lu(e,v)}else{let v=t.contentHooks;v!==null&&Vu(e,v,1),Of(e,1)}DN(t,e);let p=t.components;p!==null&&eD(e,p,0);let m=t.viewQuery;if(m!==null&&gp(2,m,r),!o)if(h){let v=t.viewCheckHooks;v!==null&&Lu(e,v)}else{let v=t.viewHooks;v!==null&&Vu(e,v,2),Of(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Pf]){for(let v of e[Pf])v();e[Pf]=null}o||(e[Y]&=-73)}catch(h){throw o||vl(e),h}finally{l!==null&&(uf(l,u),a&&ix(l)),Lp()}}function J0(t,e){for(let n=I0(t);n!==null;n=w0(n))for(let r=Nt;r<n.length;r++){let i=n[r];X0(i,e)}}function dx(t){for(let e=I0(t);e!==null;e=w0(e)){if(!(e[Y]&Qu.HasTransplantedViews))continue;let n=e[Ku];for(let r=0;r<n.length;r++){let i=n[r];HE(i)}}}function hx(t,e,n){let r=pr(e,t);X0(r,n)}function X0(t,e){Op(t)&&mp(t,e)}function mp(t,e){let r=t[he],i=t[Y],o=t[Mt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&lf(o)),s||=!1,o&&(o.dirty=!1),t[Y]&=-9217,s)lx(r,t,r.template,t[zt]);else if(i&8192){J0(t,1);let a=r.components;a!==null&&eD(t,a,1)}}function eD(t,e,n){for(let r=0;r<e.length;r++)hx(t,e[r],n)}function ig(t,e){let n=QE()?64:1088;for(t[tn].changeDetectionScheduler?.notify(e);t;){t[Y]|=n;let r=Wr(t);if(Jf(t)&&!r)return t;t=r}return null}var Yr=class{get rootNodes(){let e=this._lView,n=e[he];return rl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[zt]}set context(e){this._lView[zt]=e}get destroyed(){return(this._lView[Y]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[dt];if(Mn(e)){let n=e[Wu],r=n?n.indexOf(this):-1;r>-1&&(hp(e,r),Hu(n,r))}this._attachedToViewContainer=!1}x0(this._lView[he],this._lView)}onDestroy(e){zE(this._lView,e)}markForCheck(){ig(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Y]&=-129}reattach(){ep(this._lView),this._lView[Y]|=128}detectChanges(){this._lView[Y]|=1024,Z0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Jf(this._lView),n=this._lView[lo];n!==null&&!e&&Qp(n,this._lView),M0(this._lView[he],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=e;let n=Jf(this._lView),r=this._lView[lo];r!==null&&!n&&N0(r,this._lView),ep(this._lView)}},og=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=gx;let t=e;return t})(),fx=og,px=class extends fx{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=XN(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Yr(i)}};function gx(){return tD(nt(),be())}function tD(t,e){return t.type&4?new px(e,t,Dl(t,e)):null}var mz=new RegExp(`^(\\d+)*(${H1}|${$1})*(.*)`);var mx=()=>null;function eE(t,e){return mx(t,e)}var go=class{},sg=new B("",{providedIn:"root",factory:()=>!1});var nD=new B(""),rD=new B(""),yp=class{},il=class{};function yx(t){let e=Error(`No component factory found for ${lt(t)}.`);return e[vx]=t,e}var vx="ngComponent";var vp=class{resolveComponentFactory(e){throw yx(e)}},pg=class pg{};pg.NULL=new vp;var mo=pg,yo=class{},ti=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>_x();let t=e;return t})();function _x(){let t=be(),e=nt(),n=pr(e.index,t);return(cr(n)?n:t)[Fe]}var Ix=(()=>{let e=class e{};e.\u0275prov=W({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function ol(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Tw(i,a);else if(o==2){let u=a,l=e[++s];r=Tw(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var sl=class extends mo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=qr(e);return new Xs(n,this.ngModule)}};function tE(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:ur.None;e?n.push({propName:s,templateName:r,isSignal:(a&ur.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function wx(t){let e=t.toLowerCase();return e==="svg"?BM:e==="math"?$M:null}var Xs=class extends il{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=tE(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return tE(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=IM(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=ye(null);try{i=i||this.ngModule;let s=i instanceof xt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new np(e,s):e,u=a.get(yo,null);if(u===null)throw new H(407,!1);let l=a.get(Ix,null),h=a.get(go,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},m=u.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",S=r?TN(m,r,this.componentDef.encapsulation,a):R0(m,v,wx(v)),N=512;this.componentDef.signals?N|=4096:this.componentDef.onPush||(N|=16);let R=null;S!==null&&(R=Gp(S,a,!0));let F=eg(0,null,null,1,0,null,null,null,null,null,null),$=Sl(null,F,null,N,null,null,p,m,a,null,R);Fp($);let G,ce,Re=null;try{let J=this.componentDef,D,y=null;J.findHostDirectiveDefs?(D=[],y=new Map,J.findHostDirectiveDefs(J,D,y),D.push(J)):D=[J];let _=Ex($,S);Re=Dx(_,S,J,D,$,p,m),ce=BE(F,rn),S&&Tx(m,J,S,r),n!==void 0&&Sx(ce,this.ngContentSelectors,n),G=Cx(Re,J,D,y,$,[Ax]),rg(F,$,null)}catch(J){throw Re!==null&&lp(Re),lp($),J}finally{Lp()}return new _p(this.componentType,G,Dl(ce,$),$,ce)}finally{ye(o)}}},_p=class extends yp{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Yr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;ng(o[he],o,i,e,n),this.previousInputValues.set(e,n);let s=pr(this._tNode.index,o);ig(s,1)}}get injector(){return new zr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Ex(t,e){let n=t[he],r=rn;return t[r]=e,oa(n,r,2,"#host",null)}function Dx(t,e,n,r,i,o,s){let a=i[he];bx(r,t,e,s);let u=null;e!==null&&(u=Gp(e,i[uo]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=Sl(i,$0(n),null,h,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&pp(a,t,r.length-1),Al(i,p),i[t.index]=p}function bx(t,e,n,r){for(let i of t)e.mergedAttrs=Ys(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(ol(e,e.mergedAttrs,!0),n!==null&&L0(r,n,e))}function Cx(t,e,n,r,i,o){let s=nt(),a=i[he],u=Ot(s,i);z0(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,m=po(i,a,p,s);dr(m,i)}q0(a,i,s),u&&dr(u,i);let l=po(i,a,s.directiveStart+s.componentOffset,s);if(t[zt]=i[zt]=l,o!==null)for(let h of o)h(l,e);return Zp(a,s,i),l}function Tx(t,e,n,r){if(r)Kf(t,n,["ng-version","18.2.3"]);else{let{attrs:i,classes:o}=wM(e.selectors[0]);i&&Kf(t,n,i),o&&o.length>0&&F0(t,n,o.join(" "))}}function Sx(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function Ax(){let t=nt();El(be()[he],t)}var sa=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Rx;let t=e;return t})();function Rx(){let t=nt();return Nx(t,be())}var Mx=sa,iD=class extends Mx{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Dl(this._hostTNode,this._hostLView)}get injector(){return new zr(this._hostTNode,this._hostLView)}get parentInjector(){let e=jp(this._hostTNode,this._hostLView);if(i0(e)){let n=Zu(e,this._hostLView),r=Yu(e),i=n[he].data[r+8];return new zr(i,n)}else return new zr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=nE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Nt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=eE(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Xw(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!LM(e),a;if(s)a=n;else{let S=n||{};a=S.index,r=S.injector,i=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef}let u=s?e:new Xs(qr(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let N=(s?l:this.parentInjector).get(xt,null);N&&(o=N)}let h=qr(u.componentType??{}),p=eE(this._lContainer,h?.id??null),m=p?.firstChild??null,v=u.create(l,i,m,o);return this.insertImpl(v.hostView,a,Xw(this._hostTNode,p)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(zM(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[dt],l=new iD(u,u[qt],u[dt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return ex(s,i,o,r),e.attachToViewContainerRef(),vE(jf(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=nE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=hp(this._lContainer,n);r&&(Hu(jf(this._lContainer),n),x0(r[he],r))}detach(e){let n=this._adjustIndex(e,-1),r=hp(this._lContainer,n);return r&&Hu(jf(this._lContainer),n)!=null?new Yr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function nE(t){return t[Wu]}function jf(t){return t[Wu]||(t[Wu]=[])}function Nx(t,e){let n,r=e[t.index];return Mn(r)?n=r:(n=G0(r,e,null,t),e[t.index]=n,Al(e,n)),Px(n,e,t,r),new iD(n,t,e)}function xx(t,e){let n=t[Fe],r=n.createComment(""),i=Ot(e,t),o=O0(n,i);return nl(n,o,r,pN(n,i),!1),r}var Px=Fx,Ox=()=>!1;function kx(t,e,n){return Ox(t,e,n)}function Fx(t,e,n,r){if(t[Gr])return;let i;n.type&8?i=on(r):i=xx(e,n),t[Gr]=i}var rE=new Set;function aa(t){rE.has(t)||(rE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Lx(t){return typeof t=="function"&&t[En]!==void 0}function ca(t,e){aa("NgSignals");let n=XI(t),r=n[En];return e?.equal&&(r.equal=e.equal),n.set=i=>hf(r,i),n.update=i=>ew(r,i),n.asReadonly=Vx.bind(n),n}function Vx(){let t=this[En];if(t.readonlyFn===void 0){let e=()=>this();e[En]=t,t.readonlyFn=e}return t.readonlyFn}function oD(t){return Lx(t)&&typeof t.set=="function"}function jx(t){return Object.getPrototypeOf(t.prototype).constructor}function Nn(t){let e=jx(t.type),n=!0,r=[t];for(;e;){let i;if(lr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new H(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Pu(t.inputs),s.inputTransforms=Pu(t.inputTransforms),s.declaredInputs=Pu(t.declaredInputs),s.outputs=Pu(t.outputs);let a=i.hostBindings;a&&zx(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&$x(t,u),l&&Hx(t,l),Ux(t,i),BR(t.outputs,i.outputs),lr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Nn&&(n=!1)}}e=Object.getPrototypeOf(e)}Bx(r)}function Ux(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function Bx(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ys(i.hostAttrs,n=Ys(n,i.hostAttrs))}}function Pu(t){return t===so?{}:t===Rt?[]:t}function $x(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function Hx(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function zx(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function ag(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var hr=class{},ea=class{};var Ip=class extends hr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new sl(this);let o=SE(e);this._bootstrapComponents=A0(o.bootstrap),this._r3Injector=f0(e,n,[{provide:hr,useValue:this},{provide:mo,useValue:this.componentFactoryResolver},...r],lt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},wp=class extends ea{constructor(e){super(),this.moduleType=e}create(e){return new Ip(this.moduleType,e,[])}};var al=class extends hr{constructor(e){super(),this.componentFactoryResolver=new sl(this),this.instance=null;let n=new Zs([...e.providers,{provide:hr,useValue:this},{provide:mo,useValue:this.componentFactoryResolver}],e.parent||xp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function cg(t,e,n=null){return new al({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function qx(t,e,n){return t[e]=n}function Gx(t,e){return t[e]}function ua(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Wx(t){return(t.flags&32)===32}function Kx(t,e,n,r,i,o,s,a,u){let l=e.consts,h=oa(e,t,4,s||null,a||null);tg(e,n,h,fo(l,u)),El(e,h);let p=h.tView=eg(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function Qx(t,e,n,r,i,o,s,a,u,l){let h=n+rn,p=e.firstCreatePass?Kx(h,e,t,r,i,o,s,a,u):e.data[h];Xr(p,!1);let m=Yx(e,t,p,n);Il()&&Cl(e,t,m,p),dr(m,t);let v=G0(m,t,m,p);return t[h]=v,Al(t,v),kx(v,p,t),ml(p)&&Jp(e,t,p),u!=null&&Xp(t,p,l),p}function la(t,e,n,r,i,o,s,a){let u=be(),l=ht(),h=fo(l.consts,o);return Qx(u,l,t,e,n,r,i,h,s,a),la}var Yx=Zx;function Zx(t,e,n,r){return wl(!0),e[Fe].createComment("")}var Ws=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ws||{}),Jx=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=W({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),Hr=class Hr{constructor(){this.ngZone=k(we),this.scheduler=k(go),this.errorHandler=k(Cn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of Hr.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};Hr.PHASES=[Ws.EarlyRead,Ws.Write,Ws.MixedReadWrite,Ws.Read],Hr.\u0275prov=W({token:Hr,providedIn:"root",factory:()=>new Hr});var iE=Hr;function da(t,e,n,r){let i=be(),o=_l();if(ua(i,o,e)){let s=ht(),a=Vp();HN(a,i,t,e,n,r)}return da}function Xx(t,e,n,r){return ua(t,_l(),n)?e+dl(n)+r:ei}function Ou(t,e){return t<<17|e<<2}function Zr(t){return t>>17&32767}function eP(t){return(t&2)==2}function tP(t,e){return t&131071|e<<17}function Ep(t){return t|2}function vo(t){return(t&131068)>>2}function Uf(t,e){return t&-131069|e<<2}function nP(t){return(t&1)===1}function Dp(t){return t|1}function rP(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Zr(s),u=vo(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||ra(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=Zr(t[a+1]);t[r+1]=Ou(m,a),m!==0&&(t[m+1]=Uf(t[m+1],r)),t[a+1]=tP(t[a+1],r)}else t[r+1]=Ou(a,0),a!==0&&(t[a+1]=Uf(t[a+1],r)),a=r;else t[r+1]=Ou(u,0),a===0?a=r:t[u+1]=Uf(t[u+1],r),u=r;l&&(t[r+1]=Ep(t[r+1])),oE(t,h,r,!0),oE(t,h,r,!1),iP(e,h,t,r,o),s=Ou(a,u),o?e.classBindings=s:e.styleBindings=s}function iP(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&ra(o,e)>=0&&(n[r+1]=Dp(n[r+1]))}function oE(t,e,n,r){let i=t[n+1],o=e===null,s=r?Zr(i):vo(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];oP(u,e)&&(a=!0,t[s+1]=r?Dp(l):Ep(l)),s=r?Zr(l):vo(l)}a&&(t[n+1]=r?Ep(i):Dp(i))}function oP(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ra(t,e)>=0:!1}function an(t,e,n){let r=be(),i=_l();if(ua(r,i,e)){let o=ht(),s=Vp();H0(o,s,r,t,e,r[Fe],n,!1)}return an}function sE(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";ng(t,n,o[s],s,r)}function Rl(t,e){return sP(t,e,null,!0),Rl}function sP(t,e,n,r){let i=be(),o=ht(),s=r1(2);if(o.firstUpdatePass&&cP(o,t,s,r),e!==ei&&ua(i,s,e)){let a=o.data[bo()];fP(o,a,i,i[Fe],t,i[s+1]=pP(e,n),r,s)}}function aP(t,e){return e>=t.expandoStartIndex}function cP(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[bo()],s=aP(t,n);gP(o,r)&&e===null&&!s&&(e=!1),e=uP(i,o,e,r),rP(i,o,e,n,s,r)}}function uP(t,e,n,r){let i=a1(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Bf(null,t,e,n,r),n=ta(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Bf(i,t,e,n,r),o===null){let u=lP(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Bf(null,t,e,u[1],r),u=ta(u,e.attrs,r),dP(t,e,r,u))}else o=hP(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function lP(t,e,n){let r=n?e.classBindings:e.styleBindings;if(vo(r)!==0)return t[Zr(r)]}function dP(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Zr(i)]=r}function hP(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=ta(r,s,n)}return ta(r,e.attrs,n)}function Bf(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=ta(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ta(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),cM(t,s,n?!0:e[++o]))}return t===void 0?null:t}function fP(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=nP(l)?aE(u,e,n,i,vo(l),s):void 0;if(!cl(h)){cl(o)||eP(l)&&(o=aE(u,null,n,i,a,s));let p=UE(bo(),n);wN(r,s,p,i,o)}}function aE(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===ei&&(m=p?Rt:void 0);let v=p?Nf(m,r):h===r?m:void 0;if(l&&!cl(v)&&(v=Nf(u,r)),cl(v)&&(a=v,s))return a;let S=t[i+1];i=s?Zr(S):vo(S)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Nf(u,r))}return a}function cl(t){return t!==void 0}function pP(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=lt(ia(t)))),t}function gP(t,e){return(t.flags&(e?8:16))!==0}function mP(t,e,n,r,i,o){let s=e.consts,a=fo(s,i),u=oa(e,t,2,r,a);return tg(e,n,u,fo(s,o)),u.attrs!==null&&ol(u,u.attrs,!1),u.mergedAttrs!==null&&ol(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function q(t,e,n,r){let i=be(),o=ht(),s=rn+t,a=i[Fe],u=o.firstCreatePass?mP(s,o,i,e,n,r):o.data[s],l=yP(o,i,u,a,e,t);i[s]=l;let h=ml(u);return Xr(u,!0),L0(a,l,u),!Wx(u)&&Il()&&Cl(o,i,l,u),WM()===0&&dr(l,i),KM(),h&&(Jp(o,i,u),Zp(o,u,i)),r!==null&&Xp(i,u),q}function V(){let t=nt();kp()?KE():(t=t.parent,Xr(t,!1));let e=t;ZM(e)&&JM(),QM();let n=ht();return n.firstCreatePass&&(El(n,t),Pp(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&p1(e)&&sE(n,e,be(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&g1(e)&&sE(n,e,be(),e.stylesWithoutHost,!1),V}function ni(t,e,n,r){return q(t,e,n,r),V(),ni}var yP=(t,e,n,r,i,o)=>(wl(!0),R0(r,i,l1()));function vP(t,e,n,r,i){let o=e.consts,s=fo(o,r),a=oa(e,t,8,"ng-container",s);s!==null&&ol(a,s,!0);let u=fo(o,i);return tg(e,n,a,u),e.queries!==null&&e.queries.elementStart(e,a),a}function ug(t,e,n){let r=be(),i=ht(),o=t+rn,s=i.firstCreatePass?vP(o,i,r,e,n):i.data[o];Xr(s,!0);let a=_P(i,r,s,t);return r[o]=a,Il()&&Cl(i,r,a,s),dr(a,r),ml(s)&&(Jp(i,r,s),Zp(i,s,r)),n!=null&&Xp(r,s),ug}function lg(){let t=nt(),e=ht();return kp()?KE():(t=t.parent,Xr(t,!1)),e.firstCreatePass&&(El(e,t),Pp(t)&&e.queries.elementEnd(t)),lg}var _P=(t,e,n,r)=>(wl(!0),oN(e[Fe],""));function Ml(){return be()}var ul="en-US";var IP=ul;function wP(t){typeof t=="string"&&(IP=t.toLowerCase().replace(/_/g,"-"))}var EP=(t,e,n)=>{};function yt(t,e,n,r){let i=be(),o=ht(),s=nt();return sD(o,i,i[Fe],s,t,e,r),yt}function DP(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Gu],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function sD(t,e,n,r,i,o,s){let a=ml(r),l=t.firstCreatePass&&KN(t),h=e[zt],p=WN(e),m=!0;if(r.type&3||s){let N=Ot(r,e),R=s?s(N):N,F=p.length,$=s?ce=>s(on(ce[r.index])):r.index,G=null;if(!s&&a&&(G=DP(t,e,i,r.index)),G!==null){let ce=G.__ngLastListenerFn__||G;ce.__ngNextListenerFn__=o,G.__ngLastListenerFn__=o,m=!1}else{o=uE(r,e,h,o),EP(N,i,o);let ce=n.listen(R,i,o);p.push(o,ce),l&&l.push(i,$,F,F+1)}}else o=uE(r,e,h,o);let v=r.outputs,S;if(m&&v!==null&&(S=v[i])){let N=S.length;if(N)for(let R=0;R<N;R+=2){let F=S[R],$=S[R+1],Re=e[F][$].subscribe(o),J=p.length;p.push(o,Re),l&&l.push(i,r.index,J,-(J+1))}}}function cE(t,e,n,r){let i=ye(null);try{return Jt(6,e,n),n(r)!==!1}catch(o){return K0(t,o),!1}finally{Jt(7,e,n),ye(i)}}function uE(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?pr(t.index,e):e;ig(s,5);let a=cE(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)a=cE(e,n,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function Nl(t=1){return u1(t)}function ha(t){let e=e1();return HM(e,rn+t)}function U(t,e=""){let n=be(),r=ht(),i=t+rn,o=r.firstCreatePass?oa(r,i,1,e,null):r.data[i],s=bP(r,n,o,e,t);n[i]=s,Il()&&Cl(r,n,s,o),Xr(o,!1)}var bP=(t,e,n,r,i)=>(wl(!0),rN(e[Fe],r));function fa(t){return aD("",t,""),fa}function aD(t,e,n){let r=be(),i=Xx(r,t,e,n);return i!==ei&&QN(r,bo(),i),aD}function ri(t,e,n){oD(e)&&(e=e());let r=be(),i=_l();if(ua(r,i,e)){let o=ht(),s=Vp();H0(o,s,r,t,e,r[Fe],n,!1)}return ri}function So(t,e){let n=oD(t);return n&&t.set(e),n}function ii(t,e){let n=be(),r=ht(),i=nt();return sD(r,n,n[Fe],i,t,e),ii}function CP(t,e,n){let r=ht();if(r.firstCreatePass){let i=lr(t);bp(n,r.data,r.blueprint,i,!0),bp(e,r.data,r.blueprint,i,!1)}}function bp(t,e,n,r,i){if(t=ut(t),Array.isArray(t))for(let o=0;o<t.length;o++)bp(t[o],e,n,r,i);else{let o=ht(),s=be(),a=nt(),u=co(t)?t:ut(t.provide),l=PE(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(co(t)||!t.multi){let v=new Qr(l,i,ae),S=Hf(u,e,i?h:h+m,p);S===-1?(ip(Ju(a,s),o,u),$f(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),s.push(v)):(n[S]=v,s[S]=v)}else{let v=Hf(u,e,h+m,p),S=Hf(u,e,h,h+m),N=v>=0&&n[v],R=S>=0&&n[S];if(i&&!R||!i&&!N){ip(Ju(a,s),o,u);let F=AP(i?SP:TP,n.length,i,r,l);!i&&R&&(n[S].providerFactory=F),$f(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(F),s.push(F)}else{let F=cD(n[i?S:v],l,!i&&r);$f(o,t,v>-1?v:S,F)}!i&&r&&R&&n[S].componentProviders++}}}function $f(t,e,n,r){let i=co(e),o=RM(e);if(i||o){let u=(o?ut(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function cD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Hf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function TP(t,e,n,r){return Cp(this.multi,[])}function SP(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=po(n,n[he],this.providerFactory.index,r);o=a.slice(0,s),Cp(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Cp(i,o);return o}function Cp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function AP(t,e,n,r,i){let o=new Qr(t,n,ae);return o.multi=[],o.index=e,o.componentProviders=0,cD(o,i,r&&!n),o}function pa(t,e=[]){return n=>{n.providersResolver=(r,i)=>CP(r,i?i(t):t,e)}}var RP=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=ME(!1,r.type),o=i.length>0?cg([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=W({token:e,providedIn:"environment",factory:()=>new e(oe(xt))});let t=e;return t})();function kt(t){aa("NgStandalone"),t.getStandaloneInjector=e=>e.get(RP).getOrCreateStandaloneInjector(t)}function ga(t,e,n){let r=t1()+t,i=be();return i[r]===ei?qx(i,r,n?e.call(n):e()):Gx(i,r)}function uD(t,e){return tD(t,e)}var Sn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},lD=new Sn("18.2.3");var xl=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var dD=new B("");function oi(t){return!!t&&typeof t.then=="function"}function hD(t){return!!t&&typeof t.subscribe=="function"}var fD=new B(""),pD=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=k(fD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(oi(s))r.push(s);else if(hD(s)){let a=new Promise((u,l)=>{s.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),dg=new B("");function MP(){JI(()=>{throw new H(600,!1)})}function NP(t){return t.isBoundToModule}var xP=10;function PP(t,e,n){try{let r=n();return oi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var si=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(k1),this.afterRenderManager=k(Jx),this.zonelessEnabled=k(sg),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new ze,this.afterTick=new ze,this.componentTypes=[],this.components=[],this.isStable=k(To).hasPendingTasks.pipe(re(r=>!r)),this._injector=k(xt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:o=>{o&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof il;if(!this._injector.get(pD).done){let v=!o&&TE(r),S=!1;throw new H(405,S)}let a;o?a=r:a=this._injector.get(mo).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=NP(a)?void 0:this._injector.get(hr),l=i||a.selector,h=a.create(gt.NULL,[],l,u),p=h.location.nativeElement,m=h.injector.get(dD,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),ju(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new H(101,!1);let r=ye(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,ye(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(yo,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<xP;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:o,notifyErrorHandler:s}of this._views)OP(o,s,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>yl(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;ju(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(dg,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>ju(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new H(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ju(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function OP(t,e,n,r){if(!n&&!yl(t))return;Z0(t,e,n&&!r?0:1)}var Tp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},hg=(()=>{let e=class e{compileModuleSync(r){return new wp(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=SE(r),s=A0(o.declarations).reduce((a,u)=>{let l=qr(u);return l&&a.push(new Xs(l)),a},[]);return new Tp(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var kP=(()=>{let e=class e{constructor(){this.zone=k(we),this.changeDetectionScheduler=k(go),this.applicationRef=k(si)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),FP=new B("",{factory:()=>!1});function gD({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new we(ue(O({},yD()),{scheduleInRootZone:n})),[{provide:we,useFactory:t},{provide:ao,multi:!0,useFactory:()=>{let r=k(kP,{optional:!0});return()=>r.initialize()}},{provide:ao,multi:!0,useFactory:()=>{let r=k(LP);return()=>{r.initialize()}}},e===!0?{provide:nD,useValue:!0}:[],{provide:rD,useValue:n??p0}]}function mD(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=gD({ngZoneFactory:()=>{let i=yD(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&aa("NgZone_CoalesceEvent"),new we(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return sn([{provide:FP,useValue:!0},{provide:sg,useValue:!1},r])}function yD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var LP=(()=>{let e=class e{constructor(){this.subscription=new Ne,this.initialized=!1,this.zone=k(we),this.pendingTasks=k(To)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var VP=(()=>{let e=class e{constructor(){this.appRef=k(si),this.taskService=k(To),this.ngZone=k(we),this.zonelessEnabled=k(sg),this.disableScheduling=k(nD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ne,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(el):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(k(rD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof up||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?zw:m0;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(el+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,zw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jP(){return typeof $localize<"u"&&$localize.locale||ul}var fg=new B("",{providedIn:"root",factory:()=>k(fg,ie.Optional|ie.SkipSelf)||jP()});var vD=new B("");function ku(t){return!!t.platformInjector}function UP(t){let e=ku(t)?t.r3Injector:t.moduleRef.injector,n=e.get(we);return n.run(()=>{ku(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Cn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),ku(t)){let o=()=>e.destroy(),s=t.platformInjector.get(vD);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else t.moduleRef.onDestroy(()=>{ju(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return PP(r,n,()=>{let o=e.get(pD);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(fg,ul);if(wP(s||ul),ku(t)){let a=e.get(si);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return BP(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function BP(t,e){let n=t.injector.get(si);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new H(-403,!1);e.push(t)}var Uu=null;function $P(t=[],e){return gt.create({name:e,providers:[{provide:fl,useValue:"platform"},{provide:vD,useValue:new Set([()=>Uu=null])},...t]})}function HP(t=[]){if(Uu)return Uu;let e=$P(t);return Uu=e,MP(),zP(e),e}function zP(t){t.get(zp,null)?.forEach(n=>n())}var ai=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=qP;let t=e;return t})();function qP(t){return GP(nt(),be(),(t&16)===16)}function GP(t,e,n){if(gl(t)&&!n){let r=pr(t.index,e);return new Yr(r,r)}else if(t.type&175){let r=e[nn];return new Yr(r,e)}return null}function _D(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=HP(r),o=[gD({}),{provide:go,useExisting:VP},...n||[]],s=new al({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return UP({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var ID=new B("");function yr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function ma(t,e){aa("NgSignals");let n=QI(t);return e?.equal&&(n[En].equal=e.equal),n}function xn(t){let e=ye(null);try{return t()}finally{ye(e)}}var bD=null;function Pn(){return bD}function CD(t){bD??=t}var Pl=class{};var wt=new B(""),TD=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>k(WP),providedIn:"platform"});let t=e;return t})();var WP=(()=>{let e=class e extends TD{constructor(){super(),this._doc=k(wt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pn().getBaseHref(this._doc)}onPopState(r){let i=Pn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Pn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function SD(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function wD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function ci(t){return t&&t[0]!=="?"?"?"+t:t}var Ao=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>k(AD),providedIn:"root"});let t=e;return t})(),KP=new B(""),AD=(()=>{let e=class e extends Ao{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??k(wt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return SD(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+ci(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+ci(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+ci(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(oe(TD),oe(KP,8))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ya=(()=>{let e=class e{constructor(r){this._subject=new ke,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=ZP(wD(ED(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+ci(i))}normalize(r){return e.stripTrailingSlash(YP(this._basePath,ED(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ci(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ci(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=ci,e.joinWithSlash=SD,e.stripTrailingSlash=wD,e.\u0275fac=function(i){return new(i||e)(oe(Ao))},e.\u0275prov=W({token:e,factory:()=>QP(),providedIn:"root"});let t=e;return t})();function QP(){return new ya(oe(Ao))}function YP(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function ED(t){return t.replace(/\/index.html$/,"")}function ZP(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function RD(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var kl=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new gg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){DD("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){DD("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(ae(sa),ae(og))},e.\u0275dir=tt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),gg=class{constructor(){this.$implicit=null,this.ngIf=null}};function DD(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${lt(e)}'.`)}var MD="browser",JP="server";function mg(t){return t===JP}var Ol=class{};var _g=class extends Pl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Ig=class t extends _g{static makeCurrent(){CD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=eO();return n==null?null:tO(n)}resetBaseElement(){va=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return RD(document.cookie,e)}},va=null;function eO(){return va=va||document.querySelector("base"),va?va.getAttribute("href"):null}function tO(t){return new URL(t,document.baseURI).pathname}var nO=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),Fl=new B(""),OD=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new H(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(oe(Fl),oe(we))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),_a=class{constructor(e){this._doc=e}},yg="ng-app-id",kD=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=mg(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${yg}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(yg),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(yg,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(oe(wt),oe(Hp),oe(qp,8),oe(mr))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),vg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Eg=/%COMP%/g,FD="%COMP%",rO=`_nghost-${FD}`,iO=`_ngcontent-${FD}`,oO=!0,sO=new B("",{providedIn:"root",factory:()=>oO});function aO(t){return iO.replace(Eg,t)}function cO(t){return rO.replace(Eg,t)}function LD(t,e){return e.map(n=>n.replace(Eg,t))}var ND=(()=>{let e=class e{constructor(r,i,o,s,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=mg(u),this.defaultRenderer=new Ia(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===en.ShadowDom&&(i=ue(O({},i),{encapsulation:en.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Ll?o.applyToHost(r):o instanceof wa&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case en.Emulated:s=new Ll(l,h,i,this.appId,p,a,u,m);break;case en.ShadowDom:return new wg(l,h,r,i,a,u,this.nonce,m);default:s=new wa(l,h,i,p,a,u,m);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(oe(OD),oe(kD),oe(Hp),oe(sO),oe(wt),oe(mr),oe(we),oe(qp))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),Ia=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(vg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(xD(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(xD(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new H(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=vg[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=vg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Tn.DashCase|Tn.Important)?e.style.setProperty(n,r,i&Tn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Tn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Pn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function xD(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var wg=class extends Ia{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=LD(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},wa=class extends Ia{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?LD(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ll=class extends wa{constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=aO(l),this.hostAttr=cO(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},uO=(()=>{let e=class e extends _a{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(oe(wt))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),lO=(()=>{let e=class e extends _a{constructor(r){super(r),this.delegate=k(ID,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,o){return this.delegate.addEventListener(r,i,o)}removeEventListener(r,i,o){return this.delegate.removeEventListener(r,i,o)}};e.\u0275fac=function(i){return new(i||e)(oe(wt))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),PD=["alt","control","meta","shift"],dO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},fO=(()=>{let e=class e extends _a{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Pn().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),PD.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=dO[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),PD.forEach(a=>{if(a!==o){let u=hO[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(oe(wt))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})();function VD(t,e){return _D(O({rootComponent:t},pO(e)))}function pO(t){return{appProviders:[..._O,...t?.providers??[]],platformProviders:vO}}function gO(){Ig.makeCurrent()}function mO(){return new Cn}function yO(){return D0(document),document}var vO=[{provide:mr,useValue:MD},{provide:zp,useValue:gO,multi:!0},{provide:wt,useFactory:yO,deps:[]}];var _O=[{provide:fl,useValue:"root"},{provide:Cn,useFactory:mO,deps:[]},{provide:Fl,useClass:uO,multi:!0,deps:[wt,we,mr]},{provide:Fl,useClass:fO,multi:!0,deps:[wt]},{provide:Fl,useClass:lO,multi:!0},ND,kD,OD,{provide:yo,useExisting:ND},{provide:Ol,useClass:nO,deps:[]},[]];var jD=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(oe(wt))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ne="primary",La=Symbol("RouteTitle"),Sg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Oo(t){return new Sg(t)}function wO(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function EO(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!un(t[n],e[n]))return!1;return!0}function un(t,e){let n=t?Ag(t):void 0,r=e?Ag(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!WD(t[i],e[i]))return!1;return!0}function Ag(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function WD(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function KD(t){return t.length>0?t[t.length-1]:null}function _r(t){return Cf(t)?t:oi(t)?xe(Promise.resolve(t)):ee(t)}var DO={exact:YD,subset:ZD},QD={exact:bO,subset:CO,ignored:()=>!0};function UD(t,e,n){return DO[n.paths](t.root,e.root,n.matrixParams)&&QD[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function bO(t,e){return un(t,e)}function YD(t,e,n){if(!li(t.segments,e.segments)||!Ul(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!YD(t.children[r],e.children[r],n))return!1;return!0}function CO(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>WD(t[n],e[n]))}function ZD(t,e,n){return JD(t,e,e.segments,n)}function JD(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!li(i,n)||e.hasChildren()||!Ul(i,n,r))}else if(t.segments.length===n.length){if(!li(t.segments,n)||!Ul(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!ZD(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!li(t.segments,i)||!Ul(t.segments,i,r)||!t.children[ne]?!1:JD(t.children[ne],e,o,r)}}function Ul(t,e,n){return e.every((r,i)=>QD[n](t[i].parameters,r.parameters))}var kn=class{constructor(e=new Ie([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Oo(this.queryParams),this._queryParamMap}toString(){return AO.serialize(this)}},Ie=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bl(this)}},ui=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Oo(this.parameters),this._parameterMap}toString(){return eb(this)}};function TO(t,e){return li(t,e)&&t.every((n,r)=>un(n.parameters,e[r].parameters))}function li(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function SO(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ne&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ne&&(n=n.concat(e(i,r)))}),n}var em=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>new Aa,providedIn:"root"});let t=e;return t})(),Aa=class{parse(e){let n=new Mg(e);return new kn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ea(e.root,!0)}`,r=NO(e.queryParams),i=typeof e.fragment=="string"?`#${RO(e.fragment)}`:"";return`${n}${r}${i}`}},AO=new Aa;function Bl(t){return t.segments.map(e=>eb(e)).join("/")}function Ea(t,e){if(!t.hasChildren())return Bl(t);if(e){let n=t.children[ne]?Ea(t.children[ne],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ne&&r.push(`${i}:${Ea(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=SO(t,(r,i)=>i===ne?[Ea(t.children[ne],!1)]:[`${i}:${Ea(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ne]!=null?`${Bl(t)}/${n[0]}`:`${Bl(t)}/(${n.join("//")})`}}function XD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vl(t){return XD(t).replace(/%3B/gi,";")}function RO(t){return encodeURI(t)}function Rg(t){return XD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $l(t){return decodeURIComponent(t)}function BD(t){return $l(t.replace(/\+/g,"%20"))}function eb(t){return`${Rg(t.path)}${MO(t.parameters)}`}function MO(t){return Object.entries(t).map(([e,n])=>`;${Rg(e)}=${Rg(n)}`).join("")}function NO(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Vl(n)}=${Vl(i)}`).join("&"):`${Vl(n)}=${Vl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var xO=/^[^\/()?;#]+/;function Dg(t){let e=t.match(xO);return e?e[0]:""}var PO=/^[^\/()?;=#]+/;function OO(t){let e=t.match(PO);return e?e[0]:""}var kO=/^[^=?&#]+/;function FO(t){let e=t.match(kO);return e?e[0]:""}var LO=/^[^&#]+/;function VO(t){let e=t.match(LO);return e?e[0]:""}var Mg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ne]=new Ie(e,n)),r}parseSegment(){let e=Dg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new H(4009,!1);return this.capture(e),new ui($l(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=OO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Dg(this.remaining);i&&(r=i,this.capture(r))}e[$l(n)]=$l(r)}parseQueryParam(e){let n=FO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=VO(this.remaining);s&&(r=s,this.capture(r))}let i=BD(n),o=BD(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Dg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new H(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ne);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[ne]:new Ie([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new H(4011,!1)}};function tb(t){return t.segments.length>0?new Ie([],{[ne]:t}):t}function nb(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=nb(i);if(r===ne&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Ie(t.segments,e);return jO(n)}function jO(t){if(t.numberOfChildren===1&&t.children[ne]){let e=t.children[ne];return new Ie(t.segments.concat(e.segments),e.children)}return t}function di(t){return t instanceof kn}function UO(t,e,n=null,r=null){let i=rb(t);return ib(i,e,n,r)}function rb(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new Ie(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=tb(r);return e??i}function ib(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return bg(i,i,i,n,r);let o=BO(e);if(o.toRoot())return bg(i,i,new Ie([],{}),n,r);let s=$O(o,i,t),a=s.processChildren?Ca(s.segmentGroup,s.index,o.commands):sb(s.segmentGroup,s.index,o.commands);return bg(i,s.segmentGroup,a,n,r)}function Hl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ra(t){return typeof t=="object"&&t!=null&&t.outlets}function bg(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=ob(t,e,n);let a=tb(nb(s));return new kn(a,o,i)}function ob(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=ob(o,e,n)}),new Ie(t.segments,r)}var zl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Hl(r[0]))throw new H(4003,!1);let i=r.find(Ra);if(i&&i!==KD(r))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function BO(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new zl(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new zl(n,e,r)}var No=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function $O(t,e,n){if(t.isAbsolute)return new No(e,!0,0);if(!n)return new No(e,!1,NaN);if(n.parent===null)return new No(n,!0,0);let r=Hl(t.commands[0])?0:1,i=n.segments.length-1+r;return HO(n,i,t.numberOfDoubleDots)}function HO(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new H(4005,!1);i=r.segments.length}return new No(r,!1,i-o)}function zO(t){return Ra(t[0])?t[0].outlets:{[ne]:t}}function sb(t,e,n){if(t??=new Ie([],{}),t.segments.length===0&&t.hasChildren())return Ca(t,e,n);let r=qO(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Ie(t.segments.slice(0,r.pathIndex),{});return o.children[ne]=new Ie(t.segments.slice(r.pathIndex),t.children),Ca(o,0,i)}else return r.match&&i.length===0?new Ie(t.segments,{}):r.match&&!t.hasChildren()?Ng(t,e,n):r.match?Ca(t,0,i):Ng(t,e,n)}function Ca(t,e,n){if(n.length===0)return new Ie(t.segments,{});{let r=zO(n),i={};if(Object.keys(r).some(o=>o!==ne)&&t.children[ne]&&t.numberOfChildren===1&&t.children[ne].segments.length===0){let o=Ca(t.children[ne],e,n);return new Ie(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=sb(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ie(t.segments,i)}}function qO(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Ra(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!HD(u,l,s))return o;r+=2}else{if(!HD(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ng(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Ra(o)){let u=GO(o.outlets);return new Ie(r,u)}if(i===0&&Hl(n[0])){let u=t.segments[e];r.push(new ui(u.path,$D(n[0]))),i++;continue}let s=Ra(o)?o.outlets[ne]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Hl(a)?(r.push(new ui(s,$D(a))),i+=2):(r.push(new ui(s,{})),i++)}return new Ie(r,{})}function GO(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Ng(new Ie([],{}),0,r))}),e}function $D(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function HD(t,e,n){return t==n.path&&un(e,n.parameters)}var Ta="imperative",Qe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Qe||{}),Ft=class{constructor(e,n){this.id=e,this.url=n}},Ma=class extends Ft{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Qe.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},vr=class extends Ft{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Qe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Dt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Dt||{}),xg=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(xg||{}),On=class extends Ft{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Qe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},hi=class extends Ft{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Qe.NavigationSkipped}},Na=class extends Ft{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Qe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ql=class extends Ft{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Qe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pg=class extends Ft{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Qe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Og=class extends Ft{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Qe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},kg=class extends Ft{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Qe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fg=class extends Ft{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Qe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lg=class{constructor(e){this.route=e,this.type=Qe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Vg=class{constructor(e){this.route=e,this.type=Qe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},jg=class{constructor(e){this.snapshot=e,this.type=Qe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ug=class{constructor(e){this.snapshot=e,this.type=Qe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bg=class{constructor(e){this.snapshot=e,this.type=Qe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$g=class{constructor(e){this.snapshot=e,this.type=Qe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var xa=class{},ko=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function WO(t,e){return t.providers&&!t._injector&&(t._injector=cg(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Gt(t){return t.outlet||ne}function KO(t,e){let n=t.filter(r=>Gt(r)===e);return n.push(...t.filter(r=>Gt(r)!==e)),n}function Va(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Hg=class{get injector(){return Va(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Jl(this.rootInjector),this.attachRef=null}},Jl=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Hg(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(oe(xt))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Gl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=zg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=zg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=qg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return qg(e,this._root).map(n=>n.value)}};function zg(t,e){if(t===e.value)return e;for(let n of e.children){let r=zg(t,n);if(r)return r}return null}function qg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=qg(t,n);if(r.length)return r.unshift(e),r}return[]}var Et=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Mo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Wl=class extends Gl{constructor(e,n){super(e),this.snapshot=n,tm(this,e)}toString(){return this.snapshot.toString()}};function ab(t){let e=QO(t),n=new Ke([new ui("",{})]),r=new Ke({}),i=new Ke({}),o=new Ke({}),s=new Ke(""),a=new fi(n,r,o,s,i,ne,t,e.root);return a.snapshot=e.root,new Wl(new Et(a,[]),e)}function QO(t){let e={},n={},r={},i="",o=new xo([],e,r,i,n,ne,t,null,{});return new Ql("",new Et(o,[]))}var fi=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(re(l=>l[La]))??ee(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(re(e=>Oo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(re(e=>Oo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Kl(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),t.params),data:O(O({},e.data),t.data),resolve:O(O(O(O({},t.data),e.data),i?.data),t._resolvedData)}:r={params:O({},t.params),data:O({},t.data),resolve:O(O({},t.data),t._resolvedData??{})},i&&ub(i)&&(r.resolve[La]=i.title),r}var xo=class{get title(){return this.data?.[La]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Oo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Oo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Ql=class extends Gl{constructor(e,n){super(n),this.url=e,tm(this,n)}toString(){return cb(this._root)}};function tm(t,e){e.value._routerState=t,e.children.forEach(n=>tm(t,n))}function cb(t){let e=t.children.length>0?` { ${t.children.map(cb).join(", ")} } `:"";return`${t.value}${e}`}function Cg(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,un(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),un(e.params,n.params)||t.paramsSubject.next(n.params),EO(e.url,n.url)||t.urlSubject.next(n.url),un(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Gg(t,e){let n=un(t.params,e.params)&&TO(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Gg(t.parent,e.parent))}function ub(t){return typeof t.title=="string"||t.title===null}var nm=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ne,this.activateEvents=new ke,this.deactivateEvents=new ke,this.attachEvents=new ke,this.detachEvents=new ke,this.parentContexts=k(Jl),this.location=k(sa),this.changeDetector=k(ai),this.inputBinder=k(rm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new Wg(r,u,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=tt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[fr]});let t=e;return t})(),Wg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===fi?this.route:e===Jl?this.childContexts:this.parent.get(e,n)}},rm=new B("");function YO(t,e,n){let r=Pa(t,e._root,n?n._root:void 0);return new Wl(r,e)}function Pa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=ZO(t,e,n);return new Et(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Pa(t,a)),s}}let r=JO(e.value),i=e.children.map(o=>Pa(t,o));return new Et(r,i)}}function ZO(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Pa(t,r,i);return Pa(t,r)})}function JO(t){return new fi(new Ke(t.url),new Ke(t.params),new Ke(t.queryParams),new Ke(t.fragment),new Ke(t.data),t.outlet,t.component,t)}var Oa=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},lb="ngNavigationCancelingError";function Yl(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=di(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=db(!1,Dt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function db(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[lb]=!0,n.cancellationCode=e,n}function XO(t){return hb(t)&&di(t.url)}function hb(t){return!!t&&t[lb]}var ek=(t,e,n,r)=>re(i=>(new Kg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Kg=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Cg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Mo(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Mo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Mo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Mo(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new $g(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Ug(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Cg(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Cg(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Zl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Po=class{constructor(e,n){this.component=e,this.route=n}};function tk(t,e,n){let r=t._root,i=e?e._root:null;return Da(r,i,n,[r.value])}function nk(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Lo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!hE(t)?t:e.get(t):r}function Da(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Mo(e);return t.children.forEach(s=>{rk(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Sa(a,n.getContext(s),i)),i}function rk(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=ik(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Zl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Da(t,e,a?a.children:null,r,i):Da(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Po(a.outlet.component,s))}else s&&Sa(e,a,i),i.canActivateChecks.push(new Zl(r)),o.component?Da(t,null,a?a.children:null,r,i):Da(t,null,n,r,i);return i}function ik(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!li(t.url,e.url);case"pathParamsOrQueryParamsChange":return!li(t.url,e.url)||!un(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gg(t,e)||!un(t.queryParams,e.queryParams);case"paramsChange":default:return!Gg(t,e)}}function Sa(t,e,n){let r=Mo(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Sa(s,e.children.getContext(o),n):Sa(s,null,n):Sa(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Po(e.outlet.component,i)):n.canDeactivateChecks.push(new Po(null,i)):n.canDeactivateChecks.push(new Po(null,i))}function ja(t){return typeof t=="function"}function ok(t){return typeof t=="boolean"}function sk(t){return t&&ja(t.canLoad)}function ak(t){return t&&ja(t.canActivate)}function ck(t){return t&&ja(t.canActivateChild)}function uk(t){return t&&ja(t.canDeactivate)}function lk(t){return t&&ja(t.canMatch)}function fb(t){return t instanceof Dn||t?.name==="EmptyError"}var jl=Symbol("INITIAL_VALUE");function Fo(){return Bt(t=>Tu(t.map(e=>e.pipe(bn(1),Mu(jl)))).pipe(re(e=>{for(let n of e)if(n!==!0){if(n===jl)return jl;if(n===!1||dk(n))return n}return!0}),St(e=>e!==jl),bn(1)))}function dk(t){return di(t)||t instanceof Oa}function hk(t,e){return Be(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?ee(ue(O({},n),{guardsResult:!0})):fk(s,r,i,t).pipe(Be(a=>a&&ok(a)?pk(r,o,t,e):ee(a)),re(a=>ue(O({},n),{guardsResult:a})))})}function fk(t,e,n,r){return xe(t).pipe(Be(i=>_k(i.component,i.route,n,e,r)),Zt(i=>i!==!0,!0))}function pk(t,e,n,r){return xe(e).pipe(Ji(i=>Zi(mk(i.route.parent,r),gk(i.route,r),vk(t,i.path,n),yk(t,i.route,n))),Zt(i=>i!==!0,!0))}function gk(t,e){return t!==null&&e&&e(new Bg(t)),ee(!0)}function mk(t,e){return t!==null&&e&&e(new jg(t)),ee(!0)}function yk(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ee(!0);let i=r.map(o=>Su(()=>{let s=Va(e)??n,a=Lo(o,s),u=ak(a)?a.canActivate(e,t):An(s,()=>a(e,t));return _r(u).pipe(Zt())}));return ee(i).pipe(Fo())}function vk(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>nk(s)).filter(s=>s!==null).map(s=>Su(()=>{let a=s.guards.map(u=>{let l=Va(s.node)??n,h=Lo(u,l),p=ck(h)?h.canActivateChild(r,t):An(l,()=>h(r,t));return _r(p).pipe(Zt())});return ee(a).pipe(Fo())}));return ee(o).pipe(Fo())}function _k(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ee(!0);let s=o.map(a=>{let u=Va(e)??i,l=Lo(a,u),h=uk(l)?l.canDeactivate(t,e,n,r):An(u,()=>l(t,e,n,r));return _r(h).pipe(Zt())});return ee(s).pipe(Fo())}function Ik(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return ee(!0);let o=i.map(s=>{let a=Lo(s,t),u=sk(a)?a.canLoad(e,n):An(t,()=>a(e,n));return _r(u)});return ee(o).pipe(Fo(),pb(r))}function pb(t){return au($e(e=>{if(typeof e!="boolean")throw Yl(t,e)}),re(e=>e===!0))}function wk(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return ee(!0);let o=i.map(s=>{let a=Lo(s,t),u=lk(a)?a.canMatch(e,n):An(t,()=>a(e,n));return _r(u)});return ee(o).pipe(Fo(),pb(r))}var ka=class{constructor(e){this.segmentGroup=e||null}},Fa=class extends Error{constructor(e){super(),this.urlTree=e}};function Ro(t){return Yi(new ka(t))}function Ek(t){return Yi(new H(4e3,!1))}function Dk(t){return Yi(db(!1,Dt.GuardRejected))}var Qg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ee(r);if(i.numberOfChildren>1||!i.children[ne])return Ek(`${e.redirectTo}`);i=i.children[ne]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:v,data:S,title:N}=i,R=An(o,()=>a({params:v,data:S,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:N}));if(R instanceof kn)throw new Fa(R);n=R}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Fa(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new kn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Ie(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new H(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Yg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bk(t,e,n,r,i){let o=gb(t,e,n);return o.matched?(r=WO(e,r),wk(r,e,n,i).pipe(re(s=>s===!0?o:O({},Yg)))):ee(o)}function gb(t,e,n){if(e.path==="**")return Ck(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?O({},Yg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||wO)(n,t,e);if(!i)return O({},Yg);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?O(O({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Ck(t){return{matched:!0,parameters:t.length>0?KD(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function zD(t,e,n,r){return n.length>0&&Ak(t,n,r)?{segmentGroup:new Ie(e,Sk(r,new Ie(n,t.children))),slicedSegments:[]}:n.length===0&&Rk(t,n,r)?{segmentGroup:new Ie(t.segments,Tk(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ie(t.segments,t.children),slicedSegments:n}}function Tk(t,e,n,r){let i={};for(let o of n)if(Xl(t,e,o)&&!r[Gt(o)]){let s=new Ie([],{});i[Gt(o)]=s}return O(O({},r),i)}function Sk(t,e){let n={};n[ne]=e;for(let r of t)if(r.path===""&&Gt(r)!==ne){let i=new Ie([],{});n[Gt(r)]=i}return n}function Ak(t,e,n){return n.some(r=>Xl(t,e,r)&&Gt(r)!==ne)}function Rk(t,e,n){return n.some(r=>Xl(t,e,r))}function Xl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Mk(t,e,n){return e.length===0&&!t.children[n]}var Zg=class{};function Nk(t,e,n,r,i,o,s="emptyOnly"){return new Jg(t,e,n,r,i,s,o).recognize()}var xk=31,Jg=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Qg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new H(4002,`'${e.segmentGroup}'`)}recognize(){let e=zD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(re(({children:n,rootSnapshot:r})=>{let i=new Et(r,n),o=new Ql("",i),s=UO(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new xo([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ne,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ne,n).pipe(re(r=>({children:r,rootSnapshot:n})),ir(r=>{if(r instanceof Fa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ka?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(re(s=>s instanceof Et?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return xe(o).pipe(Ji(s=>{let a=r.children[s],u=KO(n,s);return this.processSegmentGroup(e,u,a,s,i)}),Ru((s,a)=>(s.push(...a),s)),or(null),Rf(),Be(s=>{if(s===null)return Ro(r);let a=mb(s);return Pk(a),ee(a)}))}processSegment(e,n,r,i,o,s,a){return xe(n).pipe(Ji(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(ir(l=>{if(l instanceof ka)return ee(null);throw l}))),Zt(u=>!!u),ir(u=>{if(fb(u))return Mk(r,i,o)?ee(new Zg):Ro(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return Gt(r)!==s&&(s===ne||!Xl(i,o,r))?Ro(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):Ro(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=gb(n,i,o);if(!u)return Ro(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>xk&&(this.allowRedirects=!1));let v=new xo(o,l,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,qD(i),Gt(i),i.component??i._loadedComponent??null,i,GD(i)),S=Kl(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(S.params),v.data=Object.freeze(S.data);let N=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,v,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(Be(R=>this.processSegment(e,r,n,R.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=bk(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Bt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Bt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:v}=u,S=new xo(m,p,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,qD(r),Gt(r),r.component??r._loadedComponent??null,r,GD(r)),N=Kl(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(N.params),S.data=Object.freeze(N.data);let{segmentGroup:R,slicedSegments:F}=zD(n,m,v,l);if(F.length===0&&R.hasChildren())return this.processChildren(h,l,R,S).pipe(re(G=>new Et(S,G)));if(l.length===0&&F.length===0)return ee(new Et(S,[]));let $=Gt(r)===o;return this.processSegment(h,l,R,F,$?ne:o,!0,S).pipe(re(G=>new Et(S,G instanceof Et?[G]:[])))}))):Ro(n)))}getChildConfig(e,n,r){return n.children?ee({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ee({routes:n._loadedRoutes,injector:n._loadedInjector}):Ik(e,n,r,this.urlSerializer).pipe(Be(i=>i?this.configLoader.loadChildren(e,n).pipe($e(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Dk(n))):ee({routes:[],injector:e})}};function Pk(t){t.sort((e,n)=>e.value.outlet===ne?-1:n.value.outlet===ne?1:e.value.outlet.localeCompare(n.value.outlet))}function Ok(t){let e=t.value.routeConfig;return e&&e.path===""}function mb(t){let e=[],n=new Set;for(let r of t){if(!Ok(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=mb(r.children);e.push(new Et(r.value,i))}return e.filter(r=>!n.has(r))}function qD(t){return t.data||{}}function GD(t){return t.resolve||{}}function kk(t,e,n,r,i,o){return Be(s=>Nk(t,e,n,r,s.extractedUrl,i,o).pipe(re(({state:a,tree:u})=>ue(O({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function Fk(t,e){return Be(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ee(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of yb(u))s.add(l);let a=0;return xe(s).pipe(Ji(u=>o.has(u)?Lk(u,r,t,e):(u.data=Kl(u,u.parent,t).resolve,ee(void 0))),$e(()=>a++),Xi(1),Be(u=>a===s.size?ee(n):It))})}function yb(t){let e=t.children.map(n=>yb(n)).flat();return[t,...e]}function Lk(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!ub(i)&&(o[La]=i.title),Vk(o,t,e,r).pipe(re(s=>(t._resolvedData=s,t.data=Kl(t,t.parent,n).resolve,null)))}function Vk(t,e,n,r){let i=Ag(t);if(i.length===0)return ee({});let o={};return xe(i).pipe(Be(s=>jk(t[s],e,n,r).pipe(Zt(),$e(a=>{if(a instanceof Oa)throw Yl(new Aa,a);o[s]=a}))),Xi(1),Af(o),ir(s=>fb(s)?It:Yi(s)))}function jk(t,e,n,r){let i=Va(e)??r,o=Lo(t,i),s=o.resolve?o.resolve(e,n):An(i,()=>o(e,n));return _r(s)}function Tg(t){return Bt(e=>{let n=t(e);return n?xe(n).pipe(re(()=>e)):ee(e)})}var vb=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===ne);return i}getResolvedTitleForRoute(r){return r.data[La]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>k(Uk),providedIn:"root"});let t=e;return t})(),Uk=(()=>{let e=class e extends vb{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(oe(jD))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),im=new B("",{providedIn:"root",factory:()=>({})}),Bk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Pt({type:e,selectors:[["ng-component"]],standalone:!0,features:[kt],decls:1,vars:0,template:function(i,o){i&1&&ni(0,"router-outlet")},dependencies:[nm],encapsulation:2});let t=e;return t})();function om(t){let e=t.children&&t.children.map(om),n=e?ue(O({},t),{children:e}):O({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ne&&(n.component=Bk),n}var sm=new B(""),$k=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(hg)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ee(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=_r(r.loadComponent()).pipe(re(_b),$e(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),qs(()=>{this.componentLoaders.delete(r)})),o=new Gi(i,()=>new ze).pipe(qi());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ee({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=Hk(i,this.compiler,r,this.onLoadEndListener).pipe(qs(()=>{this.childrenLoaders.delete(i)})),a=new Gi(s,()=>new ze).pipe(qi());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Hk(t,e,n,r){return _r(t.loadChildren()).pipe(re(_b),Be(i=>i instanceof ea||Array.isArray(i)?ee(i):xe(e.compileModuleAsync(i))),re(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(sm,[],{optional:!0,self:!0}).flat()),{routes:s.map(om),injector:o}}))}function zk(t){return t&&typeof t=="object"&&"default"in t}function _b(t){return zk(t)?t.default:t}var am=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>k(qk),providedIn:"root"});let t=e;return t})(),qk=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Gk=new B("");var Wk=new B(""),Kk=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ze,this.transitionAbortSubject=new ze,this.configLoader=k($k),this.environmentInjector=k(xt),this.urlSerializer=k(em),this.rootContexts=k(Jl),this.location=k(ya),this.inputBindingEnabled=k(rm,{optional:!0})!==null,this.titleStrategy=k(vb),this.options=k(im,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(am),this.createViewTransition=k(Gk,{optional:!0}),this.navigationErrorHandler=k(Wk,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ee(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Lg(o)),i=o=>this.events.next(new Vg(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ue(O(O({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Ke({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ta,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(St(s=>s.id!==0),re(s=>ue(O({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Bt(s=>{let a=!1,u=!1;return ee(s).pipe(Bt(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Dt.SupersededByNewNavigation),It;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ue(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let m="";return this.events.next(new hi(l.id,this.urlSerializer.serialize(l.rawUrl),m,xg.IgnoredSameUrlNavigation)),l.resolve(!1),It}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ee(l).pipe(Bt(m=>{let v=this.transitions?.getValue();return this.events.next(new Ma(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),v!==this.transitions?.getValue()?It:Promise.resolve(m)}),kk(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),$e(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=ue(O({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let v=new ql(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:v,source:S,restoredState:N,extras:R}=l,F=new Ma(m,this.urlSerializer.serialize(v),S,N);this.events.next(F);let $=ab(this.rootComponentType).snapshot;return this.currentTransition=s=ue(O({},l),{targetSnapshot:$,urlAfterRedirects:v,extras:ue(O({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,ee(s)}else{let m="";return this.events.next(new hi(l.id,this.urlSerializer.serialize(l.extractedUrl),m,xg.IgnoredByUrlHandlingStrategy)),l.resolve(!1),It}}),$e(l=>{let h=new Pg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),re(l=>(this.currentTransition=s=ue(O({},l),{guards:tk(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),hk(this.environmentInjector,l=>this.events.next(l)),$e(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Yl(this.urlSerializer,l.guardsResult);let h=new Og(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),St(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Dt.GuardRejected),!1)),Tg(l=>{if(l.guards.canActivateChecks.length)return ee(l).pipe($e(h=>{let p=new kg(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),Bt(h=>{let p=!1;return ee(h).pipe(Fk(this.paramsInheritanceStrategy,this.environmentInjector),$e({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",Dt.NoDataFromResolver)}}))}),$e(h=>{let p=new Fg(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),Tg(l=>{let h=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe($e(v=>{p.component=v}),re(()=>{})));for(let v of p.children)m.push(...h(v));return m};return Tu(h(l.targetSnapshot.root)).pipe(or(null),bn(1))}),Tg(()=>this.afterPreactivation()),Bt(()=>{let{currentSnapshot:l,targetSnapshot:h}=s,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?xe(p).pipe(re(()=>s)):ee(s)}),re(l=>{let h=YO(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=ue(O({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),$e(()=>{this.events.next(new xa)}),ek(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),bn(1),$e({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new vr(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Mf(this.transitionAbortSubject.pipe($e(l=>{throw l}))),qs(()=>{!a&&!u&&this.cancelNavigationTransition(s,"",Dt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),ir(l=>{if(u=!0,hb(l))this.events.next(new On(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),XO(l)?this.events.next(new ko(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let h=new Na(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let p=An(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(p instanceof Oa){let{message:m,cancellationCode:v}=Yl(this.urlSerializer,p);this.events.next(new On(s.id,this.urlSerializer.serialize(s.extractedUrl),m,v)),this.events.next(new ko(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(h);let m=r.errorHandler(l);s.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(p)}}return It}))}))}cancelNavigationTransition(r,i,o){let s=new On(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Qk(t){return t!==Ta}var Yk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>k(Zk),providedIn:"root"});let t=e;return t})(),Xg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Zk=(()=>{let e=class e extends Xg{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Co(e)))(o||e)}})(),e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ib=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>k(Jk),providedIn:"root"});let t=e;return t})(),Jk=(()=>{let e=class e extends Ib{constructor(){super(...arguments),this.location=k(ya),this.urlSerializer=k(em),this.options=k(im,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(am),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new kn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=ab(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Ma)this.stateMemento=this.createStateMemento();else if(r instanceof hi)this.rawUrlTree=i.initialUrl;else if(r instanceof ql){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??o,i)}}else r instanceof xa?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof On&&(r.code===Dt.GuardRejected||r.code===Dt.NoDataFromResolver)?this.restoreHistory(i):r instanceof Na?this.restoreHistory(i,!0):r instanceof vr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=r instanceof kn?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=O(O({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=O(O({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Co(e)))(o||e)}})(),e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ba=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ba||{});function Xk(t,e){t.events.pipe(St(n=>n instanceof vr||n instanceof On||n instanceof Na||n instanceof hi),re(n=>n instanceof vr||n instanceof hi?ba.COMPLETE:(n instanceof On?n.code===Dt.Redirect||n.code===Dt.SupersededByNewNavigation:!1)?ba.REDIRECTING:ba.FAILED),St(n=>n!==ba.REDIRECTING),bn(1)).subscribe(()=>{e()})}function eF(t){throw t}var tF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Fn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=k(xl),this.stateManager=k(Ib),this.options=k(im,{optional:!0})||{},this.pendingTasks=k(To),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(Kk),this.urlSerializer=k(em),this.location=k(ya),this.urlHandlingStrategy=k(am),this._events=new ze,this.errorHandler=this.options.errorHandler||eF,this.navigated=!1,this.routeReuseStrategy=k(Yk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(sm,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(rm,{optional:!0}),this.eventsSubscription=new Ne,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof On&&i.code!==Dt.Redirect&&i.code!==Dt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof vr)this.navigated=!0;else if(i instanceof ko){let a=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l=O({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Qk(o.source)},a);this.scheduleNavigation(u,Ta,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}iF(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ta,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=O({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(om),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":p=O(O({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let v=o?o.snapshot:this.routerState.snapshot.root;m=rb(v)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),m=this.currentUrlTree.root}return ib(m,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=di(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Ta,null,i)}navigate(r,i={skipLocationChange:!1}){return rF(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=O({},tF):i===!1?o=O({},nF):o=i,di(r))return UD(this.currentUrlTree,r,o);let s=this.parseUrl(r);return UD(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,v)=>{u=m,l=v});let p=this.pendingTasks.add();return Xk(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function rF(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new H(4008,!1)}function iF(t){return!(t instanceof xa)&&!(t instanceof ko)}var Ir=(()=>{let e=class e{constructor(r,i,o,s,a,u){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=u,this.href=null,this.onChanges=new ze,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof vr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(di(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,o,s,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:T0(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.routerLinkInput===null?null:di(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(ae(Fn),ae(fi),Up("tabindex"),ae(ti),ae(gr),ae(Ao))},e.\u0275dir=tt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&yt("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&da("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",yr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",yr],replaceUrl:[2,"replaceUrl","replaceUrl",yr],routerLink:"routerLink"},standalone:!0,features:[ag,fr]});let t=e;return t})();var oF=new B("");function wb(t,...e){return sn([{provide:sm,multi:!0,useValue:t},[],{provide:fi,useFactory:sF,deps:[Fn]},{provide:dg,multi:!0,useFactory:aF},e.map(n=>n.\u0275providers)])}function sF(t){return t.routerState.root}function aF(){let t=k(gt);return e=>{let n=t.get(si);if(e!==n.components[0])return;let r=t.get(Fn),i=t.get(cF);t.get(uF)===1&&r.initialNavigation(),t.get(lF,null,ie.Optional)?.setUpPreloading(),t.get(oF,null,ie.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var cF=new B("",{factory:()=>new ze}),uF=new B("",{providedIn:"root",factory:()=>1});var lF=new B("");var dF=()=>["/quien-soy"],hF=()=>["/login"],fF=()=>["/registro"],pF=()=>["/juegos"];function gF(t,e){t&1&&(ug(0),q(1,"button",6),U(2,"Login"),V(),q(3,"button",7),U(4,"Registro"),V(),lg()),t&2&&(ft(),an("routerLink",ga(2,hF)),ft(2),an("routerLink",ga(3,fF)))}function mF(t,e){if(t&1){let n=Ml();q(0,"button",8),U(1,"Juegos"),V(),q(2,"button",9),yt("click",function(){Eo(n);let i=Nl();return Do(i.logOut())}),U(3,"Logout"),V()}t&2&&an("routerLink",ga(1,pF))}var ed=class t{constructor(e){this.router=e}title;email;userInLocalStorage=null;ngOnInit(){if(this.userInLocalStorage=localStorage.getItem("user"),!this.userInLocalStorage)console.log("No hay un usuario logueado"),this.title="\xA1Bienvenido!";else{console.log("Usuario logueado");try{let e=JSON.parse(this.userInLocalStorage);this.email=e.email,this.title=`\xA1Bienvenido ${this.email}!`}catch(e){console.error("Error al parsear el usuario de localStorage:",e)}}}logOut(){localStorage.removeItem("user"),console.log("Usuario deslogueado"),this.router.navigate(["/login"])}static \u0275fac=function(n){return new(n||t)(ae(Fn))};static \u0275cmp=Pt({type:t,selectors:[["app-home"]],standalone:!0,features:[kt],decls:10,vars:5,consts:[["loggedIn",""],[1,"bienvenido-section"],[1,"bienvenido-container"],[1,"acciones-container"],[1,"accion-boton","btn_quiensoy",3,"routerLink"],[4,"ngIf","ngIfElse"],[1,"accion-boton","btn_login",3,"routerLink"],[1,"accion-boton","btn_registro",3,"routerLink"],[1,"accion-boton","btn_juegos",3,"routerLink"],[1,"accion-boton","btn_logout",3,"click"]],template:function(n,r){if(n&1&&(q(0,"section",1)(1,"div",2)(2,"h1"),U(3),V(),q(4,"div",3)(5,"button",4),U(6,"Quien soy"),V(),la(7,gF,5,4,"ng-container",5)(8,mF,4,2,"ng-template",null,0,uD),V()()()),n&2){let i=ha(9);ft(3),fa(r.title),ft(2),an("routerLink",ga(4,dF)),ft(2),an("ngIf",r.userInLocalStorage==null)("ngIfElse",i)}},dependencies:[Ir,kl],styles:[`.bienvenido-section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-image:url("data:image/svg+xml,%3Csvg width='42' height='44' viewBox='0 0 42 44' xmlns='http://www.w3.org/2000/svg'%3E%3Cg id='Page-1' fill='none' fill-rule='evenodd'%3E%3Cg id='brick-wall' fill='%23ffffff' fill-opacity='1'%3E%3Cpath d='M0 0h42v44H0V0zm1 1h40v20H1V1zM0 23h20v20H0V23zm22 0h20v20H22V23z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");background-size:80px;background-repeat:repeat;background-position:center;background-color:#f16a0c}.bienvenido-container[_ngcontent-%COMP%]{background:#fff;padding:8rem;border-radius:10px;box-shadow:0 8px 20px #00000026;max-width:400px;width:100%;text-align:center;background:linear-gradient(#fff,#fffc)}h1[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:2.5rem;color:#343a40}.mensaje-bienvenida[_ngcontent-%COMP%]{margin-bottom:2rem;font-size:1.1rem;color:#495057}.acciones-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.accion-boton[_ngcontent-%COMP%]{color:#fff;border:none;padding:1rem;border-radius:5px;cursor:pointer;font-size:1rem;transition:background-color .3s,transform .2s;width:100%}.accion-boton[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.btn_quiensoy[_ngcontent-%COMP%]{background-color:#28a745}.btn_login[_ngcontent-%COMP%]{background-color:#000;color:#fff}.btn_login[_ngcontent-%COMP%]:hover{background-color:#333}.btn_registro[_ngcontent-%COMP%]{background-color:#fff;color:#000;border:1px solid #ccc}.btn_registro[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;border-color:#999}.btn_juegos[_ngcontent-%COMP%]{background-color:#ffc107}.btn_logout[_ngcontent-%COMP%]{background-color:#dc3545}.accion-boton[_ngcontent-%COMP%]:hover{opacity:.9}`]})};var Mb=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(ae(ti),ae(gr))},e.\u0275dir=tt({type:e});let t=e;return t})(),yF=(()=>{let e=class e extends Mb{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Co(e)))(o||e)}})(),e.\u0275dir=tt({type:e,features:[Nn]});let t=e;return t})(),Nb=new B("");var vF={provide:Nb,useExisting:Jr(()=>$o),multi:!0};function _F(){let t=Pn()?Pn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var IF=new B(""),$o=(()=>{let e=class e extends Mb{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!_F())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(ae(ti),ae(gr),ae(IF,8))},e.\u0275dir=tt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&yt("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[pa([vF]),Nn]});let t=e;return t})();function wF(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var lm=new B(""),xb=new B("");function EF(t){return wF(t.value)?{required:!0}:null}function Eb(t){return null}function Pb(t){return t!=null}function Ob(t){return oi(t)?xe(t):t}function kb(t){let e={};return t.forEach(n=>{e=n!=null?O(O({},e),n):e}),Object.keys(e).length===0?null:e}function Fb(t,e){return e.map(n=>n(t))}function DF(t){return!t.validate}function Lb(t){return t.map(e=>DF(e)?e:n=>e.validate(n))}function bF(t){if(!t)return null;let e=t.filter(Pb);return e.length==0?null:function(n){return kb(Fb(n,e))}}function dm(t){return t!=null?bF(Lb(t)):null}function CF(t){if(!t)return null;let e=t.filter(Pb);return e.length==0?null:function(n){let r=Fb(n,e).map(Ob);return Sf(r).pipe(re(kb))}}function hm(t){return t!=null?CF(Lb(t)):null}function Db(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function TF(t){return t._rawValidators}function SF(t){return t._rawAsyncValidators}function um(t){return t?Array.isArray(t)?t:[t]:[]}function rd(t,e){return Array.isArray(t)?t.includes(e):t===e}function bb(t,e){let n=um(e);return um(t).forEach(i=>{rd(n,i)||n.push(i)}),n}function Cb(t,e){return um(e).filter(n=>!rd(t,n))}var id=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=dm(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=hm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Uo=class extends id{get formDirective(){return null}get path(){return null}},qa=class extends id{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},od=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},AF={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},u9=ue(O({},AF),{"[class.ng-submitted]":"isSubmitted"}),ud=(()=>{let e=class e extends od{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(ae(qa,2))},e.\u0275dir=tt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Rl("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Nn]});let t=e;return t})(),ld=(()=>{let e=class e extends od{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(ae(Uo,10))},e.\u0275dir=tt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&Rl("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Nn]});let t=e;return t})();var Ua="VALID",nd="INVALID",Vo="PENDING",Ba="DISABLED",Bo=class{},sd=class extends Bo{constructor(e,n){super(),this.value=e,this.source=n}},Ha=class extends Bo{constructor(e,n){super(),this.pristine=e,this.source=n}},za=class extends Bo{constructor(e,n){super(),this.touched=e,this.source=n}},jo=class extends Bo{constructor(e,n){super(),this.status=e,this.source=n}};function Vb(t){return(dd(t)?t.validators:t)||null}function RF(t){return Array.isArray(t)?dm(t):t||null}function jb(t,e){return(dd(e)?e.asyncValidators:t)||null}function MF(t){return Array.isArray(t)?hm(t):t||null}function dd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function NF(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new H(1e3,"");if(!r[n])throw new H(1001,"")}function xF(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new H(1002,"")})}var ad=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ma(()=>this.statusReactive()),this.statusReactive=ca(void 0),this._pristine=ma(()=>this.pristineReactive()),this.pristineReactive=ca(!0),this._touched=ma(()=>this.touchedReactive()),this.touchedReactive=ca(!1),this._events=new ze,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return xn(this.statusReactive)}set status(e){xn(()=>this.statusReactive.set(e))}get valid(){return this.status===Ua}get invalid(){return this.status===nd}get pending(){return this.status==Vo}get disabled(){return this.status===Ba}get enabled(){return this.status!==Ba}get pristine(){return xn(this.pristineReactive)}set pristine(e){xn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return xn(this.touchedReactive)}set touched(e){xn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(bb(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(bb(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Cb(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Cb(e,this._rawAsyncValidators))}hasValidator(e){return rd(this._rawValidators,e)}hasAsyncValidator(e){return rd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ue(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new za(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new za(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ue(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ha(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ha(!0,r))}markAsPending(e={}){this.status=Vo;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new jo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ue(O({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ba,this.errors=null,this._forEachChild(i=>{i.disable(ue(O({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new sd(this.value,r)),this._events.next(new jo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ue(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ua,this._forEachChild(r=>{r.enable(ue(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ue(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ua||this.status===Vo)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new sd(this.value,n)),this._events.next(new jo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ue(O({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ba:Ua}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Vo,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=Ob(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new jo(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new ke,this.statusChanges=new ke}_calculateStatus(){return this._allControlsDisabled()?Ba:this.errors?nd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vo)?Vo:this._anyControlsHaveStatus(nd)?nd:Ua}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Ha(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new za(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){dd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=RF(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=MF(this._rawAsyncValidators)}},cd=class extends ad{constructor(e,n,r){super(Vb(n),jb(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){xF(this,!0,e),Object.keys(e).forEach(r=>{NF(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var fm=new B("CallSetDisabledState",{providedIn:"root",factory:()=>pm}),pm="always";function PF(t,e){return[...e.path,t]}function Ub(t,e,n=pm){Bb(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),kF(t,e),LF(t,e),FF(t,e),OF(t,e)}function Tb(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function OF(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Bb(t,e){let n=TF(t);e.validator!==null?t.setValidators(Db(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=SF(t);e.asyncValidator!==null?t.setAsyncValidators(Db(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Tb(e._rawValidators,i),Tb(e._rawAsyncValidators,i)}function kF(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&$b(t,e)})}function FF(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&$b(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function $b(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function LF(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function VF(t,e){t==null,Bb(t,e)}function jF(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function UF(t){return Object.getPrototypeOf(t.constructor)===yF}function BF(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function $F(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===$o?n=o:UF(o)?r=o:i=o}),i||r||n||null}var HF={provide:Uo,useExisting:Jr(()=>Ga)},$a=Promise.resolve(),Ga=(()=>{let e=class e extends Uo{get submitted(){return xn(this.submittedReactive)}constructor(r,i,o){super(),this.callSetDisabledState=o,this._submitted=ma(()=>this.submittedReactive()),this.submittedReactive=ca(!1),this._directives=new Set,this.ngSubmit=new ke,this.form=new cd({},dm(r),hm(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){$a.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),Ub(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){$a.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){$a.then(()=>{let i=this._findContainer(r.path),o=new cd({});VF(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){$a.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){$a.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submittedReactive.set(!0),BF(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(ae(lm,10),ae(xb,10),ae(fm,8))},e.\u0275dir=tt({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&yt("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[pa([HF]),Nn]});let t=e;return t})();function Sb(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Ab(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var zF=class extends ad{constructor(e=null,n,r){super(Vb(n),jb(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),dd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Ab(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Sb(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Sb(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Ab(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var qF={provide:qa,useExisting:Jr(()=>Wa)},Rb=Promise.resolve(),Wa=(()=>{let e=class e extends qa{constructor(r,i,o,s,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new zF,this._registered=!1,this.name="",this.update=new ke,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=$F(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),jF(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Ub(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){Rb.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&yr(i);Rb.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?PF(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(ae(Uo,9),ae(lm,10),ae(xb,10),ae(Nb,10),ae(ai,8),ae(fm,8))},e.\u0275dir=tt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[pa([qF]),Nn,fr]});let t=e;return t})(),hd=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=tt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var GF=(()=>{let e=class e{constructor(){this._validator=Eb}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Eb,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=tt({type:e,features:[fr]});let t=e;return t})();var WF={provide:lm,useExisting:Jr(()=>Ka),multi:!0};var Ka=(()=>{let e=class e extends GF{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=yr,this.createValidator=r=>EF}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Co(e)))(o||e)}})(),e.\u0275dir=tt({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&da("required",o._enabled?"":null)},inputs:{required:"required"},features:[pa([WF]),Nn]});let t=e;return t})();var KF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Io({type:e}),e.\u0275inj=_o({});let t=e;return t})();var fd=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:fm,useValue:r.callSetDisabledState??pm}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Io({type:e}),e.\u0275inj=_o({imports:[KF]});let t=e;return t})();var Ho=class{email;password;constructor(e,n){this.email=e,this.password=n}getEmail(){return this.email}getPassword(){return this.password}};var qb=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},QF=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Gb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,v=l&63;u||(v=64,s||(m=64)),r.push(n[h],n[p],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new mm;let m=o<<2|a>>4;if(r.push(m),l!==64){let v=a<<4&240|l>>2;if(r.push(v),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},mm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},YF=function(t){let e=qb(t);return Gb.encodeByteArray(e,!0)},Qa=function(t){return YF(t).replace(/\./g,"")},vm=function(t){try{return Gb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ZF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var JF=()=>ZF().__FIREBASE_DEFAULTS__,XF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},eL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&vm(t[1]);return e&&JSON.parse(e)},gd=()=>{try{return JF()||XF()||eL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_m=t=>{var e,n;return(n=(e=gd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Wb=t=>{let e=_m(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Im=()=>{var t;return(t=gd())===null||t===void 0?void 0:t.config},wm=t=>{var e;return(e=gd())===null||e===void 0?void 0:e[`_${t}`]};var pd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Kb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Qa(JSON.stringify(n)),Qa(JSON.stringify(s)),""].join(".")}function qe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qe())}function tL(){var t;let e=(t=gd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Yb(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Zb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Jb(){let t=qe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Xb(){return!tL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Em(){try{return typeof indexedDB=="object"}catch{return!1}}function eC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var nL="FirebaseError",bt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=nL,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ln.prototype.create)}},Ln=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?rL(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new bt(i,a,r)}};function rL(t,e){return t.replace(iL,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var iL=/\{\$([^}]+)}/g;function tC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function pi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(zb(o)&&zb(s)){if(!pi(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function zb(t){return t!==null&&typeof t=="object"}function Ya(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function zo(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function qo(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function nC(t,e){let n=new ym(t,e);return n.subscribe.bind(n)}var ym=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");oL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=gm),i.error===void 0&&(i.error=gm),i.complete===void 0&&(i.complete=gm);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function oL(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function gm(){}var f9=4*60*60*1e3;function rt(t){return t&&t._delegate?t._delegate:t}var Lt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var gi="[DEFAULT]";var Dm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new pd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aL(e))try{this.getOrInitializeService({instanceIdentifier:gi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=gi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=gi){return this.instances.has(e)}getOptions(e=gi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=gi){return this.component?this.component.multipleInstances?e:gi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function sL(t){return t===gi?void 0:t}function aL(t){return t.instantiationMode==="EAGER"}var md=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Dm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var cL=[],fe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(fe||{}),uL={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},lL=fe.INFO,dL={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},hL=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=dL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},wr=class{constructor(e){this.name=e,this._logLevel=lL,this._logHandler=hL,this._userLogHandler=null,cL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}};var fL=(t,e)=>e.some(n=>t instanceof n),rC,iC;function pL(){return rC||(rC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gL(){return iC||(iC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var oC=new WeakMap,Cm=new WeakMap,sC=new WeakMap,bm=new WeakMap,Sm=new WeakMap;function mL(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(ln(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&oC.set(n,t)}).catch(()=>{}),Sm.set(e,t),e}function yL(t){if(Cm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Cm.set(t,e)}var Tm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ln(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function aC(t){Tm=t(Tm)}function vL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(yd(this),e,...n);return sC.set(r,e.sort?e.sort():[e]),ln(r)}:gL().includes(t)?function(...e){return t.apply(yd(this),e),ln(oC.get(this))}:function(...e){return ln(t.apply(yd(this),e))}}function _L(t){return typeof t=="function"?vL(t):(t instanceof IDBTransaction&&yL(t),fL(t,pL())?new Proxy(t,Tm):t)}function ln(t){if(t instanceof IDBRequest)return mL(t);if(bm.has(t))return bm.get(t);let e=_L(t);return e!==t&&(bm.set(t,e),Sm.set(e,t)),e}var yd=t=>Sm.get(t);function uC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=ln(s);return r&&s.addEventListener("upgradeneeded",u=>{r(ln(s.result),u.oldVersion,u.newVersion,ln(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var IL=["get","getKey","getAll","getAllKeys","count"],wL=["put","add","delete","clear"],Am=new Map;function cC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Am.get(e))return Am.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=wL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||IL.includes(n)))return;let o=function(s,...a){return w(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Am.set(e,o),o}aC(t=>ue(O({},t),{get:(e,n,r)=>cC(e,n)||t.get(e,n,r),has:(e,n)=>!!cC(e,n)||t.has(e,n)}));var Mm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(EL(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function EL(t){let e=t.getComponent();return e?.type==="VERSION"}var Nm="@firebase/app",lC="0.10.10";var Vn=new wr("@firebase/app"),DL="@firebase/app-compat",bL="@firebase/analytics-compat",CL="@firebase/analytics",TL="@firebase/app-check-compat",SL="@firebase/app-check",AL="@firebase/auth",RL="@firebase/auth-compat",ML="@firebase/database",NL="@firebase/database-compat",xL="@firebase/functions",PL="@firebase/functions-compat",OL="@firebase/installations",kL="@firebase/installations-compat",FL="@firebase/messaging",LL="@firebase/messaging-compat",VL="@firebase/performance",jL="@firebase/performance-compat",UL="@firebase/remote-config",BL="@firebase/remote-config-compat",$L="@firebase/storage",HL="@firebase/storage-compat",zL="@firebase/firestore",qL="@firebase/vertexai-preview",GL="@firebase/firestore-compat",WL="firebase",KL="10.13.1";var xm="[DEFAULT]",QL={[Nm]:"fire-core",[DL]:"fire-core-compat",[CL]:"fire-analytics",[bL]:"fire-analytics-compat",[SL]:"fire-app-check",[TL]:"fire-app-check-compat",[AL]:"fire-auth",[RL]:"fire-auth-compat",[ML]:"fire-rtdb",[NL]:"fire-rtdb-compat",[xL]:"fire-fn",[PL]:"fire-fn-compat",[OL]:"fire-iid",[kL]:"fire-iid-compat",[FL]:"fire-fcm",[LL]:"fire-fcm-compat",[VL]:"fire-perf",[jL]:"fire-perf-compat",[UL]:"fire-rc",[BL]:"fire-rc-compat",[$L]:"fire-gcs",[HL]:"fire-gcs-compat",[zL]:"fire-fst",[GL]:"fire-fst-compat",[qL]:"fire-vertex","fire-js":"fire-js",[WL]:"fire-js-all"};var Za=new Map,YL=new Map,Pm=new Map;function dC(t,e){try{t.container.addComponent(e)}catch(n){Vn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dr(t){let e=t.name;if(Pm.has(e))return Vn.debug(`There were multiple attempts to register component ${e}.`),!1;Pm.set(e,t);for(let n of Za.values())dC(n,t);for(let n of YL.values())dC(n,t);return!0}function Xa(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Wt(t){return t.settings!==void 0}var ZL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Er=new Ln("app","Firebase",ZL);var Om=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}};var br=KL;function Lm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:xm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Er.create("bad-app-name",{appName:String(i)});if(n||(n=Im()),!n)throw Er.create("no-options");let o=Za.get(i);if(o){if(pi(n,o.options)&&pi(r,o.config))return o;throw Er.create("duplicate-app",{appName:i})}let s=new md(i);for(let u of Pm.values())s.addComponent(u);let a=new Om(n,r,s);return Za.set(i,a),a}function Go(t=xm){let e=Za.get(t);if(!e&&t===xm&&Im())return Lm();if(!e)throw Er.create("no-app",{appName:t});return e}function vd(){return Array.from(Za.values())}function He(t,e,n){var r;let i=(r=QL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vn.warn(a.join(" "));return}Dr(new Lt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var JL="firebase-heartbeat-database",XL=1,Ja="firebase-heartbeat-store",Rm=null;function gC(){return Rm||(Rm=uC(JL,XL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ja)}catch(n){console.warn(n)}}}}).catch(t=>{throw Er.create("idb-open",{originalErrorMessage:t.message})})),Rm}function eV(t){return w(this,null,function*(){try{let n=(yield gC()).transaction(Ja),r=yield n.objectStore(Ja).get(mC(t));return yield n.done,r}catch(e){if(e instanceof bt)Vn.warn(e.message);else{let n=Er.create("idb-get",{originalErrorMessage:e?.message});Vn.warn(n.message)}}})}function hC(t,e){return w(this,null,function*(){try{let r=(yield gC()).transaction(Ja,"readwrite");yield r.objectStore(Ja).put(e,mC(t)),yield r.done}catch(n){if(n instanceof bt)Vn.warn(n.message);else{let r=Er.create("idb-set",{originalErrorMessage:n?.message});Vn.warn(r.message)}}})}function mC(t){return`${t.name}!${t.options.appId}`}var tV=1024,nV=30*24*60*60*1e3,km=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Fm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=fC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=nV}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Vn.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=fC(),{heartbeatsToSend:r,unsentEntries:i}=rV(this._heartbeatsCache.heartbeats),o=Qa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Vn.warn(n),""}})}};function fC(){return new Date().toISOString().substring(0,10)}function rV(t,e=tV){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),pC(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),pC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Fm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return Em()?eC().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield eV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return hC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return hC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function pC(t){return Qa(JSON.stringify({version:2,heartbeats:t})).length}function iV(t){Dr(new Lt("platform-logger",e=>new Mm(e),"PRIVATE")),Dr(new Lt("heartbeat",e=>new km(e),"PRIVATE")),He(Nm,lC,t),He(Nm,lC,"esm2017"),He("fire-js","")}iV("");var oV="firebase",sV="10.13.1";He(oV,sV,"app");var yi=new Sn("ANGULARFIRE2_VERSION");function Id(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ec=(t,e)=>{let n=e?[e]:vd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ko=class{constructor(){return ec(aV)}},aV="app-check";function Wo(){}var _d=class{zone;delegate;constructor(e,n=Df){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Vm=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wo,{},Wo,Wo)),n.pipe($e({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Qo=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new _d(Zone.current)),this.insideAngular=n.run(()=>new _d(Zone.current,Ef)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(oe(we))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function wd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function cV(t){return wd().ngZone.runOutsideAngular(()=>t())}function mi(t){return wd().ngZone.run(()=>t())}function uV(t){return lV(wd())(t)}function lV(t){return function(n){return n=n.lift(new Vm(t.ngZone)),n.pipe(rr(t.outsideAngular),nr(t.insideAngular))}}var dV=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),mi(()=>t.apply(void 0,r))},Vt=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=mi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wo,{},Wo,Wo))),r[o]=dV(r[o],n));let i=cV(()=>t.apply(this,r));if(!e)if(i instanceof le){let o=wd();return i.pipe(rr(o.outsideAngular),nr(o.insideAngular))}else return mi(()=>i);return i instanceof le?i.pipe(uV):i instanceof Promise?mi(()=>new Promise((o,s)=>i.then(a=>mi(()=>o(a)),a=>mi(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:mi(()=>i)};var jn=class{constructor(e){return e}},vi=class{constructor(){return vd()}};function hV(t){return t&&t.length===1?t[0]:new jn(Go())}var jm=new B("angularfire2._apps"),fV={provide:jn,useFactory:hV,deps:[[new mt,jm]]},pV={provide:vi,deps:[[new mt,jm]]};function gV(t){return(e,n)=>{let r=n.get(mr);He("angularfire",yi.full,"core"),He("angularfire",yi.full,"app"),He("angular",lD.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new jn(i)}}function yC(t,...e){return sn([fV,pV,{provide:jm,useFactory:gV(t),multi:!0,deps:[we,gt,Qo,...e]}])}var vC=Vt(Lm,!0);function kC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var FC=kC,LC=new Ln("auth","Firebase",kC());var Sd=new wr("@firebase/auth");function mV(t,...e){Sd.logLevel<=fe.WARN&&Sd.warn(`Auth (${br}): ${t}`,...e)}function Dd(t,...e){Sd.logLevel<=fe.ERROR&&Sd.error(`Auth (${br}): ${t}`,...e)}function hn(t,...e){throw cy(t,...e)}function _i(t,...e){return cy(t,...e)}function VC(t,e,n){let r=Object.assign(Object.assign({},FC()),{[e]:n});return new Ln("auth","Firebase",r).create(e,{appName:t.name})}function $n(t){return VC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cy(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return LC.create(t,...e)}function K(t,e,...n){if(!t)throw cy(e,...n)}function Un(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Dd(e),new Error(e)}function Tr(t,e){t||Un(e)}function Hm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function yV(){return _C()==="http:"||_C()==="https:"}function _C(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function vV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yV()||Yb()||"connection"in navigator)?navigator.onLine:!0}function _V(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ii=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Tr(n>e,"Short delay should be less than long delay!"),this.isMobile=Qb()||Zb()}get(){return vV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function uy(t,e){Tr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Ad=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Un("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Un("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Un("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var IV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var wV=new Ii(3e4,6e4);function Sr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ar(o,s,a,u){return w(this,arguments,function*(t,e,n,r,i={}){return jC(t,i,()=>w(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Ya(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),Ad.fetch()(UC(t,t.config.apiHost,n,p),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},l))}))})}function jC(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},IV),e);try{let i=new zm(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Ed(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ed(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Ed(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Ed(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw VC(t,h,l);hn(t,h)}}catch(i){if(i instanceof bt)throw i;hn(t,"network-request-failed",{message:String(i)})}})}function cc(o,s,a,u){return w(this,arguments,function*(t,e,n,r,i={}){let l=yield Ar(t,e,n,r,i);return"mfaPendingCredential"in l&&hn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function UC(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?uy(t.config,i):`${t.config.apiScheme}://${i}`}function EV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var zm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_i(this.auth,"network-request-failed")),wV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Ed(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=_i(t,e,r);return i.customData._tokenResponse=n,i}function IC(t){return t!==void 0&&t.enterprise!==void 0}var qm=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return EV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function DV(t,e){return w(this,null,function*(){return Ar(t,"GET","/v2/recaptchaConfig",Sr(t,e))})}function bV(t,e){return w(this,null,function*(){return Ar(t,"POST","/v1/accounts:delete",e)})}function BC(t,e){return w(this,null,function*(){return Ar(t,"POST","/v1/accounts:lookup",e)})}function tc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ly(t,e=!1){return w(this,null,function*(){let n=rt(t),r=yield n.getIdToken(e),i=dy(r);K(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:tc(Um(i.auth_time)),issuedAtTime:tc(Um(i.iat)),expirationTime:tc(Um(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Um(t){return Number(t)*1e3}function dy(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Dd("JWT malformed, contained fewer than 3 sections"),null;try{let i=vm(n);return i?JSON.parse(i):(Dd("Failed to decode base64 JWT payload"),null)}catch(i){return Dd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function wC(t){let e=dy(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function rc(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof bt&&CV(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function CV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Gm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ic=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tc(this.lastLoginAt),this.creationTime=tc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Rd(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield rc(t,BC(n,{idToken:r}));K(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?$C(o.providerUserInfo):[],a=TV(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ic(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function hy(t){return w(this,null,function*(){let e=rt(t);yield Rd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function TV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function $C(t){return t.map(e=>{var{providerId:n}=e,r=bf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function SV(t,e){return w(this,null,function*(){let n=yield jC(t,{},()=>w(this,null,function*(){let r=Ya({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=UC(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ad.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function AV(t,e){return w(this,null,function*(){return Ar(t,"POST","/v2/accounts:revokeToken",Sr(t,e))})}var nc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){K(e.length!==0,"internal-error");let n=wC(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield SV(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(K(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(K(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(K(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Un("not implemented")}};function Cr(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Yo=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=bf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ic(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield rc(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return ly(this,e)}reload(){return hy(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Rd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(Wt(this.auth.app))return Promise.reject($n(this.auth));let e=yield this.getIdToken();return yield rc(this,bV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,v=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=n.photoURL)!==null&&s!==void 0?s:void 0,N=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=n.createdAt)!==null&&l!==void 0?l:void 0,$=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:G,emailVerified:ce,isAnonymous:Re,providerData:J,stsTokenManager:D}=n;K(G&&D,e,"internal-error");let y=nc.fromJSON(this.name,D);K(typeof G=="string",e,"internal-error"),Cr(p,e.name),Cr(m,e.name),K(typeof ce=="boolean",e,"internal-error"),K(typeof Re=="boolean",e,"internal-error"),Cr(v,e.name),Cr(S,e.name),Cr(N,e.name),Cr(R,e.name),Cr(F,e.name),Cr($,e.name);let _=new t({uid:G,auth:e,email:m,emailVerified:ce,displayName:p,isAnonymous:Re,photoURL:S,phoneNumber:v,tenantId:N,stsTokenManager:y,createdAt:F,lastLoginAt:$});return J&&Array.isArray(J)&&(_.providerData=J.map(E=>Object.assign({},E))),R&&(_._redirectEventId=R),_}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new nc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Rd(o),o})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];K(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?$C(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new nc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ic(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var EC=new Map;function Bn(t){Tr(t instanceof Function,"Expected a class definition");let e=EC.get(t);return e?(Tr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,EC.set(t,e),e)}var RV=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Wm=RV;function bd(t,e,n){return`firebase:${t}:${e}:${n}`}var Md=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=bd(this.userKey,i.apiKey,o),this.fullPersistenceKey=bd("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Yo._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(Bn(Wm),e,r);let i=(yield Promise.all(n.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Bn(Wm),s=bd(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p=Yo._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>w(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function DC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KC(e))return"Blackberry";if(QC(e))return"Webos";if(zC(e))return"Safari";if((e.includes("chrome/")||qC(e))&&!e.includes("edge/"))return"Chrome";if(WC(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function HC(t=qe()){return/firefox\//i.test(t)}function zC(t=qe()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qC(t=qe()){return/crios\//i.test(t)}function GC(t=qe()){return/iemobile/i.test(t)}function WC(t=qe()){return/android/i.test(t)}function KC(t=qe()){return/blackberry/i.test(t)}function QC(t=qe()){return/webos/i.test(t)}function fy(t=qe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function MV(t=qe()){var e;return fy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function NV(){return Jb()&&document.documentMode===10}function YC(t=qe()){return fy(t)||WC(t)||QC(t)||KC(t)||/windows phone/i.test(t)||GC(t)}function ZC(t,e=[]){let n;switch(t){case"Browser":n=DC(qe());break;case"Worker":n=`${DC(qe())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${br}/${r}`}var Km=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function xV(n){return w(this,arguments,function*(t,e={}){return Ar(t,"GET","/v2/passwordPolicy",Sr(t,e))})}var PV=6,Qm=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:PV,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Ym=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nd(this),this.idTokenSubscription=new Nd(this),this.beforeStateQueue=new Km(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bn(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Md.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield BC(this,{idToken:e}),r=yield Yo._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(Wt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield Rd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=_V()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(Wt(this.app))return Promise.reject($n(this));let n=e?rt(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return Wt(this.app)?Promise.reject($n(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Wt(this.app)?Promise.reject($n(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(Bn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield xV(this),n=new Qm(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ln("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield AV(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Bn(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=yield Md.create(this,[Bn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&mV(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Ei(t){return rt(t)}var Nd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=nC(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Vd={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OV(t){Vd=t}function JC(t){return Vd.loadJS(t)}function kV(){return Vd.recaptchaEnterpriseScript}function FV(){return Vd.gapiScript}function XC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var LV="recaptcha-enterprise",VV="NO_RECAPTCHA",Zm=class{constructor(e){this.type=LV,this.auth=Ei(e)}verify(e="verify",n=!1){return w(this,null,function*(){function r(o){return w(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>w(this,null,function*(){DV(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new qm(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;IC(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(VV)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&IC(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=kV();u.length!==0&&(u+=a),JC(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function bC(t,e,n,r=!1){return w(this,null,function*(){let i=new Zm(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function Jm(t,e,n,r){return w(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield bC(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>w(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield bC(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function py(t,e){let n=Xa(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(pi(o,e??{}))return i;hn(i,"already-initialized")}return n.initialize({options:e})}function jV(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Bn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function gy(t,e,n){let r=Ei(t);K(r._canInitEmulator,r,"emulator-config-failed"),K(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=eT(e),{host:s,port:a}=UV(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||BV()}function eT(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function UV(t){let e=eT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:CC(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:CC(s)}}}function CC(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function BV(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var oc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Un("not implemented")}_getIdTokenResponse(e){return Un("not implemented")}_linkToIdToken(e,n){return Un("not implemented")}_getReauthenticationResolver(e){return Un("not implemented")}};function $V(t,e){return w(this,null,function*(){return Ar(t,"POST","/v1/accounts:signUp",e)})}function HV(t,e){return w(this,null,function*(){return cc(t,"POST","/v1/accounts:signInWithPassword",Sr(t,e))})}function zV(t,e){return w(this,null,function*(){return cc(t,"POST","/v1/accounts:signInWithEmailLink",Sr(t,e))})}function qV(t,e){return w(this,null,function*(){return cc(t,"POST","/v1/accounts:signInWithEmailLink",Sr(t,e))})}var sc=class t extends oc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jm(e,n,"signInWithPassword",HV);case"emailLink":return zV(e,{email:this._email,oobCode:this._password});default:hn(e,"internal-error")}})}_linkToIdToken(e,n){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jm(e,r,"signUpPassword",$V);case"emailLink":return qV(e,{idToken:n,email:this._email,oobCode:this._password});default:hn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Bm(t,e){return w(this,null,function*(){return cc(t,"POST","/v1/accounts:signInWithIdp",Sr(t,e))})}function GV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function WV(t){let e=zo(qo(t)).link,n=e?zo(qo(e)).deep_link_id:null,r=zo(qo(t)).deep_link_id;return(r?zo(qo(r)).link:null)||r||n||e||t}var xd=class t{constructor(e){var n,r,i,o,s,a;let u=zo(qo(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=GV((i=u.mode)!==null&&i!==void 0?i:null);K(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=WV(e);try{return new t(n)}catch{return null}}};var tT=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return sc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=xd.parseLink(r);return K(i,"argument-error"),sc._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Pd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Xm=class extends Pd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function KV(t,e){return w(this,null,function*(){return cc(t,"POST","/v1/accounts:signUp",Sr(t,e))})}var Zo=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let o=yield Yo._fromIdTokenResponse(e,r,i),s=TC(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=TC(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function TC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var ey=class t extends bt{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function nT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ey._fromErrorAndOperation(t,o,e,r):o})}function QV(t,e,n=!1){return w(this,null,function*(){let r=yield rc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Zo._forOperation(t,"link",r)})}function YV(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if(Wt(r.app))return Promise.reject($n(r));let i="reauthenticate";try{let o=yield rc(t,nT(r,i,e,t),n);K(o.idToken,r,"internal-error");let s=dy(o.idToken);K(s,r,"internal-error");let{sub:a}=s;return K(t.uid===a,r,"user-mismatch"),Zo._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&hn(r,"user-mismatch"),o}})}function rT(t,e,n=!1){return w(this,null,function*(){if(Wt(t.app))return Promise.reject($n(t));let r="signIn",i=yield nT(t,r,e),o=yield Zo._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function my(t,e){return w(this,null,function*(){return rT(Ei(t),e)})}function iT(t){return w(this,null,function*(){let e=Ei(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function yy(t,e,n){return w(this,null,function*(){if(Wt(t.app))return Promise.reject($n(t));let r=Ei(t),s=yield Jm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",KV).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&iT(t),u}),a=yield Zo._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function vy(t,e,n){return Wt(t.app)?Promise.reject($n(t)):my(rt(t),tT.credential(e,n)).catch(r=>w(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&iT(t),r}))}function _y(t,e,n,r){return rt(t).onIdTokenChanged(e,n,r)}function Iy(t,e,n){return rt(t).beforeAuthStateChanged(e,n)}var Od="__sak";var kd=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Od,"1"),this.storage.removeItem(Od),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var ZV=1e3,JV=10,XV=(()=>{class t extends kd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YC(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);NV()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,JV):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},ZV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield er(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield er(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield er(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),oT=XV;var e2=(()=>{class t extends kd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),wy=e2;function t2(t){return Promise.all(t.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var n2=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>w(this,null,function*(){return h(r.origin,s)})),l=yield t2(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function sT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var ty=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=sT("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function dn(){return window}function r2(t){dn().location.href=t}function aT(){return typeof dn().WorkerGlobalScope<"u"&&typeof dn().importScripts=="function"}function i2(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function o2(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function s2(){return aT()?self:null}var cT="firebaseLocalStorageDb",a2=1,Fd="firebaseLocalStorage",uT="fbase_key",wi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function jd(t,e){return t.transaction([Fd],e?"readwrite":"readonly").objectStore(Fd)}function c2(){let t=indexedDB.deleteDatabase(cT);return new wi(t).toPromise()}function ny(){let t=indexedDB.open(cT,a2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Fd,{keyPath:uT})}catch(i){n(i)}}),t.addEventListener("success",()=>w(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Fd)?e(r):(r.close(),yield c2(),e(yield ny()))}))})}function SC(t,e,n){return w(this,null,function*(){let r=jd(t,!0).put({[uT]:e,value:n});return new wi(r).toPromise()})}function u2(t,e){return w(this,null,function*(){let n=jd(t,!1).get(e),r=yield new wi(n).toPromise();return r===void 0?null:r.value})}function AC(t,e){let n=jd(t,!0).delete(e);return new wi(n).toPromise()}var l2=800,d2=3,h2=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield ny(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>d2)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return aT()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=n2._getInstance(s2()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield i2(),!this.activeServiceWorker)return;this.sender=new ty(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||o2()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield ny();return yield SC(n,Od,"1"),yield AC(n,Od),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>SC(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>u2(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>AC(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(o=>{let s=jd(o,!1).getAll();return new wi(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),l2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),lT=h2;var s5=XC("rcb"),a5=new Ii(3e4,6e4);function f2(t,e){return e?Bn(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ac=class extends oc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bm(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function p2(t){return rT(t.auth,new ac(t),t.bypassAuthState)}function g2(t){let{auth:e,user:n}=t;return K(n,e,"internal-error"),YV(n,new ac(t),t.bypassAuthState)}function m2(t){return w(this,null,function*(){let{auth:e,user:n}=t;return K(n,e,"internal-error"),QV(n,new ac(t),t.bypassAuthState)})}var ry=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return p2;case"linkViaPopup":case"linkViaRedirect":return m2;case"reauthViaPopup":case"reauthViaRedirect":return g2;default:hn(this.auth,"internal-error")}}resolve(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var c5=new Ii(2e3,1e4);var y2="pendingRedirect",Cd=new Map,iy=class t extends ry{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=Cd.get(this.auth._key());if(!e){try{let r=(yield v2(this.resolver,this.auth))?yield er(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Cd.set(this.auth._key(),e)}return this.bypassAuthState||Cd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return er(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,er(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function v2(t,e){return w(this,null,function*(){let n=w2(e),r=I2(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function _2(t,e){Cd.set(t._key(),e)}function I2(t){return Bn(t._redirectPersistence)}function w2(t){return bd(y2,t.config.apiKey,t.name)}function E2(t,e,n=!1){return w(this,null,function*(){if(Wt(t.app))return Promise.reject($n(t));let r=Ei(t),i=f2(r,e),s=yield new iy(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var D2=10*60*1e3,oy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!b2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!dT(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(_i(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=D2&&this.cachedEventUids.clear(),this.cachedEventUids.has(RC(e))}saveEventToCache(e){this.cachedEventUids.add(RC(e)),this.lastProcessedEventTime=Date.now()}};function RC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dT({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function b2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dT(t);default:return!1}}function C2(n){return w(this,arguments,function*(t,e={}){return Ar(t,"GET","/v1/projects",e)})}var T2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,S2=/^https?/;function A2(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield C2(t);for(let n of e)try{if(R2(n))return}catch{}hn(t,"unauthorized-domain")})}function R2(t){let e=Hm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!S2.test(n))return!1;if(T2.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var M2=new Ii(3e4,6e4);function MC(){let t=dn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function N2(t){return new Promise((e,n)=>{var r,i,o;function s(){MC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{MC(),n(_i(t,"network-request-failed"))},timeout:M2.get()})}if(!((i=(r=dn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=dn().gapi)===null||o===void 0)&&o.load)s();else{let a=XC("iframefcb");return dn()[a]=()=>{gapi.load?s():n(_i(t,"network-request-failed"))},JC(`${FV()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Td=null,e})}var Td=null;function x2(t){return Td=Td||N2(t),Td}var P2=new Ii(5e3,15e3),O2="__/auth/iframe",k2="emulator/auth/iframe",F2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},L2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function V2(t){let e=t.config;K(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?uy(e,k2):`https://${t.config.authDomain}/${O2}`,r={apiKey:e.apiKey,appName:t.name,v:br},i=L2.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ya(r).slice(1)}`}function j2(t){return w(this,null,function*(){let e=yield x2(t),n=dn().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:V2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:F2,dontclear:!0},r=>new Promise((i,o)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=_i(t,"network-request-failed"),a=dn().setTimeout(()=>{o(s)},P2.get());function u(){dn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var U2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},B2=500,$2=600,H2="_blank",z2="http://localhost",Ld=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function q2(t,e,n,r=B2,i=$2){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},U2),{width:r.toString(),height:i.toString(),top:o,left:s}),l=qe().toLowerCase();n&&(a=qC(l)?H2:n),HC(l)&&(e=e||z2,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[v,S])=>`${m}${v}=${S},`,"");if(MV(l)&&a!=="_self")return G2(e||"",a),new Ld(null);let p=window.open(e||"",a,h);K(p,t,"popup-blocked");try{p.focus()}catch{}return new Ld(p)}function G2(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var W2="__/auth/handler",K2="emulator/auth/handler",Q2=encodeURIComponent("fac");function NC(t,e,n,r,i,o){return w(this,null,function*(){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:br,eventId:i};if(e instanceof Pd){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",tC(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof Xm){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${Q2}=${encodeURIComponent(u)}`:"";return`${Y2(t)}?${Ya(a).slice(1)}${l}`})}function Y2({config:t}){return t.emulator?uy(t,K2):`https://${t.authDomain}/${W2}`}var $m="webStorageSupport",sy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wy,this._completeRedirectFn=E2,this._overrideRedirectResult=_2}_openPopup(e,n,r,i){return w(this,null,function*(){var o;Tr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield NC(e,n,r,Hm(),i);return q2(e,s,sT())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let o=yield NC(e,n,r,Hm(),i);return r2(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Tr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield j2(e),r=new oy(e);return n.register("authEvent",i=>(K(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($m,{type:$m},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[$m];s!==void 0&&n(!!s),hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=A2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return YC()||zC()||fy()}},hT=sy;var xC="@firebase/auth",PC="1.7.8";var ay=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Z2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function J2(t){Dr(new Lt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;K(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZC(t)},l=new Ym(r,i,o,u);return jV(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Dr(new Lt("auth-internal",e=>{let n=Ei(e.getProvider("auth").getImmediate());return(r=>new ay(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),He(xC,PC,Z2(t)),He(xC,PC,"esm2017")}var X2=5*60,ej=wm("authIdTokenMaxAge")||X2,OC=null,tj=t=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ej)return;let i=n?.token;OC!==i&&(OC=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Ey(t=Go()){let e=Xa(t,"auth");if(e.isInitialized())return e.getImmediate();let n=py(t,{popupRedirectResolver:hT,persistence:[lT,oT,wy]}),r=wm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=tj(o.toString());Iy(n,s,()=>s(n.currentUser)),_y(n,a=>s(a))}}let i=_m("auth");return i&&gy(n,`http://${i}`),n}function nj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}OV({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=_i("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",nj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});J2("Browser");var fT="auth",Hn=class{constructor(e){return e}},uc=class{constructor(){return ec(fT)}};var Dy=new B("angularfire2.auth-instances");function Wj(t,e){let n=Id(fT,t,e);return n&&new Hn(n)}function Kj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Hn(r)}}var Qj={provide:uc,deps:[[new mt,Dy]]},Yj={provide:Hn,useFactory:Wj,deps:[[new mt,Dy],jn]};function pT(t,...e){return He("angularfire",yi.full,"auth"),sn([Yj,Qj,{provide:Dy,useFactory:Kj(t),multi:!0,deps:[we,gt,Qo,vi,[new mt,Ko],...e]}])}var gT=Vt(yy,!0);var mT=Vt(Ey,!0);var yT=Vt(vy,!0);var _T=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},IT={};var Rr,by;(function(){var t;function e(D,y){function _(){}_.prototype=y.prototype,D.D=y.prototype,D.prototype=new _,D.prototype.constructor=D,D.C=function(E,b,T){for(var I=Array(arguments.length-2),_n=2;_n<arguments.length;_n++)I[_n-2]=arguments[_n];return y.prototype[b].apply(E,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,y,_){_||(_=0);var E=Array(16);if(typeof y=="string")for(var b=0;16>b;++b)E[b]=y.charCodeAt(_++)|y.charCodeAt(_++)<<8|y.charCodeAt(_++)<<16|y.charCodeAt(_++)<<24;else for(b=0;16>b;++b)E[b]=y[_++]|y[_++]<<8|y[_++]<<16|y[_++]<<24;y=D.g[0],_=D.g[1],b=D.g[2];var T=D.g[3],I=y+(T^_&(b^T))+E[0]+3614090360&4294967295;y=_+(I<<7&4294967295|I>>>25),I=T+(b^y&(_^b))+E[1]+3905402710&4294967295,T=y+(I<<12&4294967295|I>>>20),I=b+(_^T&(y^_))+E[2]+606105819&4294967295,b=T+(I<<17&4294967295|I>>>15),I=_+(y^b&(T^y))+E[3]+3250441966&4294967295,_=b+(I<<22&4294967295|I>>>10),I=y+(T^_&(b^T))+E[4]+4118548399&4294967295,y=_+(I<<7&4294967295|I>>>25),I=T+(b^y&(_^b))+E[5]+1200080426&4294967295,T=y+(I<<12&4294967295|I>>>20),I=b+(_^T&(y^_))+E[6]+2821735955&4294967295,b=T+(I<<17&4294967295|I>>>15),I=_+(y^b&(T^y))+E[7]+4249261313&4294967295,_=b+(I<<22&4294967295|I>>>10),I=y+(T^_&(b^T))+E[8]+1770035416&4294967295,y=_+(I<<7&4294967295|I>>>25),I=T+(b^y&(_^b))+E[9]+2336552879&4294967295,T=y+(I<<12&4294967295|I>>>20),I=b+(_^T&(y^_))+E[10]+4294925233&4294967295,b=T+(I<<17&4294967295|I>>>15),I=_+(y^b&(T^y))+E[11]+2304563134&4294967295,_=b+(I<<22&4294967295|I>>>10),I=y+(T^_&(b^T))+E[12]+1804603682&4294967295,y=_+(I<<7&4294967295|I>>>25),I=T+(b^y&(_^b))+E[13]+4254626195&4294967295,T=y+(I<<12&4294967295|I>>>20),I=b+(_^T&(y^_))+E[14]+2792965006&4294967295,b=T+(I<<17&4294967295|I>>>15),I=_+(y^b&(T^y))+E[15]+1236535329&4294967295,_=b+(I<<22&4294967295|I>>>10),I=y+(b^T&(_^b))+E[1]+4129170786&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^b&(y^_))+E[6]+3225465664&4294967295,T=y+(I<<9&4294967295|I>>>23),I=b+(y^_&(T^y))+E[11]+643717713&4294967295,b=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(b^T))+E[0]+3921069994&4294967295,_=b+(I<<20&4294967295|I>>>12),I=y+(b^T&(_^b))+E[5]+3593408605&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^b&(y^_))+E[10]+38016083&4294967295,T=y+(I<<9&4294967295|I>>>23),I=b+(y^_&(T^y))+E[15]+3634488961&4294967295,b=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(b^T))+E[4]+3889429448&4294967295,_=b+(I<<20&4294967295|I>>>12),I=y+(b^T&(_^b))+E[9]+568446438&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^b&(y^_))+E[14]+3275163606&4294967295,T=y+(I<<9&4294967295|I>>>23),I=b+(y^_&(T^y))+E[3]+4107603335&4294967295,b=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(b^T))+E[8]+1163531501&4294967295,_=b+(I<<20&4294967295|I>>>12),I=y+(b^T&(_^b))+E[13]+2850285829&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^b&(y^_))+E[2]+4243563512&4294967295,T=y+(I<<9&4294967295|I>>>23),I=b+(y^_&(T^y))+E[7]+1735328473&4294967295,b=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(b^T))+E[12]+2368359562&4294967295,_=b+(I<<20&4294967295|I>>>12),I=y+(_^b^T)+E[5]+4294588738&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^b)+E[8]+2272392833&4294967295,T=y+(I<<11&4294967295|I>>>21),I=b+(T^y^_)+E[11]+1839030562&4294967295,b=T+(I<<16&4294967295|I>>>16),I=_+(b^T^y)+E[14]+4259657740&4294967295,_=b+(I<<23&4294967295|I>>>9),I=y+(_^b^T)+E[1]+2763975236&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^b)+E[4]+1272893353&4294967295,T=y+(I<<11&4294967295|I>>>21),I=b+(T^y^_)+E[7]+4139469664&4294967295,b=T+(I<<16&4294967295|I>>>16),I=_+(b^T^y)+E[10]+3200236656&4294967295,_=b+(I<<23&4294967295|I>>>9),I=y+(_^b^T)+E[13]+681279174&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^b)+E[0]+3936430074&4294967295,T=y+(I<<11&4294967295|I>>>21),I=b+(T^y^_)+E[3]+3572445317&4294967295,b=T+(I<<16&4294967295|I>>>16),I=_+(b^T^y)+E[6]+76029189&4294967295,_=b+(I<<23&4294967295|I>>>9),I=y+(_^b^T)+E[9]+3654602809&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^b)+E[12]+3873151461&4294967295,T=y+(I<<11&4294967295|I>>>21),I=b+(T^y^_)+E[15]+530742520&4294967295,b=T+(I<<16&4294967295|I>>>16),I=_+(b^T^y)+E[2]+3299628645&4294967295,_=b+(I<<23&4294967295|I>>>9),I=y+(b^(_|~T))+E[0]+4096336452&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~b))+E[7]+1126891415&4294967295,T=y+(I<<10&4294967295|I>>>22),I=b+(y^(T|~_))+E[14]+2878612391&4294967295,b=T+(I<<15&4294967295|I>>>17),I=_+(T^(b|~y))+E[5]+4237533241&4294967295,_=b+(I<<21&4294967295|I>>>11),I=y+(b^(_|~T))+E[12]+1700485571&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~b))+E[3]+2399980690&4294967295,T=y+(I<<10&4294967295|I>>>22),I=b+(y^(T|~_))+E[10]+4293915773&4294967295,b=T+(I<<15&4294967295|I>>>17),I=_+(T^(b|~y))+E[1]+2240044497&4294967295,_=b+(I<<21&4294967295|I>>>11),I=y+(b^(_|~T))+E[8]+1873313359&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~b))+E[15]+4264355552&4294967295,T=y+(I<<10&4294967295|I>>>22),I=b+(y^(T|~_))+E[6]+2734768916&4294967295,b=T+(I<<15&4294967295|I>>>17),I=_+(T^(b|~y))+E[13]+1309151649&4294967295,_=b+(I<<21&4294967295|I>>>11),I=y+(b^(_|~T))+E[4]+4149444226&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~b))+E[11]+3174756917&4294967295,T=y+(I<<10&4294967295|I>>>22),I=b+(y^(T|~_))+E[2]+718787259&4294967295,b=T+(I<<15&4294967295|I>>>17),I=_+(T^(b|~y))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+y&4294967295,D.g[1]=D.g[1]+(b+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+b&4294967295,D.g[3]=D.g[3]+T&4294967295}r.prototype.u=function(D,y){y===void 0&&(y=D.length);for(var _=y-this.blockSize,E=this.B,b=this.h,T=0;T<y;){if(b==0)for(;T<=_;)i(this,D,T),T+=this.blockSize;if(typeof D=="string"){for(;T<y;)if(E[b++]=D.charCodeAt(T++),b==this.blockSize){i(this,E),b=0;break}}else for(;T<y;)if(E[b++]=D[T++],b==this.blockSize){i(this,E),b=0;break}}this.h=b,this.o+=y},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var y=1;y<D.length-8;++y)D[y]=0;var _=8*this.o;for(y=D.length-8;y<D.length;++y)D[y]=_&255,_/=256;for(this.u(D),D=Array(16),y=_=0;4>y;++y)for(var E=0;32>E;E+=8)D[_++]=this.g[y]>>>E&255;return D};function o(D,y){var _=a;return Object.prototype.hasOwnProperty.call(_,D)?_[D]:_[D]=y(D)}function s(D,y){this.h=y;for(var _=[],E=!0,b=D.length-1;0<=b;b--){var T=D[b]|0;E&&T==y||(_[b]=T,E=!1)}this.g=_}var a={};function u(D){return-128<=D&&128>D?o(D,function(y){return new s([y|0],0>y?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return R(l(-D));for(var y=[],_=1,E=0;D>=_;E++)y[E]=D/_|0,_*=4294967296;return new s(y,0)}function h(D,y){if(D.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(D.charAt(0)=="-")return R(h(D.substring(1),y));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(y,8)),E=p,b=0;b<D.length;b+=8){var T=Math.min(8,D.length-b),I=parseInt(D.substring(b,b+T),y);8>T?(T=l(Math.pow(y,T)),E=E.j(T).add(l(I))):(E=E.j(_),E=E.add(l(I)))}return E}var p=u(0),m=u(1),v=u(16777216);t=s.prototype,t.m=function(){if(N(this))return-R(this).m();for(var D=0,y=1,_=0;_<this.g.length;_++){var E=this.i(_);D+=(0<=E?E:4294967296+E)*y,y*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(N(this))return"-"+R(this).toString(D);for(var y=l(Math.pow(D,6)),_=this,E="";;){var b=ce(_,y).g;_=F(_,b.j(y));var T=((0<_.g.length?_.g[0]:_.h)>>>0).toString(D);if(_=b,S(_))return T+E;for(;6>T.length;)T="0"+T;E=T+E}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var y=0;y<D.g.length;y++)if(D.g[y]!=0)return!1;return!0}function N(D){return D.h==-1}t.l=function(D){return D=F(this,D),N(D)?-1:S(D)?0:1};function R(D){for(var y=D.g.length,_=[],E=0;E<y;E++)_[E]=~D.g[E];return new s(_,~D.h).add(m)}t.abs=function(){return N(this)?R(this):this},t.add=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0,b=0;b<=y;b++){var T=E+(this.i(b)&65535)+(D.i(b)&65535),I=(T>>>16)+(this.i(b)>>>16)+(D.i(b)>>>16);E=I>>>16,T&=65535,I&=65535,_[b]=I<<16|T}return new s(_,_[_.length-1]&-2147483648?-1:0)};function F(D,y){return D.add(R(y))}t.j=function(D){if(S(this)||S(D))return p;if(N(this))return N(D)?R(this).j(R(D)):R(R(this).j(D));if(N(D))return R(this.j(R(D)));if(0>this.l(v)&&0>D.l(v))return l(this.m()*D.m());for(var y=this.g.length+D.g.length,_=[],E=0;E<2*y;E++)_[E]=0;for(E=0;E<this.g.length;E++)for(var b=0;b<D.g.length;b++){var T=this.i(E)>>>16,I=this.i(E)&65535,_n=D.i(b)>>>16,Es=D.i(b)&65535;_[2*E+2*b]+=I*Es,$(_,2*E+2*b),_[2*E+2*b+1]+=T*Es,$(_,2*E+2*b+1),_[2*E+2*b+1]+=I*_n,$(_,2*E+2*b+1),_[2*E+2*b+2]+=T*_n,$(_,2*E+2*b+2)}for(E=0;E<y;E++)_[E]=_[2*E+1]<<16|_[2*E];for(E=y;E<2*y;E++)_[E]=0;return new s(_,0)};function $(D,y){for(;(D[y]&65535)!=D[y];)D[y+1]+=D[y]>>>16,D[y]&=65535,y++}function G(D,y){this.g=D,this.h=y}function ce(D,y){if(S(y))throw Error("division by zero");if(S(D))return new G(p,p);if(N(D))return y=ce(R(D),y),new G(R(y.g),R(y.h));if(N(y))return y=ce(D,R(y)),new G(R(y.g),y.h);if(30<D.g.length){if(N(D)||N(y))throw Error("slowDivide_ only works with positive integers.");for(var _=m,E=y;0>=E.l(D);)_=Re(_),E=Re(E);var b=J(_,1),T=J(E,1);for(E=J(E,2),_=J(_,2);!S(E);){var I=T.add(E);0>=I.l(D)&&(b=b.add(_),T=I),E=J(E,1),_=J(_,1)}return y=F(D,b.j(y)),new G(b,y)}for(b=p;0<=D.l(y);){for(_=Math.max(1,Math.floor(D.m()/y.m())),E=Math.ceil(Math.log(_)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),T=l(_),I=T.j(y);N(I)||0<I.l(D);)_-=E,T=l(_),I=T.j(y);S(T)&&(T=m),b=b.add(T),D=F(D,I)}return new G(b,D)}t.A=function(D){return ce(this,D).h},t.and=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)&D.i(E);return new s(_,this.h&D.h)},t.or=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)|D.i(E);return new s(_,this.h|D.h)},t.xor=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)^D.i(E);return new s(_,this.h^D.h)};function Re(D){for(var y=D.g.length+1,_=[],E=0;E<y;E++)_[E]=D.i(E)<<1|D.i(E-1)>>>31;return new s(_,D.h)}function J(D,y){var _=y>>5;y%=32;for(var E=D.g.length-_,b=[],T=0;T<E;T++)b[T]=0<y?D.i(T+_)>>>y|D.i(T+_+1)<<32-y:D.i(T+_);return new s(b,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,by=IT.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Rr=IT.Integer=s}).apply(typeof _T<"u"?_T:typeof self<"u"?self:typeof window<"u"?window:{});var Ud=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zn={};var Cy,Ty,Jo,Sy,lc,Bd,Ay,Ry,My;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ud=="object"&&Ud];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var C=c[g];if(!(C in f))break e;f=f[C]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,C={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function v(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,C,A){for(var P=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)P[Ee-2]=arguments[Ee];return d.prototype[C].apply(g,P)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let C=c.length||0,A=g.length||0;c.length=C+A;for(let P=0;P<A;P++)c[C+P]=g[P]}else c.push(g)}}class F{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function $(c){return/^[\s\xa0]*$/.test(c)}function G(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ce(c){return ce[" "](c),c}ce[" "]=function(){};var Re=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function J(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function y(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let f,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(f in g)c[f]=g[f];for(let A=0;A<_.length;A++)f=_[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function b(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function T(c){a.setTimeout(()=>{throw c},0)}function I(){var c=Oh;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class _n{constructor(){this.h=this.g=null}add(d,f){let g=Es.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Es=new F(()=>new CA,c=>c.reset());class CA{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Ds,bs=!1,Oh=new _n,V_=()=>{let c=a.Promise.resolve(void 0);Ds=()=>{c.then(TA)}};var TA=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){T(f)}var d=Es;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}bs=!1};function Yn(){this.s=this.s,this.C=this.C}Yn.prototype.s=!1,Yn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Yn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ze(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Ze.prototype.h=function(){this.defaultPrevented=!0};var SA=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Cs(c,d){if(Ze.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Re){e:{try{ce(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:AA[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Cs.aa.h.call(this)}}S(Cs,Ze);var AA={2:"touch",3:"pen",4:"mouse"};Cs.prototype.h=function(){Cs.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ts="closure_listenable_"+(1e6*Math.random()|0),RA=0;function MA(c,d,f,g,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=C,this.key=++RA,this.da=this.fa=!1}function Oc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function kc(c){this.src=c,this.g={},this.h=0}kc.prototype.add=function(c,d,f,g,C){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var P=Fh(c,d,g,C);return-1<P?(d=c[P],f||(d.fa=!1)):(d=new MA(d,this.src,A,!!g,C),d.fa=f,c.push(d)),d};function kh(c,d){var f=d.type;if(f in c.g){var g=c.g[f],C=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=C)&&Array.prototype.splice.call(g,C,1),A&&(Oc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Fh(c,d,f,g){for(var C=0;C<c.length;++C){var A=c[C];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return C}return-1}var Lh="closure_lm_"+(1e6*Math.random()|0),Vh={};function j_(c,d,f,g,C){if(g&&g.once)return B_(c,d,f,g,C);if(Array.isArray(d)){for(var A=0;A<d.length;A++)j_(c,d[A],f,g,C);return null}return f=$h(f),c&&c[Ts]?c.K(d,f,l(g)?!!g.capture:!!g,C):U_(c,d,f,!1,g,C)}function U_(c,d,f,g,C,A){if(!d)throw Error("Invalid event type");var P=l(C)?!!C.capture:!!C,Ee=Uh(c);if(Ee||(c[Lh]=Ee=new kc(c)),f=Ee.add(d,f,g,P,A),f.proxy)return f;if(g=NA(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)SA||(C=P),C===void 0&&(C=!1),c.addEventListener(d.toString(),g,C);else if(c.attachEvent)c.attachEvent(H_(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function NA(){function c(f){return d.call(c.src,c.listener,f)}let d=xA;return c}function B_(c,d,f,g,C){if(Array.isArray(d)){for(var A=0;A<d.length;A++)B_(c,d[A],f,g,C);return null}return f=$h(f),c&&c[Ts]?c.L(d,f,l(g)?!!g.capture:!!g,C):U_(c,d,f,!0,g,C)}function $_(c,d,f,g,C){if(Array.isArray(d))for(var A=0;A<d.length;A++)$_(c,d[A],f,g,C);else g=l(g)?!!g.capture:!!g,f=$h(f),c&&c[Ts]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=Fh(A,f,g,C),-1<f&&(Oc(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=Uh(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Fh(d,f,g,C)),(f=-1<c?d[c]:null)&&jh(f))}function jh(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Ts])kh(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(H_(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Uh(d))?(kh(f,c),f.h==0&&(f.src=null,d[Lh]=null)):Oc(c)}}}function H_(c){return c in Vh?Vh[c]:Vh[c]="on"+c}function xA(c,d){if(c.da)c=!0;else{d=new Cs(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&jh(c),c=f.call(g,d)}return c}function Uh(c){return c=c[Lh],c instanceof kc?c:null}var Bh="__closure_events_fn_"+(1e9*Math.random()>>>0);function $h(c){return typeof c=="function"?c:(c[Bh]||(c[Bh]=function(d){return c.handleEvent(d)}),c[Bh])}function Je(){Yn.call(this),this.i=new kc(this),this.M=this,this.F=null}S(Je,Yn),Je.prototype[Ts]=!0,Je.prototype.removeEventListener=function(c,d,f,g){$_(this,c,d,f,g)};function at(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new Ze(d,c);else if(d instanceof Ze)d.target=d.target||c;else{var C=d;d=new Ze(g,c),E(d,C)}if(C=!0,f)for(var A=f.length-1;0<=A;A--){var P=d.g=f[A];C=Fc(P,g,!0,d)&&C}if(P=d.g=c,C=Fc(P,g,!0,d)&&C,C=Fc(P,g,!1,d)&&C,f)for(A=0;A<f.length;A++)P=d.g=f[A],C=Fc(P,g,!1,d)&&C}Je.prototype.N=function(){if(Je.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Oc(f[g]);delete c.g[d],c.h--}}this.F=null},Je.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},Je.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Fc(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,A=0;A<d.length;++A){var P=d[A];if(P&&!P.da&&P.capture==f){var Ee=P.listener,We=P.ha||P.src;P.fa&&kh(c.i,P),C=Ee.call(We,g)!==!1&&C}}return C&&!g.defaultPrevented}function z_(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function q_(c){c.g=z_(()=>{c.g=null,c.i&&(c.i=!1,q_(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class PA extends Yn{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:q_(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ss(c){Yn.call(this),this.h=c,this.g={}}S(Ss,Yn);var G_=[];function W_(c){J(c.g,function(d,f){this.g.hasOwnProperty(f)&&jh(d)},c),c.g={}}Ss.prototype.N=function(){Ss.aa.N.call(this),W_(this)},Ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hh=a.JSON.stringify,OA=a.JSON.parse,kA=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function zh(){}zh.prototype.h=null;function K_(c){return c.h||(c.h=c.i())}function Q_(){}var As={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qh(){Ze.call(this,"d")}S(qh,Ze);function Gh(){Ze.call(this,"c")}S(Gh,Ze);var Or={},Y_=null;function Lc(){return Y_=Y_||new Je}Or.La="serverreachability";function Z_(c){Ze.call(this,Or.La,c)}S(Z_,Ze);function Rs(c){let d=Lc();at(d,new Z_(d))}Or.STAT_EVENT="statevent";function J_(c,d){Ze.call(this,Or.STAT_EVENT,c),this.stat=d}S(J_,Ze);function ct(c){let d=Lc();at(d,new J_(d,c))}Or.Ma="timingevent";function X_(c,d){Ze.call(this,Or.Ma,c),this.size=d}S(X_,Ze);function Ms(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Ns(){this.g=!0}Ns.prototype.xa=function(){this.g=!1};function FA(c,d,f,g,C,A){c.info(function(){if(c.g)if(A)for(var P="",Ee=A.split("&"),We=0;We<Ee.length;We++){var ve=Ee[We].split("=");if(1<ve.length){var Xe=ve[0];ve=ve[1];var et=Xe.split("_");P=2<=et.length&&et[1]=="type"?P+(Xe+"="+ve+"&"):P+(Xe+"=redacted&")}}else P=null;else P=A;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+f+`
`+P})}function LA(c,d,f,g,C,A,P){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+f+`
`+A+" "+P})}function Fi(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+jA(c,f)+(g?" "+g:"")})}function VA(c,d){c.info(function(){return"TIMEOUT: "+d})}Ns.prototype.info=function(){};function jA(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var A=C[0];if(A!="noop"&&A!="stop"&&A!="close")for(var P=1;P<C.length;P++)C[P]=""}}}}return Hh(f)}catch{return d}}var Vc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},eI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wh;function jc(){}S(jc,zh),jc.prototype.g=function(){return new XMLHttpRequest},jc.prototype.i=function(){return{}},Wh=new jc;function Zn(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Ss(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tI}function tI(){this.i=null,this.g="",this.h=!1}var nI={},Kh={};function Qh(c,d,f){c.L=1,c.v=Hc(In(d)),c.m=f,c.P=!0,rI(c,null)}function rI(c,d){c.F=Date.now(),Uc(c),c.A=In(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),yI(f.i,"t",g),c.C=0,f=c.j.J,c.h=new tI,c.g=kI(c.j,f?d:null,!c.m),0<c.O&&(c.M=new PA(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(G_[0]=C.toString()),C=G_);for(var A=0;A<C.length;A++){var P=j_(f,C[A],g||d.handleEvent,!1,d.h||d);if(!P)break;d.g[P.key]=P}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Rs(),FA(c.i,c.u,c.A,c.l,c.R,c.m)}Zn.prototype.ca=function(c){c=c.target;let d=this.M;d&&wn(c)==3?d.j():this.Y(c)},Zn.prototype.Y=function(c){try{if(c==this.g)e:{let et=wn(this.g);var d=this.g.Ba();let ji=this.g.Z();if(!(3>et)&&(et!=3||this.g&&(this.h.h||this.g.oa()||bI(this.g)))){this.J||et!=4||d==7||(d==8||0>=ji?Rs(3):Rs(2)),Yh(this);var f=this.g.Z();this.X=f;t:if(iI(this)){var g=bI(this.g);c="";var C=g.length,A=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kr(this),xs(this);var P="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==C-1)});g.length=0,this.h.g+=c,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=f==200,LA(this.i,this.u,this.A,this.l,this.R,et,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ee,We=this.g;if((Ee=We.g?We.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Ee)){var ve=Ee;break t}}ve=null}if(f=ve)Fi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zh(this,f);else{this.o=!1,this.s=3,ct(12),kr(this),xs(this);break e}}if(this.P){f=!0;let jt;for(;!this.J&&this.C<P.length;)if(jt=UA(this,P),jt==Kh){et==4&&(this.s=4,ct(14),f=!1),Fi(this.i,this.l,null,"[Incomplete Response]");break}else if(jt==nI){this.s=4,ct(15),Fi(this.i,this.l,P,"[Invalid Chunk]"),f=!1;break}else Fi(this.i,this.l,jt,null),Zh(this,jt);if(iI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),et!=4||P.length!=0||this.h.h||(this.s=1,ct(16),f=!1),this.o=this.o&&f,!f)Fi(this.i,this.l,P,"[Invalid Chunked Response]"),kr(this),xs(this);else if(0<P.length&&!this.W){this.W=!0;var Xe=this.j;Xe.g==this&&Xe.ba&&!Xe.M&&(Xe.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),rf(Xe),Xe.M=!0,ct(11))}}else Fi(this.i,this.l,P,null),Zh(this,P);et==4&&kr(this),this.o&&!this.J&&(et==4?NI(this.j,this):(this.o=!1,Uc(this)))}else rR(this.g),f==400&&0<P.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),kr(this),xs(this)}}}catch{}finally{}};function iI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function UA(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Kh:(f=Number(d.substring(f,g)),isNaN(f)?nI:(g+=1,g+f>d.length?Kh:(d=d.slice(g,g+f),c.C=g+f,d)))}Zn.prototype.cancel=function(){this.J=!0,kr(this)};function Uc(c){c.S=Date.now()+c.I,oI(c,c.I)}function oI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ms(m(c.ba,c),d)}function Yh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Zn.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(VA(this.i,this.A),this.L!=2&&(Rs(),ct(17)),kr(this),this.s=2,xs(this)):oI(this,this.S-c)};function xs(c){c.j.G==0||c.J||NI(c.j,c)}function kr(c){Yh(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,W_(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Zh(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Jh(f.h,c))){if(!c.K&&Jh(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Kc(f),Gc(f);else break e;nf(f),ct(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ms(m(f.Za,f),6e3));if(1>=cI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Lr(f,11)}else if((c.K||f.g==c)&&Kc(f),!$(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let ve=C[d];if(f.T=ve[0],ve=ve[1],f.G==2)if(ve[0]=="c"){f.K=ve[1],f.ia=ve[2];let Xe=ve[3];Xe!=null&&(f.la=Xe,f.j.info("VER="+f.la));let et=ve[4];et!=null&&(f.Aa=et,f.j.info("SVER="+f.Aa));let ji=ve[5];ji!=null&&typeof ji=="number"&&0<ji&&(g=1.5*ji,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let jt=c.g;if(jt){let Yc=jt.g?jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yc){var A=g.h;A.g||Yc.indexOf("spdy")==-1&&Yc.indexOf("quic")==-1&&Yc.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Xh(A,A.h),A.h=null))}if(g.D){let of=jt.g?jt.g.getResponseHeader("X-HTTP-Session-Id"):null;of&&(g.ya=of,Te(g.I,g.D,of))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var P=c;if(g.qa=OI(g,g.J?g.ia:null,g.W),P.K){uI(g.h,P);var Ee=P,We=g.L;We&&(Ee.I=We),Ee.B&&(Yh(Ee),Uc(Ee)),g.g=P}else RI(g);0<f.i.length&&Wc(f)}else ve[0]!="stop"&&ve[0]!="close"||Lr(f,7);else f.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?Lr(f,7):tf(f):ve[0]!="noop"&&f.l&&f.l.ta(ve),f.v=0)}}Rs(4)}catch{}}var BA=class{constructor(c,d){this.g=c,this.map=d}};function sI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function aI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function cI(c){return c.h?1:c.g?c.g.size:0}function Jh(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Xh(c,d){c.g?c.g.add(d):c.h=d}function uI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}sI.prototype.cancel=function(){if(this.i=lI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function lI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function $A(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function HA(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function dI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=HA(c),g=$A(c),C=g.length,A=0;A<C;A++)d.call(void 0,g[A],f&&f[A],c)}var hI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zA(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),C=null;if(0<=g){var A=c[f].substring(0,g);C=c[f].substring(g+1)}else A=c[f];d(A,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Fr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Fr){this.h=c.h,Bc(this,c.j),this.o=c.o,this.g=c.g,$c(this,c.s),this.l=c.l;var d=c.i,f=new ks;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),fI(this,f),this.m=c.m}else c&&(d=String(c).match(hI))?(this.h=!1,Bc(this,d[1]||"",!0),this.o=Ps(d[2]||""),this.g=Ps(d[3]||"",!0),$c(this,d[4]),this.l=Ps(d[5]||"",!0),fI(this,d[6]||"",!0),this.m=Ps(d[7]||"")):(this.h=!1,this.i=new ks(null,this.h))}Fr.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Os(d,pI,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Os(d,pI,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Os(f,f.charAt(0)=="/"?WA:GA,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Os(f,QA)),c.join("")};function In(c){return new Fr(c)}function Bc(c,d,f){c.j=f?Ps(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function $c(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function fI(c,d,f){d instanceof ks?(c.i=d,YA(c.i,c.h)):(f||(d=Os(d,KA)),c.i=new ks(d,c.h))}function Te(c,d,f){c.i.set(d,f)}function Hc(c){return Te(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ps(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Os(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,qA),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function qA(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var pI=/[#\/\?@]/g,GA=/[#\?:]/g,WA=/[#\?]/g,KA=/[#\?@]/g,QA=/#/g;function ks(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Jn(c){c.g||(c.g=new Map,c.h=0,c.i&&zA(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=ks.prototype,t.add=function(c,d){Jn(this),this.i=null,c=Li(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function gI(c,d){Jn(c),d=Li(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function mI(c,d){return Jn(c),d=Li(c,d),c.g.has(d)}t.forEach=function(c,d){Jn(this),this.g.forEach(function(f,g){f.forEach(function(C){c.call(d,C,g,this)},this)},this)},t.na=function(){Jn(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let C=c[g];for(let A=0;A<C.length;A++)f.push(d[g])}return f},t.V=function(c){Jn(this);let d=[];if(typeof c=="string")mI(this,c)&&(d=d.concat(this.g.get(Li(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return Jn(this),this.i=null,c=Li(this,c),mI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function yI(c,d,f){gI(c,d),0<f.length&&(c.i=null,c.g.set(Li(c,d),N(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),P=this.V(g);for(g=0;g<P.length;g++){var C=A;P[g]!==""&&(C+="="+encodeURIComponent(String(P[g]))),c.push(C)}}return this.i=c.join("&")};function Li(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function YA(c,d){d&&!c.j&&(Jn(c),c.i=null,c.g.forEach(function(f,g){var C=g.toLowerCase();g!=C&&(gI(this,g),yI(this,C,f))},c)),c.j=d}function ZA(c,d){let f=new Ns;if(a.Image){let g=new Image;g.onload=v(Xn,f,"TestLoadImage: loaded",!0,d,g),g.onerror=v(Xn,f,"TestLoadImage: error",!1,d,g),g.onabort=v(Xn,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=v(Xn,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function JA(c,d){let f=new Ns,g=new AbortController,C=setTimeout(()=>{g.abort(),Xn(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(C),A.ok?Xn(f,"TestPingServer: ok",!0,d):Xn(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),Xn(f,"TestPingServer: error",!1,d)})}function Xn(c,d,f,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(f)}catch{}}function XA(){this.g=new kA}function eR(c,d,f){let g=f||"";try{dI(c,function(C,A){let P=C;l(C)&&(P=Hh(C)),d.push(g+A+"="+encodeURIComponent(P))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function Fs(c){this.l=c.Ub||null,this.j=c.eb||!1}S(Fs,zh),Fs.prototype.g=function(){return new zc(this.l,this.j)},Fs.prototype.i=function(c){return function(){return c}}({});function zc(c,d){Je.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(zc,Je),t=zc.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Vs(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ls(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Vs(this)),this.g&&(this.readyState=3,Vs(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function vI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Ls(this):Vs(this),this.readyState==3&&vI(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ls(this))},t.Qa=function(c){this.g&&(this.response=c,Ls(this))},t.ga=function(){this.g&&Ls(this)};function Ls(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Vs(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Vs(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(zc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function _I(c){let d="";return J(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function ef(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=_I(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Te(c,d,f))}function Me(c){Je.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Me,Je);var tR=/^https?$/i,nR=["POST","PUT"];t=Me.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wh.g(),this.v=this.o?K_(this.o):K_(Wh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){II(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)f.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(nR,d,void 0))||g||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,P]of f)this.g.setRequestHeader(A,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{DI(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){II(this,A)}};function II(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,wI(c),qc(c)}function wI(c){c.A||(c.A=!0,at(c,"complete"),at(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,at(this,"complete"),at(this,"abort"),qc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qc(this,!0)),Me.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?EI(this):this.bb())},t.bb=function(){EI(this)};function EI(c){if(c.h&&typeof s<"u"&&(!c.v[1]||wn(c)!=4||c.Z()!=2)){if(c.u&&wn(c)==4)z_(c.Ea,0,c);else if(at(c,"readystatechange"),wn(c)==4){c.h=!1;try{let P=c.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=P===0){var C=String(c.D).match(hI)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),g=!tR.test(C?C.toLowerCase():"")}f=g}if(f)at(c,"complete"),at(c,"success");else{c.m=6;try{var A=2<wn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",wI(c)}}finally{qc(c)}}}}function qc(c,d){if(c.g){DI(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||at(c,"ready");try{f.onreadystatechange=g}catch{}}}function DI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function wn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),OA(d)}};function bI(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function rR(c){let d={};c=(c.g&&2<=wn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if($(c[g]))continue;var f=b(c[g]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[C]||[];d[C]=A,A.push(f)}D(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function js(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function CI(c){this.Aa=0,this.i=[],this.j=new Ns,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=js("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=js("baseRetryDelayMs",5e3,c),this.cb=js("retryDelaySeedMs",1e4,c),this.Wa=js("forwardChannelMaxRetries",2,c),this.wa=js("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new sI(c&&c.concurrentRequestLimit),this.Da=new XA,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=CI.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){ct(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=OI(this,null,this.W),Wc(this)};function tf(c){if(TI(c),c.G==3){var d=c.U++,f=In(c.I);if(Te(f,"SID",c.K),Te(f,"RID",d),Te(f,"TYPE","terminate"),Us(c,f),d=new Zn(c,c.j,d),d.L=2,d.v=Hc(In(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=kI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Uc(d)}PI(c)}function Gc(c){c.g&&(rf(c),c.g.cancel(),c.g=null)}function TI(c){Gc(c),c.u&&(a.clearTimeout(c.u),c.u=null),Kc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Wc(c){if(!aI(c.h)&&!c.s){c.s=!0;var d=c.Ga;Ds||V_(),bs||(Ds(),bs=!0),Oh.add(d,c),c.B=0}}function iR(c,d){return cI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ms(m(c.Ga,c,d),xI(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new Zn(this,this.j,c),A=this.o;if(this.S&&(A?(A=y(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(C.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=AI(this,C,d),f=In(this.I),Te(f,"RID",c),Te(f,"CVER",22),this.D&&Te(f,"X-HTTP-Session-Id",this.D),Us(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(_I(A)))+"&"+d:this.m&&ef(f,this.m,A)),Xh(this.h,C),this.Ua&&Te(f,"TYPE","init"),this.P?(Te(f,"$req",d),Te(f,"SID","null"),C.T=!0,Qh(C,f,null)):Qh(C,f,d),this.G=2}}else this.G==3&&(c?SI(this,c):this.i.length==0||aI(this.h)||SI(this))};function SI(c,d){var f;d?f=d.l:f=c.U++;let g=In(c.I);Te(g,"SID",c.K),Te(g,"RID",f),Te(g,"AID",c.T),Us(c,g),c.m&&c.o&&ef(g,c.m,c.o),f=new Zn(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=AI(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Xh(c.h,f),Qh(f,g,d)}function Us(c,d){c.H&&J(c.H,function(f,g){Te(d,g,f)}),c.l&&dI({},function(f,g){Te(d,g,f)})}function AI(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var C=c.i;let A=-1;for(;;){let P=["count="+f];A==-1?0<f?(A=C[0].g,P.push("ofs="+A)):A=0:P.push("ofs="+A);let Ee=!0;for(let We=0;We<f;We++){let ve=C[We].g,Xe=C[We].map;if(ve-=A,0>ve)A=Math.max(0,C[We].g-100),Ee=!1;else try{eR(Xe,P,"req"+ve+"_")}catch{g&&g(Xe)}}if(Ee){g=P.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function RI(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Ds||V_(),bs||(Ds(),bs=!0),Oh.add(d,c),c.v=0}}function nf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ms(m(c.Fa,c),xI(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,MI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ms(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),Gc(this),MI(this))};function rf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function MI(c){c.g=new Zn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=In(c.qa);Te(d,"RID","rpc"),Te(d,"SID",c.K),Te(d,"AID",c.T),Te(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Te(d,"TO",c.ja),Te(d,"TYPE","xmlhttp"),Us(c,d),c.m&&c.o&&ef(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Hc(In(d)),f.m=null,f.P=!0,rI(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Gc(this),nf(this),ct(19))};function Kc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function NI(c,d){var f=null;if(c.g==d){Kc(c),rf(c),c.g=null;var g=2}else if(Jh(c.h,d))f=d.D,uI(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;g=Lc(),at(g,new X_(g,f)),Wc(c)}else RI(c);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&iR(c,d)||g==2&&nf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:Lr(c,5);break;case 4:Lr(c,10);break;case 3:Lr(c,6);break;default:Lr(c,2)}}}function xI(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Lr(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let C=!g;g=new Fr(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Bc(g,"https"),Hc(g),C?ZA(g.toString(),f):JA(g.toString(),f)}else ct(2);c.G=0,c.l&&c.l.sa(d),PI(c),TI(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function PI(c){if(c.G=0,c.ka=[],c.l){let d=lI(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function OI(c,d,f){var g=f instanceof Fr?In(f):new Fr(f);if(g.g!="")d&&(g.g=d+"."+g.g),$c(g,g.s);else{var C=a.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var A=new Fr(null);g&&Bc(A,g),d&&(A.g=d),C&&$c(A,C),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Te(g,f,d),Te(g,"VER",c.la),Us(c,g),g}function kI(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Me(new Fs({eb:f})):new Me(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function FI(){}t=FI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Qc(){}Qc.prototype.g=function(c,d){return new vt(c,d)};function vt(c,d){Je.call(this),this.g=new CI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!$(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!$(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Vi(this)}S(vt,Je),vt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vt.prototype.close=function(){tf(this.g)},vt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Hh(c),c=f);d.i.push(new BA(d.Ya++,c)),d.G==3&&Wc(d)},vt.prototype.N=function(){this.g.l=null,delete this.j,tf(this.g),delete this.g,vt.aa.N.call(this)};function LI(c){qh.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(LI,qh);function VI(){Gh.call(this),this.status=1}S(VI,Gh);function Vi(c){this.g=c}S(Vi,FI),Vi.prototype.ua=function(){at(this.g,"a")},Vi.prototype.ta=function(c){at(this.g,new LI(c))},Vi.prototype.sa=function(c){at(this.g,new VI)},Vi.prototype.ra=function(){at(this.g,"b")},Qc.prototype.createWebChannel=Qc.prototype.g,vt.prototype.send=vt.prototype.o,vt.prototype.open=vt.prototype.m,vt.prototype.close=vt.prototype.close,My=zn.createWebChannelTransport=function(){return new Qc},Ry=zn.getStatEventTarget=function(){return Lc()},Ay=zn.Event=Or,Bd=zn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vc.NO_ERROR=0,Vc.TIMEOUT=8,Vc.HTTP_ERROR=6,lc=zn.ErrorCode=Vc,eI.COMPLETE="complete",Sy=zn.EventType=eI,Q_.EventType=As,As.OPEN="a",As.CLOSE="b",As.ERROR="c",As.MESSAGE="d",Je.prototype.listen=Je.prototype.K,Jo=zn.WebChannel=Q_,Ty=zn.FetchXmlHttpFactory=Fs,Me.prototype.listenOnce=Me.prototype.L,Me.prototype.getLastError=Me.prototype.Ka,Me.prototype.getLastErrorCode=Me.prototype.Ba,Me.prototype.getStatus=Me.prototype.Z,Me.prototype.getResponseJson=Me.prototype.Oa,Me.prototype.getResponseText=Me.prototype.oa,Me.prototype.send=Me.prototype.ea,Me.prototype.setWithCredentials=Me.prototype.Ha,Cy=zn.XhrIo=Me}).apply(typeof Ud<"u"?Ud:typeof self<"u"?self:typeof window<"u"?window:{});var wT="@firebase/firestore";var Ge=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");var _s="10.13.1";var Si=new wr("@firebase/firestore");function dc(){return Si.logLevel}function j(t,...e){if(Si.logLevel<=fe.DEBUG){let n=e.map(y_);Si.debug(`Firestore (${_s}): ${t}`,...n)}}function Gn(t,...e){if(Si.logLevel<=fe.ERROR){let n=e.map(y_);Si.error(`Firestore (${_s}): ${t}`,...n)}}function os(t,...e){if(Si.logLevel<=fe.WARN){let n=e.map(y_);Si.warn(`Firestore (${_s}): ${t}`,...n)}}function y_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Q(t="Unexpected state"){let e=`FIRESTORE (${_s}) INTERNAL ASSERTION FAILED: `+t;throw Gn(e),new Error(e)}function Ce(t,e){t||Q()}function Z(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends bt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var qn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Gd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},ky=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ge.UNAUTHENTICATED))}shutdown(){}},Fy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Ly=class{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new qn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new qn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new qn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string"),new Gd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string"),new Ge(e)}},Vy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},jy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Vy(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Uy=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},By=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,j("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ce(typeof n.token=="string"),this.R=n.token,new Uy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function Zj(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Wd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=Zj(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function _e(t,e){return t<e?-1:t>e?1:0}function ss(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Ye=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var te=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Ye(0,0))}static max(){return new t(new Ye(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Kd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(),r===void 0?r=e.length-n:r>e.length-n&&Q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ae=class t extends Kd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new L(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},Jj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ct=class t extends Kd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return Jj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new L(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new L(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new L(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var z=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ae.fromString(e))}static fromName(e){return new t(Ae.fromString(e).popFirst(5))}static empty(){return new t(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ae.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ae(e.slice()))}};var $y=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};$y.UNKNOWN_ID=-1;function Xj(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new Ye(n+1,0):new Ye(n,r));return new Ai(i,z.empty(),e)}function eU(t){return new Ai(t.readTime,t.key,-1)}var Ai=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(te.min(),z.empty(),-1)}static max(){return new t(te.max(),z.empty(),-1)}};function tU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=z.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}var nU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Hy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Mc(t){return w(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==nU)throw t;j("LocalStore","Unexpectedly lost primary lease")})}var x=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function rU(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Nc(t){return t.name==="IndexedDbTransactionError"}var nS=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Eh(t){return t==null}function vc(t){return t===0&&1/t==-1/0}function iU(t){return typeof t=="number"&&Number.isInteger(t)&&!vc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var oU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],rG=[...oU,"documentOverlays"],sU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],aU=sU,cU=[...aU,"indexConfiguration","indexState","indexEntries"];var iG=[...cU,"globals"];function ET(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Is(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Pe=class t{constructor(e,n){this.comparator=e,this.root=n||gn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ns(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ns(this.root,e,this.comparator,!1)}getReverseIterator(){return new ns(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ns(this.root,e,this.comparator,!0)}},ns=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},gn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();let e=this.left.check();if(e!==this.right.check())throw Q();return e+(this.isRed()?0:1)}};gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(e,n,r,i,o){return this}insert(e,n,r){return new gn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ot=class t{constructor(e){this.comparator=e,this.data=new Pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Qd(this.data.getIterator())}getIteratorFrom(e){return new Qd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Qd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var pn=class t{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new t([])}unionWith(e){let n=new ot(Ct.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ss(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Yd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var st=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Yd("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};st.EMPTY_BYTE_STRING=new st("");var uU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wn(t){if(Ce(!!t),typeof t=="string"){let e=0,n=uU.exec(t);if(Ce(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Se(t.seconds),nanos:Se(t.nanos)}}function Se(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Nr(t){return typeof t=="string"?st.fromBase64String(t):st.fromUint8Array(t)}function v_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function __(t){let e=t.mapValue.fields.__previous_value__;return v_(e)?__(e):e}function _c(t){let e=Wn(t.mapValue.fields.__local_write_time__.timestampValue);return new Ye(e.seconds,e.nanos)}var zy=class{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Zd=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var $d={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ri(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?v_(t)?4:oS(t)?9007199254740991:iS(t)?10:11:Q()}function vn(t,e){if(t===e)return!0;let n=Ri(t);if(n!==Ri(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _c(t).isEqual(_c(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Wn(i.timestampValue),a=Wn(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Nr(i.bytesValue).isEqual(Nr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Se(i.geoPointValue.latitude)===Se(o.geoPointValue.latitude)&&Se(i.geoPointValue.longitude)===Se(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Se(i.integerValue)===Se(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Se(i.doubleValue),a=Se(o.doubleValue);return s===a?vc(s)===vc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ss(t.arrayValue.values||[],e.arrayValue.values||[],vn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(ET(s)!==ET(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!vn(s[u],a[u])))return!1;return!0}(t,e);default:return Q()}}function Ic(t,e){return(t.values||[]).find(n=>vn(n,e))!==void 0}function as(t,e){if(t===e)return 0;let n=Ri(t),r=Ri(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Se(o.integerValue||o.doubleValue),u=Se(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return DT(t.timestampValue,e.timestampValue);case 4:return DT(_c(t),_c(e));case 5:return _e(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Nr(o),u=Nr(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=_e(a[l],u[l]);if(h!==0)return h}return _e(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=_e(Se(o.latitude),Se(s.latitude));return a!==0?a:_e(Se(o.longitude),Se(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return bT(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},v=(a=p.value)===null||a===void 0?void 0:a.arrayValue,S=(u=m.value)===null||u===void 0?void 0:u.arrayValue,N=_e(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:bT(v,S)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===$d.mapValue&&s===$d.mapValue)return 0;if(o===$d.mapValue)return 1;if(s===$d.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=_e(u[p],h[p]);if(m!==0)return m;let v=as(a[u[p]],l[h[p]]);if(v!==0)return v}return _e(u.length,h.length)}(t.mapValue,e.mapValue);default:throw Q()}}function DT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);let n=Wn(t),r=Wn(e),i=_e(n.seconds,r.seconds);return i!==0?i:_e(n.nanos,r.nanos)}function bT(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=as(n[i],r[i]);if(o)return o}return _e(n.length,r.length)}function cs(t){return qy(t)}function qy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Wn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Nr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=qy(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${qy(n.fields[s])}`;return i+"}"}(t.mapValue):Q()}function CT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Gy(t){return!!t&&"integerValue"in t}function I_(t){return!!t&&"arrayValue"in t}function TT(t){return!!t&&"nullValue"in t}function ST(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zd(t){return!!t&&"mapValue"in t}function iS(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function fc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Is(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=fc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function oS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Kt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fc(n)}setAll(e){let n=Ct.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=fc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());zd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];zd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Is(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(fc(this.value))}};function sS(t){let e=[];return Is(t.fields,(n,r)=>{let i=new Ct([n]);if(zd(r)){let o=sS(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new pn(e)}var Qt=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,te.min(),te.min(),te.min(),Kt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,te.min(),te.min(),Kt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,te.min(),te.min(),Kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var us=class{constructor(e,n){this.position=e,this.inclusive=n}};function AT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=z.comparator(z.fromName(s.referenceValue),n.key):r=as(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function RT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vn(t.position[n],e.position[n]))return!1;return!0}var ls=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function lU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Jd=class{},je=class t extends Jd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Ky(e,n,r):n==="array-contains"?new Zy(e,r):n==="in"?new Jy(e,r):n==="not-in"?new Xy(e,r):n==="array-contains-any"?new ev(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Qy(e,r):new Yy(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(as(n,this.value)):n!==null&&Ri(this.value)===Ri(n)&&this.matchesComparison(as(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Yt=class t extends Jd{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return aS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function aS(t){return t.op==="and"}function cS(t){return dU(t)&&aS(t)}function dU(t){for(let e of t.filters)if(e instanceof Yt)return!1;return!0}function Wy(t){if(t instanceof je)return t.field.canonicalString()+t.op.toString()+cs(t.value);if(cS(t))return t.filters.map(e=>Wy(e)).join(",");{let e=t.filters.map(n=>Wy(n)).join(",");return`${t.op}(${e})`}}function uS(t,e){return t instanceof je?function(r,i){return i instanceof je&&r.op===i.op&&r.field.isEqual(i.field)&&vn(r.value,i.value)}(t,e):t instanceof Yt?function(r,i){return i instanceof Yt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&uS(s,i.filters[a]),!0):!1}(t,e):void Q()}function lS(t){return t instanceof je?function(n){return`${n.field.canonicalString()} ${n.op} ${cs(n.value)}`}(t):t instanceof Yt?function(n){return n.op.toString()+" {"+n.getFilters().map(lS).join(" ,")+"}"}(t):"Filter"}var Ky=class extends je{constructor(e,n,r){super(e,n,r),this.key=z.fromName(r.referenceValue)}matches(e){let n=z.comparator(e.key,this.key);return this.matchesComparison(n)}},Qy=class extends je{constructor(e,n){super(e,"in",n),this.keys=dS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Yy=class extends je{constructor(e,n){super(e,"not-in",n),this.keys=dS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function dS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>z.fromName(r.referenceValue))}var Zy=class extends je{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return I_(n)&&Ic(n.arrayValue,this.value)}},Jy=class extends je{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Ic(this.value.arrayValue,n)}},Xy=class extends je{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Ic(this.value.arrayValue,n)}},ev=class extends je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!I_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ic(this.value.arrayValue,r))}};var tv=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function MT(t,e=null,n=[],r=[],i=null,o=null,s=null){return new tv(t,e,n,r,i,o,s)}function w_(t){let e=Z(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Wy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Eh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>cs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>cs(r)).join(",")),e.ue=n}return e.ue}function E_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!lU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!uS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!RT(t.startAt,e.startAt)&&RT(t.endAt,e.endAt)}function nv(t){return z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Mi=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function hU(t,e,n,r,i,o,s,a){return new Mi(t,e,n,r,i,o,s,a)}function D_(t){return new Mi(t)}function NT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hS(t){return t.collectionGroup!==null}function pc(t){let e=Z(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ot(Ct.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new ls(o,r))}),n.has(Ct.keyField().canonicalString())||e.ce.push(new ls(Ct.keyField(),r))}return e.ce}function mn(t){let e=Z(t);return e.le||(e.le=fU(e,pc(t))),e.le}function fU(t,e){if(t.limitType==="F")return MT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ls(i.field,o)});let n=t.endAt?new us(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new us(t.startAt.position,t.startAt.inclusive):null;return MT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function rv(t,e){let n=t.filters.concat([e]);return new Mi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function iv(t,e,n){return new Mi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dh(t,e){return E_(mn(t),mn(e))&&t.limitType===e.limitType}function fS(t){return`${w_(mn(t))}|lt:${t.limitType}`}function Xo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>lS(i)).join(", ")}]`),Eh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>cs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>cs(i)).join(",")),`Target(${r})`}(mn(t))}; limitType=${t.limitType})`}function bh(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):z.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of pc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=AT(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,pc(r),i)||r.endAt&&!function(s,a,u){let l=AT(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,pc(r),i))}(t,e)}function pU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pS(t){return(e,n)=>{let r=!1;for(let i of pc(t)){let o=gU(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function gU(t,e,n){let r=t.field.isKeyField()?z.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?as(u,l):Q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}var xr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Is(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return rS(this.inner)}size(){return this.innerSize}};var mU=new Pe(z.comparator);function Kn(){return mU}var gS=new Pe(z.comparator);function hc(...t){let e=gS;for(let n of t)e=e.insert(n.key,n);return e}function mS(t){let e=gS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Di(){return gc()}function yS(){return gc()}function gc(){return new xr(t=>t.toString(),(t,e)=>t.isEqual(e))}var yU=new Pe(z.comparator),vU=new ot(z.comparator);function pe(...t){let e=vU;for(let n of t)e=e.add(n);return e}var _U=new ot(_e);function IU(){return _U}function b_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vc(e)?"-0":e}}function vS(t){return{integerValue:""+t}}function wU(t,e){return iU(e)?vS(e):b_(t,e)}var ds=class{constructor(){this._=void 0}};function EU(t,e,n){return t instanceof hs?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&v_(o)&&(o=__(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Ni?IS(t,e):t instanceof xi?wS(t,e):function(i,o){let s=_S(i,o),a=xT(s)+xT(i.Pe);return Gy(s)&&Gy(i.Pe)?vS(a):b_(i.serializer,a)}(t,e)}function DU(t,e,n){return t instanceof Ni?IS(t,e):t instanceof xi?wS(t,e):n}function _S(t,e){return t instanceof fs?function(r){return Gy(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var hs=class extends ds{},Ni=class extends ds{constructor(e){super(),this.elements=e}};function IS(t,e){let n=ES(e);for(let r of t.elements)n.some(i=>vn(i,r))||n.push(r);return{arrayValue:{values:n}}}var xi=class extends ds{constructor(e){super(),this.elements=e}};function wS(t,e){let n=ES(e);for(let r of t.elements)n=n.filter(i=>!vn(i,r));return{arrayValue:{values:n}}}var fs=class extends ds{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function xT(t){return Se(t.integerValue||t.doubleValue)}function ES(t){return I_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function bU(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ni&&i instanceof Ni||r instanceof xi&&i instanceof xi?ss(r.elements,i.elements,vn):r instanceof fs&&i instanceof fs?vn(r.Pe,i.Pe):r instanceof hs&&i instanceof hs}(t.transform,e.transform)}var ov=class{constructor(e,n){this.version=e,this.transformResults=n}},Ti=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function qd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ps=class{};function DS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Xd(t.key,Ti.none()):new Pi(t.key,t.data,Ti.none());{let n=t.data,r=Kt.empty(),i=new ot(Ct.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Qn(t.key,r,new pn(i.toArray()),Ti.none())}}function CU(t,e,n){t instanceof Pi?function(i,o,s){let a=i.value.clone(),u=OT(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Qn?function(i,o,s){if(!qd(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=OT(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(bS(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function mc(t,e,n,r){return t instanceof Pi?function(o,s,a,u){if(!qd(o.precondition,s))return a;let l=o.value.clone(),h=kT(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Qn?function(o,s,a,u){if(!qd(o.precondition,s))return a;let l=kT(o.fieldTransforms,u,s),h=s.data;return h.setAll(bS(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return qd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function TU(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=_S(r.transform,i||null);o!=null&&(n===null&&(n=Kt.empty()),n.set(r.field,o))}return n||null}function PT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ss(r,i,(o,s)=>bU(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Pi=class extends ps{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Qn=class extends ps{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function bS(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function OT(t,e,n){let r=new Map;Ce(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,DU(s,a,n[i]))}return r}function kT(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,EU(o,s,e))}return r}var Xd=class extends ps{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},sv=class extends ps{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var av=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&CU(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=mc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=mc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=yS();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=DS(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&ss(this.mutations,e.mutations,(n,r)=>PT(n,r))&&ss(this.baseMutations,e.baseMutations,(n,r)=>PT(n,r))}},cv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ce(e.mutations.length===r.length);let i=function(){return yU}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var uv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var lv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Le,me;function SU(t){switch(t){default:return Q();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function CS(t){if(t===void 0)return Gn("GRPC error has no .code"),M.UNKNOWN;switch(t){case Le.OK:return M.OK;case Le.CANCELLED:return M.CANCELLED;case Le.UNKNOWN:return M.UNKNOWN;case Le.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Le.INTERNAL:return M.INTERNAL;case Le.UNAVAILABLE:return M.UNAVAILABLE;case Le.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Le.NOT_FOUND:return M.NOT_FOUND;case Le.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Le.ABORTED:return M.ABORTED;case Le.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Le.DATA_LOSS:return M.DATA_LOSS;default:return Q()}}(me=Le||(Le={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";var FT=null;function AU(){return new TextEncoder}var RU=new Rr([4294967295,4294967295],0);function LT(t){let e=AU().encode(t),n=new by;return n.update(e),new Uint8Array(n.digest())}function VT(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Rr([n,r],0),new Rr([i,o],0)]}var dv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new bi(`Invalid padding: ${n}`);if(r<0)throw new bi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new bi(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Rr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Rr.fromNumber(r)));return i.compare(RU)===1&&(i=new Rr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=LT(e),[r,i]=VT(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=LT(e),[r,i]=VT(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},bi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var eh=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,wc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(te.min(),i,new Pe(_e),Kn(),pe())}},wc=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,pe(),pe(),pe())}};var rs=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},th=class{constructor(e,n){this.targetId=e,this.me=n}},nh=class{constructor(e,n,r=st.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},rh=class{constructor(){this.fe=0,this.ge=UT(),this.pe=st.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=pe(),n=pe(),r=pe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q()}}),new wc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=UT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ce(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},hv=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Kn(),this.qe=jT(),this.Qe=new Pe(_e)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(nv(o))if(r===0){let s=new z(o.path);this.Ue(n,s,Qt.newNoDocument(s,te.min()))}else Ce(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}FT?.et(function(h,p,m,v,S){var N,R,F,$,G,ce;let Re={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},J=p.unchangedNames;return J&&(Re.bloomFilter={applied:S===0,hashCount:(N=J?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:($=(F=(R=J?.bits)===null||R===void 0?void 0:R.bitmap)===null||F===void 0?void 0:F.length)!==null&&$!==void 0?$:0,padding:(ce=(G=J?.bits)===null||G===void 0?void 0:G.padding)!==null&&ce!==void 0?ce:0,mightContain:D=>{var y;return(y=v?.mightContain(D))!==null&&y!==void 0&&y}}),Re}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Nr(r).toUint8Array()}catch(u){if(u instanceof Yd)return os("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new dv(s,i,o)}catch(u){return os(u instanceof bi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&nv(a.target)){let u=new z(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Qt.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=pe();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new eh(e,n,this.Qe,this.ke,r);return this.ke=Kn(),this.qe=jT(),this.Qe=new Pe(_e),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new rh,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ot(_e),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||j("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new rh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function jT(){return new Pe(z.comparator)}function UT(){return new Pe(z.comparator)}var MU={asc:"ASCENDING",desc:"DESCENDING"},NU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xU={and:"AND",or:"OR"},fv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function pv(t,e){return t.useProto3Json||Eh(e)?e:{value:e}}function ih(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function PU(t,e){return ih(t,e.toTimestamp())}function yn(t){return Ce(!!t),te.fromTimestamp(function(n){let r=Wn(n);return new Ye(r.seconds,r.nanos)}(t))}function C_(t,e){return gv(t,e).canonicalString()}function gv(t,e){let n=function(i){return new Ae(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function SS(t){let e=Ae.fromString(t);return Ce(xS(e)),e}function mv(t,e){return C_(t.databaseId,e.path)}function Ny(t,e){let n=SS(e);if(n.get(1)!==t.databaseId.projectId)throw new L(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new z(RS(n))}function AS(t,e){return C_(t.databaseId,e)}function OU(t){let e=SS(t);return e.length===4?Ae.emptyPath():RS(e)}function yv(t){return new Ae(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function RS(t){return Ce(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function BT(t,e,n){return{name:mv(t,e),fields:n.value.mapValue.fields}}function kU(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Q()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Ce(h===void 0||typeof h=="string"),st.fromBase64String(h||"")):(Ce(h===void 0||h instanceof Buffer||h instanceof Uint8Array),st.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?M.UNKNOWN:CS(l.code);return new L(h,l.message||"")}(s);n=new nh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Ny(t,r.document.name),o=yn(r.document.updateTime),s=r.document.createTime?yn(r.document.createTime):te.min(),a=new Kt({mapValue:{fields:r.document.fields}}),u=Qt.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new rs(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Ny(t,r.document),o=r.readTime?yn(r.readTime):te.min(),s=Qt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new rs([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Ny(t,r.document),o=r.removedTargetIds||[];n=new rs([],o,i,null)}else{if(!("filter"in e))return Q();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new lv(i,o),a=r.targetId;n=new th(a,s)}}return n}function FU(t,e){let n;if(e instanceof Pi)n={update:BT(t,e.key,e.value)};else if(e instanceof Xd)n={delete:mv(t,e.key)};else if(e instanceof Qn)n={update:BT(t,e.key,e.data),updateMask:qU(e.fieldMask)};else{if(!(e instanceof sv))return Q();n={verify:mv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof hs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ni)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof xi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof fs)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:PU(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Q()}(t,e.precondition)),n}function LU(t,e){return t&&t.length>0?(Ce(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?yn(i.updateTime):yn(o);return s.isEqual(te.min())&&(s=yn(o)),new ov(s,i.transformResults||[])}(n,e))):[]}function VU(t,e){return{documents:[AS(t,e.path)]}}function jU(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=AS(t,i);let o=function(l){if(l.length!==0)return NS(Yt.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:es(m.field),direction:$U(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=pv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function UU(t){let e=OU(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ce(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=MS(p);return m instanceof Yt&&cS(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(S){return new ls(ts(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Eh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,v=p.values||[];return new us(v,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,v=p.values||[];return new us(v,m)}(n.endAt)),hU(e,i,s,o,a,"F",u,l)}function BU(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function MS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=ts(n.unaryFilter.field);return je.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ts(n.unaryFilter.field);return je.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ts(n.unaryFilter.field);return je.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ts(n.unaryFilter.field);return je.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(t):t.fieldFilter!==void 0?function(n){return je.create(ts(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Yt.create(n.compositeFilter.filters.map(r=>MS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q()}}(n.compositeFilter.op))}(t):Q()}function $U(t){return MU[t]}function HU(t){return NU[t]}function zU(t){return xU[t]}function es(t){return{fieldPath:t.canonicalString()}}function ts(t){return Ct.fromServerFormat(t.fieldPath)}function NS(t){return t instanceof je?function(n){if(n.op==="=="){if(ST(n.value))return{unaryFilter:{field:es(n.field),op:"IS_NAN"}};if(TT(n.value))return{unaryFilter:{field:es(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ST(n.value))return{unaryFilter:{field:es(n.field),op:"IS_NOT_NAN"}};if(TT(n.value))return{unaryFilter:{field:es(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:es(n.field),op:HU(n.op),value:n.value}}}(t):t instanceof Yt?function(n){let r=n.getFilters().map(i=>NS(i));return r.length===1?r[0]:{compositeFilter:{op:zU(n.op),filters:r}}}(t):Q()}function qU(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function xS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Ec=class t{constructor(e,n,r,i,o=te.min(),s=te.min(),a=st.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var vv=class{constructor(e){this.ct=e}};function GU(t){let e=UU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?iv(e,e.limit,"L"):e}var oh=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Se(e.integerValue));else if("doubleValue"in e){let r=Se(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),vc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Wn(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Nr(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?oS(e)?this.dt(n,Number.MAX_SAFE_INTEGER):iS(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Q()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Se(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),z.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};oh.vt=new oh;var _v=class{constructor(){this.un=new Iv}addToCollectionParentIndex(e,n){return this.un.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(Ai.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(Ai.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}},Iv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ot(Ae.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ot(Ae.comparator)).toArray()}};var sG=new Uint8Array(0);var fn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(41943040,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);var Dc=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var wv=class{constructor(){this.changes=new xr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Ev=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Dv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&mc(r.mutation,i,pn.empty(),Ye.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){let i=Di();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=hc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Di();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Kn(),s=gc(),a=function(){return gc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Qn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),mc(h.mutation,l,h.mutation.getFieldMask(),Ye.now())):s.set(l.key,pn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new Ev(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=gc(),i=new Pe((s,a)=>s-a),o=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||pn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||pe()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=yS();h.forEach(m=>{if(!o.has(m)){let v=DS(n.get(m),r.get(m));v!==null&&p.set(m,v),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):x.resolve(Di()),a=-1,u=o;return s.next(l=>x.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,pe())).next(h=>({batchId:a,changes:mS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new z(n)).next(r=>{let i=hc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=hc();return this.indexManager.getCollectionParents(e,o).next(a=>x.forEach(a,u=>{let l=function(p,m){return new Mi(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Qt.newInvalidDocument(h)))});let a=hc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&mc(h.mutation,l,pn.empty(),Ye.now()),bh(n,l)&&(a=a.insert(u,l))}),a})}};var bv=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return x.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:yn(i.createTime)}}(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:GU(i.bundledQuery),readTime:yn(i.readTime)}}(n)),x.resolve()}};var Cv=class{constructor(){this.overlays=new Pe(z.comparator),this.Ir=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Di();return x.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),x.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){let i=Di(),o=n.length+1,s=new z(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Pe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Di(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Di(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return x.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new uv(n,r));let o=this.Ir.get(n);o===void 0&&(o=pe(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var Tv=class{constructor(){this.sessionToken=st.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,x.resolve()}};var bc=class{constructor(){this.Tr=new ot(Ve.Er),this.dr=new ot(Ve.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Ve(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ve(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new z(new Ae([])),r=new Ve(n,e),i=new Ve(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new z(new Ae([])),r=new Ve(n,e),i=new Ve(n,e+1),o=pe();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Ve(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ve=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return z.comparator(e.key,n.key)||_e(e.wr,n.wr)}static Ar(e,n){return _e(e.wr,n.wr)||z.comparator(e.key,n.key)}};var Sv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ot(Ve.Er)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new av(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new Ve(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(s)}lookupMutationBatch(e,n){return x.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ve(n,0),i=new Ve(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ot(_e);return n.forEach(i=>{let o=new Ve(i,0),s=new Ve(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),x.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;z.isDocumentKey(o)||(o=o.child(""));let s=new Ve(new z(o),0),a=new ot(_e);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),x.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ce(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return x.forEach(n.mutations,i=>{let o=new Ve(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Ve(n,0),i=this.br.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Av=class{constructor(e){this.Mr=e,this.docs=function(){return new Pe(z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():Qt.newInvalidDocument(n))}getEntries(e,n){let r=Kn();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Qt.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Kn(),s=n.path,a=new z(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||tU(eU(h),r)<=0||(i.has(h.key)||bh(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Q()}Or(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Rv(this)}getSize(e){return x.resolve(this.size)}},Rv=class extends wv{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Mv=class{constructor(e){this.persistence=e,this.Nr=new xr(n=>w_(n),E_),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.Lr=0,this.Br=new bc,this.targetCount=0,this.kr=Dc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),x.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Dc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Kn(n),x.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),x.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.Br.containsKey(n))}};var Nv=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new nS(0),this.Kr=!1,this.Kr=!0,this.$r=new Tv,this.referenceDelegate=e(this),this.Ur=new Mv(this),this.indexManager=new _v,this.remoteDocumentCache=function(i){return new Av(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new vv(n),this.Gr=new bv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Cv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Sv(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);let i=new xv(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return x.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},xv=class extends Hy{constructor(e){super(),this.currentSequenceNumber=e}},Pv=class t{constructor(e){this.persistence=e,this.Jr=new bc,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw Q()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),x.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Xr,r=>{let i=z.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,te.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return x.or([()=>x.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var Ov=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=pe(),i=pe();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var kv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Fv=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Xb()?8:rU(qe())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new kv;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(dc()<=fe.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",Xo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),x.resolve()):(dc()<=fe.DEBUG&&j("QueryEngine","Query:",Xo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(dc()<=fe.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",Xo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mn(n))):x.resolve())}Yi(e,n){if(NT(n))return x.resolve(null);let r=mn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=iv(n,null,"F"),r=mn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=pe(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,s,u.readTime)?this.Yi(e,iv(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return NT(n)||i.isEqual(te.min())?x.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?x.resolve(null):(dc()<=fe.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xo(n)),this.rs(e,s,n,Xj(i,-1)).next(a=>a))})}ts(e,n){let r=new ot(pS(e));return n.forEach((i,o)=>{bh(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return dc()<=fe.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",Xo(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ai.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Lv=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Pe(_e),this._s=new xr(o=>w_(o),E_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function WU(t,e,n,r){return new Lv(t,e,n,r)}function PS(t,e){return w(this,null,function*(){let n=Z(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=pe();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function KU(t,e){let n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),v=x.resolve();return m.forEach(S=>{v=v.next(()=>h.getEntry(u,S)).next(N=>{let R=l.docVersions.get(S);Ce(R!==null),N.version.compareTo(R)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=pe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function OS(t){let e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function QU(t,e){let n=Z(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,p)));let v=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(st.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),function(N,R,F){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(m,v,h)&&a.push(n.Ur.updateTargetData(o,v))});let u=Kn(),l=pe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(YU(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(te.min())){let h=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return x.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function YU(t,e,n){let r=pe(),i=pe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Kn();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):j("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function ZU(t,e){let n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function JU(t,e){let n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,x.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Ec(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function Vv(t,e,n){return w(this,null,function*(){let r=Z(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Nc(s))throw s;j("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function $T(t,e,n){let r=Z(t),i=te.min(),o=pe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=Z(u),m=p._s.get(h);return m!==void 0?x.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,s,mn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:te.min(),n?o:pe())).next(a=>(XU(r,pU(e),a),{documents:a,Ts:o})))}function XU(t,e,n){let r=t.us.get(e)||te.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var sh=class{constructor(){this.activeTargetIds=IU()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var jv=class{constructor(){this.so=new sh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new sh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Uv=class{_o(e){}shutdown(){}};var ah=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Hd=null;function xy(){return Hd===null?Hd=function(){return 268435456+Math.round(2147483648*Math.random())}():Hd++,"0x"+Hd.toString(16)}var eB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Bv=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var it="WebChannelConnection",$v=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=xy(),u=this.xo(n,r.toUriEncodedString());j("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(h=>(j("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw os("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_s}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=eB[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=xy();return new Promise((s,a)=>{let u=new Cy;u.setWithCredentials(!0),u.listenOnce(Sy.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case lc.NO_ERROR:let h=u.getResponseJson();j(it,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case lc.TIMEOUT:j(it,`RPC '${e}' ${o} timed out`),a(new L(M.DEADLINE_EXCEEDED,"Request time out"));break;case lc.HTTP_ERROR:let p=u.getStatus();if(j(it,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let v=m?.error;if(v&&v.status&&v.message){let S=function(R){let F=R.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(F)>=0?F:M.UNKNOWN}(v.status);a(new L(S,v.message))}else a(new L(M.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new L(M.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{j(it,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);j(it,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=xy(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=My(),a=Ry(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new Ty({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");j(it,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),m=!1,v=!1,S=new Bv({Io:R=>{v?j(it,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(j(it,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),j(it,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),N=(R,F,$)=>{R.listen(F,G=>{try{$(G)}catch(ce){setTimeout(()=>{throw ce},0)}})};return N(p,Jo.EventType.OPEN,()=>{v||(j(it,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),N(p,Jo.EventType.CLOSE,()=>{v||(v=!0,j(it,`RPC '${e}' stream ${i} transport closed`),S.So())}),N(p,Jo.EventType.ERROR,R=>{v||(v=!0,os(it,`RPC '${e}' stream ${i} transport errored:`,R),S.So(new L(M.UNAVAILABLE,"The operation could not be completed")))}),N(p,Jo.EventType.MESSAGE,R=>{var F;if(!v){let $=R.data[0];Ce(!!$);let G=$,ce=G.error||((F=G[0])===null||F===void 0?void 0:F.error);if(ce){j(it,`RPC '${e}' stream ${i} received error:`,ce);let Re=ce.status,J=function(_){let E=Le[_];if(E!==void 0)return CS(E)}(Re),D=ce.message;J===void 0&&(J=M.INTERNAL,D="Unknown error status: "+Re+" with message "+ce.message),v=!0,S.So(new L(J,D)),p.close()}else j(it,`RPC '${e}' stream ${i} received:`,$),S.bo($)}}),N(a,Ay.STAT_EVENT,R=>{R.stat===Bd.PROXY?j(it,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Bd.NOPROXY&&j(it,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function Py(){return typeof document<"u"?document:null}function Ch(t){return new fv(t,!0)}var ch=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var uh=class{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new ch(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(Gn(n.toString()),Gn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new L(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return j("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Hv=class extends uh{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=kU(this.serializer,e),r=function(o){if(!("targetChange"in o))return te.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?te.min():s.readTime?yn(s.readTime):te.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=yv(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=nv(u)?{documents:VU(o,u)}:{query:jU(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=TS(o,s.resumeToken);let l=pv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(te.min())>0){a.readTime=ih(o,s.snapshotVersion.toTimestamp());let l=pv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=BU(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=yv(this.serializer),n.removeTarget=e,this.a_(n)}},zv=class extends uh{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=LU(e.writeResults,e.commitTime),r=yn(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=yv(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>FU(this.serializer,r))};this.a_(n)}};var qv=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,gv(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(M.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,gv(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(M.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Gv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Gn(n),this.D_=!1):j("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Wv=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>w(this,null,function*(){Oi(this)&&(j("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=Z(u);l.L_.add(4),yield xc(l),l.q_.set("Unknown"),l.L_.delete(4),yield Th(l)})}(this))}))}),this.q_=new Gv(r,i)}};function Th(t){return w(this,null,function*(){if(Oi(t))for(let e of t.B_)yield e(!0)})}function xc(t){return w(this,null,function*(){for(let e of t.B_)yield e(!1)})}function kS(t,e){let n=Z(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),R_(n)?A_(n):ws(n).r_()&&S_(n,e))}function T_(t,e){let n=Z(t),r=ws(n);n.N_.delete(e),r.r_()&&FS(n,e),n.N_.size===0&&(r.r_()?r.o_():Oi(n)&&n.q_.set("Unknown"))}function S_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ws(t).A_(e)}function FS(t,e){t.Q_.xe(e),ws(t).R_(e)}function A_(t){t.Q_=new hv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ws(t).start(),t.q_.v_()}function R_(t){return Oi(t)&&!ws(t).n_()&&t.N_.size>0}function Oi(t){return Z(t).L_.size===0}function LS(t){t.Q_=void 0}function tB(t){return w(this,null,function*(){t.q_.set("Online")})}function nB(t){return w(this,null,function*(){t.N_.forEach((e,n)=>{S_(t,e)})})}function rB(t,e){return w(this,null,function*(){LS(t),R_(t)?(t.q_.M_(e),A_(t)):t.q_.set("Unknown")})}function iB(t,e,n){return w(this,null,function*(){if(t.q_.set("Online"),e instanceof nh&&e.state===2&&e.cause)try{yield function(i,o){return w(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){j("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield lh(t,r)}else if(e instanceof rs?t.Q_.Ke(e):e instanceof th?t.Q_.He(e):t.Q_.We(e),!n.isEqual(te.min()))try{let r=yield OS(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(st.EMPTY_BYTE_STRING,h.snapshotVersion)),FS(o,u);let p=new Ec(h.target,u,l,h.sequenceNumber);S_(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){j("RemoteStore","Failed to raise snapshot:",r),yield lh(t,r)}})}function lh(t,e,n){return w(this,null,function*(){if(!Nc(e))throw e;t.L_.add(1),yield xc(t),t.q_.set("Offline"),n||(n=()=>OS(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){j("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Th(t)}))})}function VS(t,e){return e().catch(n=>lh(t,n,e))}function Sh(t){return w(this,null,function*(){let e=Z(t),n=Pr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;oB(e);)try{let i=yield ZU(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,sB(e,i)}catch(i){yield lh(e,i)}jS(e)&&US(e)})}function oB(t){return Oi(t)&&t.O_.length<10}function sB(t,e){t.O_.push(e);let n=Pr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function jS(t){return Oi(t)&&!Pr(t).n_()&&t.O_.length>0}function US(t){Pr(t).start()}function aB(t){return w(this,null,function*(){Pr(t).p_()})}function cB(t){return w(this,null,function*(){let e=Pr(t);for(let n of t.O_)e.m_(n.mutations)})}function uB(t,e,n){return w(this,null,function*(){let r=t.O_.shift(),i=cv.from(r,e,n);yield VS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Sh(t)})}function lB(t,e){return w(this,null,function*(){e&&Pr(t).V_&&(yield function(r,i){return w(this,null,function*(){if(function(s){return SU(s)&&s!==M.ABORTED}(i.code)){let o=r.O_.shift();Pr(r).s_(),yield VS(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Sh(r)}})}(t,e)),jS(t)&&US(t)})}function HT(t,e){return w(this,null,function*(){let n=Z(t);n.asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials");let r=Oi(n);n.L_.add(3),yield xc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Th(n)})}function dB(t,e){return w(this,null,function*(){let n=Z(t);e?(n.L_.delete(2),yield Th(n)):e||(n.L_.add(2),yield xc(n),n.q_.set("Unknown"))})}function ws(t){return t.K_||(t.K_=function(n,r,i){let o=Z(n);return o.w_(),new Hv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:tB.bind(null,t),Ro:nB.bind(null,t),mo:rB.bind(null,t),d_:iB.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.K_.s_(),R_(t)?A_(t):t.q_.set("Unknown")):(yield t.K_.stop(),LS(t))}))),t.K_}function Pr(t){return t.U_||(t.U_=function(n,r,i){let o=Z(n);return o.w_(),new zv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:aB.bind(null,t),mo:lB.bind(null,t),f_:cB.bind(null,t),g_:uB.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.U_.s_(),yield Sh(t)):(yield t.U_.stop(),t.O_.length>0&&(j("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Kv=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new qn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function M_(t,e){if(Gn("AsyncQueue",`${e}: ${t}`),Nc(t))return new L(M.UNAVAILABLE,`${e}: ${t}`);throw t}var dh=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||z.comparator(n.key,r.key):(n,r)=>z.comparator(n.key,r.key),this.keyedMap=hc(),this.sortedSet=new Pe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var hh=class{constructor(){this.W_=new Pe(z.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Q():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},gs=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,dh.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Qv=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Yv=class{constructor(){this.queries=zT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=Z(n),o=i.queries;i.queries=zT(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new L(M.ABORTED,"Firestore shutting down"))}};function zT(){return new xr(t=>fS(t),Dh)}function hB(t,e){return w(this,null,function*(){let n=Z(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new Qv,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=M_(s,`Initialization of query '${Xo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&N_(n)})}function fB(t,e){return w(this,null,function*(){let n=Z(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function pB(t,e){let n=Z(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&N_(n)}function gB(t,e,n){let r=Z(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function N_(t){t.Y_.forEach(e=>{e.next()})}var Zv,qT;(qT=Zv||(Zv={})).ea="default",qT.Cache="cache";var Jv=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new gs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=gs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Zv.Cache}};var fh=class{constructor(e){this.key=e}},ph=class{constructor(e){this.key=e}},Xv=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=pe(),this.mutatedKeys=pe(),this.Aa=pS(e),this.Ra=new dh(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new hh,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),v=bh(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),N=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),R=!1;m&&v?m.data.isEqual(v.data)?S!==N&&(r.track({type:3,doc:v}),R=!0):this.ga(m,v)||(r.track({type:2,doc:v}),R=!0,(u&&this.Aa(v,u)>0||l&&this.Aa(v,l)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),R=!0):m&&!v&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(v?(s=s.add(v),o=N?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(v,S){let N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return N(v)-N(S)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new gs(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new hh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=pe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new ph(r))}),this.da.forEach(r=>{e.has(r)||n.push(new fh(r))}),n}ba(e){this.Ta=e.Ts,this.da=pe();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return gs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},e_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},t_=class{constructor(e){this.key=e,this.va=!1}},n_=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new xr(a=>fS(a),Dh),this.Ma=new Map,this.xa=new Set,this.Oa=new Pe(z.comparator),this.Na=new Map,this.La=new bc,this.Ba={},this.ka=new Map,this.qa=Dc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function mB(t,e,n=!0){return w(this,null,function*(){let r=GS(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield BS(r,e,n,!0),i})}function yB(t,e){return w(this,null,function*(){let n=GS(t);yield BS(n,e,!0,!1)})}function BS(t,e,n,r){return w(this,null,function*(){let i=yield JU(t.localStore,mn(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current",a;return r&&(a=yield vB(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&kS(t.remoteStore,i),a})}function vB(t,e,n,r,i){return w(this,null,function*(){t.Ka=(p,m,v)=>function(N,R,F,$){return w(this,null,function*(){let G=R.view.ma(F);G.ns&&(G=yield $T(N.localStore,R.query,!1).then(({documents:D})=>R.view.ma(D,G)));let ce=$&&$.targetChanges.get(R.targetId),Re=$&&$.targetMismatches.get(R.targetId)!=null,J=R.view.applyChanges(G,N.isPrimaryClient,ce,Re);return WT(N,R.targetId,J.wa),J.snapshot})}(t,p,m,v);let o=yield $T(t.localStore,e,!0),s=new Xv(e,o.Ts),a=s.ma(o.documents),u=wc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);WT(t,n,l.wa);let h=new e_(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function _B(t,e,n){return w(this,null,function*(){let r=Z(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Dh(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Vv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&T_(r.remoteStore,i.targetId),r_(r,i.targetId)}).catch(Mc))):(r_(r,i.targetId),yield Vv(r.localStore,i.targetId,!0))})}function IB(t,e){return w(this,null,function*(){let n=Z(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),T_(n.remoteStore,r.targetId))})}function wB(t,e,n){return w(this,null,function*(){let r=AB(t);try{let i=yield function(s,a){let u=Z(s),l=Ye.now(),h=a.reduce((v,S)=>v.add(S.key),pe()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let S=Kn(),N=pe();return u.cs.getEntries(v,h).next(R=>{S=R,S.forEach((F,$)=>{$.isValidDocument()||(N=N.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,S)).next(R=>{p=R;let F=[];for(let $ of a){let G=TU($,p.get($.key).overlayedDocument);G!=null&&F.push(new Qn($.key,G,sS(G.value.mapValue),Ti.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,F,a)}).next(R=>{m=R;let F=R.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(v,R.batchId,F)})}).then(()=>({batchId:m.batchId,changes:mS(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new Pe(_e)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Pc(r,i.changes),yield Sh(r.remoteStore)}catch(i){let o=M_(i,"Failed to persist write");n.reject(o)}})}function $S(t,e){return w(this,null,function*(){let n=Z(t);try{let r=yield QU(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Ce(s.va):i.removedDocuments.size>0&&(Ce(s.va),s.va=!1))}),yield Pc(n,r,e)}catch(r){yield Mc(r)}})}function GT(t,e,n){let r=Z(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=Z(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&N_(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function EB(t,e,n){return w(this,null,function*(){let r=Z(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Pe(z.comparator);s=s.insert(o,Qt.newNoDocument(o,te.min()));let a=pe().add(o),u=new eh(te.min(),new Map,new Pe(_e),s,a);yield $S(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),x_(r)}else yield Vv(r.localStore,e,!1).then(()=>r_(r,e,n)).catch(Mc)})}function DB(t,e){return w(this,null,function*(){let n=Z(t),r=e.batch.batchId;try{let i=yield KU(n.localStore,e);zS(n,r,null),HS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Pc(n,i)}catch(i){yield Mc(i)}})}function bB(t,e,n){return w(this,null,function*(){let r=Z(t);try{let i=yield function(s,a){let u=Z(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ce(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);zS(r,e,n),HS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Pc(r,i)}catch(i){yield Mc(i)}})}function HS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function zS(t,e,n){let r=Z(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function r_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||qS(t,r)})}function qS(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(T_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),x_(t))}function WT(t,e,n){for(let r of n)r instanceof fh?(t.La.addReference(r.key,e),CB(t,r)):r instanceof ph?(j("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||qS(t,r.key)):Q()}function CB(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(j("SyncEngine","New document in limbo: "+n),t.xa.add(r),x_(t))}function x_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new z(Ae.fromString(e)),r=t.qa.next();t.Na.set(r,new t_(n)),t.Oa=t.Oa.insert(n,r),kS(t.remoteStore,new Ec(mn(D_(n.path)),r,"TargetPurposeLimboResolution",nS.oe))}}function Pc(t,e,n){return w(this,null,function*(){let r=Z(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Ov.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let h=Z(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,m=>x.forEach(m.$i,v=>h.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>x.forEach(m.Ui,v=>h.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!Nc(p))throw p;j("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let v=h.os.get(m),S=v.snapshotVersion,N=v.withLastLimboFreeSnapshotVersion(S);h.os=h.os.insert(m,N)}}})}(r.localStore,o))})}function TB(t,e){return w(this,null,function*(){let n=Z(t);if(!n.currentUser.isEqual(e)){j("SyncEngine","User change. New user:",e.toKey());let r=yield PS(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new L(M.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Pc(n,r.hs)}})}function SB(t,e){let n=Z(t),r=n.Na.get(e);if(r&&r.va)return pe().add(r.key);{let i=pe(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function GS(t){let e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$S.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EB.bind(null,e),e.Ca.d_=pB.bind(null,e.eventManager),e.Ca.$a=gB.bind(null,e.eventManager),e}function AB(t){let e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bB.bind(null,e),e}var gh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return w(this,null,function*(){this.serializer=Ch(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return WU(this.persistence,new Fv,e.initialUser,this.serializer)}createPersistence(e){return new Nv(Pv.Zr,this.serializer)}createSharedClientState(e){return new jv}terminate(){return w(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var i_=class{initialize(e,n){return w(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>GT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=TB.bind(null,this.syncEngine),yield dB(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Yv}()}createDatastore(e){let n=Ch(e.databaseInfo.databaseId),r=function(o){return new $v(o)}(e.databaseInfo);return function(o,s,a,u){return new qv(o,s,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new Wv(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>GT(this.syncEngine,n,0),function(){return ah.D()?new ah:new Uv}())}createSyncEngine(e,n){return function(i,o,s,a,u,l,h){let p=new n_(i,o,s,a,u,l);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return w(this,null,function*(){var e,n;yield function(i){return w(this,null,function*(){let o=Z(i);j("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield xc(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var o_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Gn("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var s_=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ge.UNAUTHENTICATED,this.clientId=Wd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>w(this,null,function*(){j("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(j("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new qn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=M_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Oy(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield PS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function KT(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield MB(t);j("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>HT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>HT(e.remoteStore,i)),t._onlineComponents=e})}function RB(t){return t.name==="FirebaseError"?t.code===M.FAILED_PRECONDITION||t.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function MB(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Oy(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!RB(n))throw n;os("Error using user provided cache. Falling back to memory cache: "+n),yield Oy(t,new gh)}}else j("FirestoreClient","Using default OfflineComponentProvider"),yield Oy(t,new gh);return t._offlineComponents})}function WS(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(j("FirestoreClient","Using user provided OnlineComponentProvider"),yield KT(t,t._uninitializedComponentsProvider._online)):(j("FirestoreClient","Using default OnlineComponentProvider"),yield KT(t,new i_))),t._onlineComponents})}function NB(t){return WS(t).then(e=>e.syncEngine)}function QT(t){return w(this,null,function*(){let e=yield WS(t),n=e.eventManager;return n.onListen=mB.bind(null,e.syncEngine),n.onUnlisten=_B.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=IB.bind(null,e.syncEngine),n})}function KS(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var YT=new Map;function QS(t,e,n){if(!n)throw new L(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function xB(t,e,n,r){if(e===!0&&r===!0)throw new L(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ZT(t){if(!z.isDocumentKey(t))throw new L(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function JT(t){if(z.isDocumentKey(t))throw new L(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ah(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q()}function yc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Ah(t);throw new L(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var mh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new L(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ms=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new L(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ky;switch(r.type){case"firstParty":return new jy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=YT.get(n);r&&(j("ComponentProvider","Removing Datastore"),YT.delete(n),r.terminate())}(this),Promise.resolve()}};function YS(t,e,n,r={}){var i;let o=(t=yc(t,ms))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&os("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Ge.MOCK_USER;else{a=Kb(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new L(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ge(l)}t._authCredentials=new Fy(new Gd(a,u))}}var ys=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Tt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Mr=class t extends ys{constructor(e,n,r){super(e,n,D_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new z(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function ZS(t,e,...n){if(t=rt(t),QS("collection","path",e),t instanceof ms){let r=Ae.fromString(e,...n);return JT(r),new Mr(t,null,r)}{if(!(t instanceof Tt||t instanceof Mr))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ae.fromString(e,...n));return JT(r),new Mr(t.firestore,null,r)}}function JS(t,e,...n){if(t=rt(t),arguments.length===1&&(e=Wd.newId()),QS("doc","path",e),t instanceof ms){let r=Ae.fromString(e,...n);return ZT(r),new Tt(t,null,new z(r))}{if(!(t instanceof Tt||t instanceof Mr))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ae.fromString(e,...n));return ZT(r),new Tt(t.firestore,t instanceof Mr?t.converter:null,new z(r))}}var a_=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new ch(this,"async_queue_retry"),this.Eu=()=>{let n=Py();n&&j("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=Py();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=Py();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new qn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return w(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Nc(e))throw e;j("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Gn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=Kv.createAndSchedule(this,e,n,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&Q()}verifyOperationInProgress(){}mu(){return w(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};function XT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var vs=class extends ms{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new a_}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||tA(this),this._firestoreClient.terminate()}};function XS(t,e){let n=typeof t=="object"?t:Go(),r=typeof t=="string"?t:e||"(default)",i=Xa(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Wb("firestore");o&&YS(i,...o)}return i}function eA(t){return t._firestoreClient||tA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function tA(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new zy(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,KS(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new s_(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Cc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(st.fromBase64String(e))}catch(n){throw new L(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(st.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Tc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var yh=class{constructor(e){this._methodName=e}};var Sc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}};var Ac=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var PB=/^__.*__$/,c_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Qn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pi(e,this.data,n,this.fieldTransforms)}};function nA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}var u_=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return vh(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(nA(this.wu)&&PB.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},l_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ch(e)}Nu(e,n,r,i=!1){return new u_({wu:e,methodName:n,Ou:r,path:Ct.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function rA(t){let e=t._freezeSettings(),n=Ch(t._databaseId);return new l_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function OB(t,e,n,r,i,o={}){let s=t.Nu(o.merge||o.mergeFields?2:0,e,n,i);sA("Data must be an object, but it was:",s,r);let a=iA(r,s),u,l;if(o.merge)u=new pn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=FB(e,p,n);if(!s.contains(m))throw new L(M.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);VB(h,m)||h.push(m)}u=new pn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new c_(new Kt(a),u,l)}function kB(t,e,n,r=!1){return P_(n,t.Nu(r?4:3,e))}function P_(t,e){if(oA(t=rt(t)))return sA("Unsupported field value:",e,t),iA(t,e);if(t instanceof yh)return function(r,i){if(!nA(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=P_(a,i.Fu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ye.fromDate(r);return{timestampValue:ih(i.serializer,o)}}if(r instanceof Ye){let o=new Ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ih(i.serializer,o)}}if(r instanceof Sc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Cc)return{bytesValue:TS(i.serializer,r._byteString)};if(r instanceof Tt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:C_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ac)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return b_(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Ah(r)}`)}(t,e)}function iA(t,e){let n={};return rS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Is(t,(r,i)=>{let o=P_(i,e.bu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function oA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ye||t instanceof Sc||t instanceof Cc||t instanceof Tt||t instanceof yh||t instanceof Ac)}function sA(t,e,n){if(!oA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Ah(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function FB(t,e,n){if((e=rt(e))instanceof Tc)return e._internalPath;if(typeof e=="string")return aA(t,e);throw vh("Field path arguments must be of type string or ",t,!1,void 0,n)}var LB=new RegExp("[~\\*/\\[\\]]");function aA(t,e,n){if(e.search(LB)>=0)throw vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tc(...e.split("."))._internalPath}catch{throw vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vh(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new L(M.INVALID_ARGUMENT,a+t+u)}function VB(t,e){return t.some(n=>n.isEqual(e))}var _h=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new d_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(cA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},d_=class extends _h{data(){return super.data()}};function cA(t,e){return typeof e=="string"?aA(t,e):e instanceof Tc?e._internalPath:e._delegate._internalPath}function jB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Rc=class{},h_=class extends Rc{};function uA(t,e,...n){let r=[];e instanceof Rc&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof p_).length,a=o.filter(u=>u instanceof f_).length;if(s>1||s>0&&a>0)throw new L(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var f_=class t extends h_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return lA(e._query,n),new ys(e.firestore,e.converter,rv(e._query,n))}_parse(e){let n=rA(e.firestore);return function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new L(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){tS(p,h);let v=[];for(let S of p)v.push(eS(u,o,S));m={arrayValue:{values:v}}}else m=eS(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||tS(p,h),m=kB(a,s,p,h==="in"||h==="not-in");return je.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var p_=class t extends Rc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Yt.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)lA(s,u),s=rv(s,u)}(e._query,n),new ys(e.firestore,e.converter,rv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function eS(t,e,n){if(typeof(n=rt(n))=="string"){if(n==="")throw new L(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hS(e)&&n.indexOf("/")!==-1)throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Ae.fromString(n));if(!z.isDocumentKey(r))throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return CT(t,new z(r))}if(n instanceof Tt)return CT(t,n._key);throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ah(n)}.`)}function tS(t,e){if(!Array.isArray(t)||t.length===0)throw new L(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lA(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new L(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var g_=class{convertValue(e,n="none"){switch(Ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Se(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Nr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Is(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Se(s.doubleValue));return new Ac(o)}convertGeoPoint(e){return new Sc(Se(e.latitude),Se(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=__(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(_c(e));default:return null}}convertTimestamp(e){let n=Wn(e);return new Ye(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ae.fromString(e);Ce(xS(r));let i=new Zd(r.get(1),r.get(3)),o=new z(r.popFirst(5));return i.isEqual(n)||Gn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function UB(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Ci=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ih=class extends _h{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new is(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(cA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},is=class extends Ih{data(e={}){return super.data(e)}},m_=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ci(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new is(this._firestore,this._userDataWriter,r.key,r,new Ci(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new is(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ci(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new is(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ci(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:BB(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function BB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}var wh=class extends g_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,n)}};function dA(t,e){let n=yc(t.firestore,vs),r=JS(t),i=UB(t.converter,e);return $B(n,[OB(rA(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ti.exists(!1))]).then(()=>r)}function O_(t,...e){var n,r,i;t=rt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||XT(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(XT(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof Tt)l=yc(t.firestore,vs),h=D_(t._key.path),u={next:p=>{e[s]&&e[s](HB(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=yc(t,ys);l=yc(p.firestore,vs),h=p._query;let m=new wh(l);u={next:v=>{e[s]&&e[s](new m_(l,m,p,v))},error:e[s+1],complete:e[s+2]},jB(t._query)}return function(m,v,S,N){let R=new o_(N),F=new Jv(v,R,S);return m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return hB(yield QT(m),F)})),()=>{R.za(),m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return fB(yield QT(m),F)}))}}(eA(l),h,a,u)}function $B(t,e){return function(r,i){let o=new qn;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return wB(yield NB(r),i,o)})),o.promise}(eA(t),e)}function HB(t,e,n){let r=n.docs.get(e._key),i=new wh(t);return new Ih(t,i,e._key,r,new Ci(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){_s=i})(br),Dr(new Lt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new vs(new Ly(r.getProvider("auth-internal")),new By(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new L(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zd(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),He(wT,"4.7.1",e),He(wT,"4.7.1","esm2017")})();var Rh=function(){return Rh=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Rh.apply(this,arguments)};var GB={includeMetadataChanges:!1};function hA(t,e){return e===void 0&&(e=GB),new le(function(n){var r=O_(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function fA(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Rh(Rh({},r),(n={},n[e.idField]=t.id,n))}function pA(t){return hA(t,{includeMetadataChanges:!0}).pipe(re(function(e){return e.docs}))}function gA(t,e){return e===void 0&&(e={}),pA(t).pipe(re(function(n){return n.map(function(r){return fA(r,e)})}))}var ki=class{constructor(e){return e}},mA="firestore",k_=class{constructor(){return ec(mA)}};var F_=new B("angularfire2.firestore-instances");function WB(t,e){let n=Id(mA,t,e);return n&&new ki(n)}function KB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ki(r)}}var QB={provide:k_,deps:[[new mt,F_]]},YB={provide:ki,useFactory:WB,deps:[[new mt,F_],jn]};function yA(t,...e){return He("angularfire",yi.full,"fst"),sn([YB,QB,{provide:F_,useFactory:KB(t),multi:!0,deps:[we,gt,Qo,vi,[new mt,uc],[new mt,Ko],...e]}])}var vA=Vt(gA,!0);var _A=Vt(dA,!0);var L_=Vt(ZS,!0);var IA=Vt(XS,!0);var wA=Vt(uA,!0);var Mh=class t{constructor(e,n,r){this.router=e;this.firestore=n;this.auth=r}user;email="";password="";loginsCollection=[];countLogins=0;sub;ngOnInit(){localStorage.getItem("user")&&this.router.navigate(["/home"])}onLogin(){this.user=new Ho(this.email,this.password),yT(this.auth,this.user.getEmail(),this.user.getPassword()).then(e=>{localStorage.setItem("user",JSON.stringify({email:this.auth.currentUser?.email})),this.router.navigate(["/home"]),this.logUsuarios()}).catch(e=>{console.log("Error:",e)})}logUsuarios(){let e=L_(this.firestore,"logins"),n={fecha:new Date,email:this.user.getEmail()};_A(e,n)}getData(){let e=L_(this.firestore,"logins"),n=wA(e),r=vA(n);this.sub=r.subscribe(i=>{this.loginsCollection=i,this.countLogins=this.loginsCollection.length,console.log(i)})}quickLogin(e,n){this.email=e,this.password=n,this.onLogin()}static \u0275fac=function(n){return new(n||t)(ae(Fn),ae(ki),ae(Hn))};static \u0275cmp=Pt({type:t,selectors:[["app-login"]],standalone:!0,features:[kt],decls:23,vars:2,consts:[[1,"login-section"],[1,"login-container"],["routerLink","home",1,"back-home-button"],[1,"login-form",3,"ngSubmit"],[1,"form-group"],["for","Email"],["id","email","name","email","required","","autocomplete","email",3,"ngModelChange","ngModel"],["for","clave"],["id","clave","name","password","type","password","required","","autocomplete","current-password",3,"ngModelChange","ngModel"],["type","submit"],[1,"quick-login-buttons"],[3,"click"]],template:function(n,r){n&1&&(q(0,"section",0)(1,"div",1)(2,"button",2),U(3,"Volver a Home"),V(),q(4,"h1"),U(5,"Login"),V(),q(6,"form",3),yt("ngSubmit",function(){return r.onLogin()}),q(7,"div",4)(8,"label",5),U(9,"Email:"),V(),q(10,"input",6),ii("ngModelChange",function(o){return So(r.email,o)||(r.email=o),o}),V()(),q(11,"div",4)(12,"label",7),U(13,"Clave:"),V(),q(14,"input",8),ii("ngModelChange",function(o){return So(r.password,o)||(r.password=o),o}),V()(),q(15,"div",4)(16,"button",9),U(17,"Login"),V()()(),q(18,"div",10)(19,"button",11),yt("click",function(){return r.quickLogin("pepe@gmail.com","pepe123")}),U(20,"Login como Pepe"),V(),q(21,"button",11),yt("click",function(){return r.quickLogin("romeo@gmail.com","Romeo123")}),U(22,"Login como Romeo"),V()()()()),n&2&&(ft(10),ri("ngModel",r.email),ft(4),ri("ngModel",r.password))},dependencies:[fd,hd,$o,ud,ld,Ka,Wa,Ga,Ir],styles:[`.login-section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#a0b316;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='192' height='192' viewBox='0 0 192 192'%3E%3Cpath fill='%23ffffff' fill-opacity='0.91' d='M192 15v2a11 11 0 0 0-11 11c0 1.94 1.16 4.75 2.53 6.11l2.36 2.36a6.93 6.93 0 0 1 1.22 7.56l-.43.84a8.08 8.08 0 0 1-6.66 4.13H145v35.02a6.1 6.1 0 0 0 3.03 4.87l.84.43c1.58.79 4 .4 5.24-.85l2.36-2.36a12.04 12.04 0 0 1 7.51-3.11 13 13 0 1 1 .02 26 12 12 0 0 1-7.53-3.11l-2.36-2.36a4.93 4.93 0 0 0-5.24-.85l-.84.43a6.1 6.1 0 0 0-3.03 4.87V143h35.02a8.08 8.08 0 0 1 6.66 4.13l.43.84a6.91 6.91 0 0 1-1.22 7.56l-2.36 2.36A10.06 10.06 0 0 0 181 164a11 11 0 0 0 11 11v2a13 13 0 0 1-13-13 12 12 0 0 1 3.11-7.53l2.36-2.36a4.93 4.93 0 0 0 .85-5.24l-.43-.84a6.1 6.1 0 0 0-4.87-3.03H145v35.02a8.08 8.08 0 0 1-4.13 6.66l-.84.43a6.91 6.91 0 0 1-7.56-1.22l-2.36-2.36A10.06 10.06 0 0 0 124 181a11 11 0 0 0-11 11h-2a13 13 0 0 1 13-13c2.47 0 5.79 1.37 7.53 3.11l2.36 2.36a4.94 4.94 0 0 0 5.24.85l.84-.43a6.1 6.1 0 0 0 3.03-4.87V145h-35.02a8.08 8.08 0 0 1-6.66-4.13l-.43-.84a6.91 6.91 0 0 1 1.22-7.56l2.36-2.36A10.06 10.06 0 0 0 107 124a11 11 0 0 0-22 0c0 1.94 1.16 4.75 2.53 6.11l2.36 2.36a6.93 6.93 0 0 1 1.22 7.56l-.43.84a8.08 8.08 0 0 1-6.66 4.13H49v35.02a6.1 6.1 0 0 0 3.03 4.87l.84.43c1.58.79 4 .4 5.24-.85l2.36-2.36a12.04 12.04 0 0 1 7.51-3.11A13 13 0 0 1 81 192h-2a11 11 0 0 0-11-11c-1.94 0-4.75 1.16-6.11 2.53l-2.36 2.36a6.93 6.93 0 0 1-7.56 1.22l-.84-.43a8.08 8.08 0 0 1-4.13-6.66V145H11.98a6.1 6.1 0 0 0-4.87 3.03l-.43.84c-.79 1.58-.4 4 .85 5.24l2.36 2.36a12.04 12.04 0 0 1 3.11 7.51A13 13 0 0 1 0 177v-2a11 11 0 0 0 11-11c0-1.94-1.16-4.75-2.53-6.11l-2.36-2.36a6.93 6.93 0 0 1-1.22-7.56l.43-.84a8.08 8.08 0 0 1 6.66-4.13H47v-35.02a6.1 6.1 0 0 0-3.03-4.87l-.84-.43c-1.59-.8-4-.4-5.24.85l-2.36 2.36A12 12 0 0 1 28 109a13 13 0 1 1 0-26c2.47 0 5.79 1.37 7.53 3.11l2.36 2.36a4.94 4.94 0 0 0 5.24.85l.84-.43A6.1 6.1 0 0 0 47 84.02V49H11.98a8.08 8.08 0 0 1-6.66-4.13l-.43-.84a6.91 6.91 0 0 1 1.22-7.56l2.36-2.36A10.06 10.06 0 0 0 11 28 11 11 0 0 0 0 17v-2a13 13 0 0 1 13 13c0 2.47-1.37 5.79-3.11 7.53l-2.36 2.36a4.94 4.94 0 0 0-.85 5.24l.43.84A6.1 6.1 0 0 0 11.98 47H47V11.98a8.08 8.08 0 0 1 4.13-6.66l.84-.43a6.91 6.91 0 0 1 7.56 1.22l2.36 2.36A10.06 10.06 0 0 0 68 11 11 11 0 0 0 79 0h2a13 13 0 0 1-13 13 12 12 0 0 1-7.53-3.11l-2.36-2.36a4.93 4.93 0 0 0-5.24-.85l-.84.43A6.1 6.1 0 0 0 49 11.98V47h35.02a8.08 8.08 0 0 1 6.66 4.13l.43.84a6.91 6.91 0 0 1-1.22 7.56l-2.36 2.36A10.06 10.06 0 0 0 85 68a11 11 0 0 0 22 0c0-1.94-1.16-4.75-2.53-6.11l-2.36-2.36a6.93 6.93 0 0 1-1.22-7.56l.43-.84a8.08 8.08 0 0 1 6.66-4.13H143V11.98a6.1 6.1 0 0 0-3.03-4.87l-.84-.43c-1.59-.8-4-.4-5.24.85l-2.36 2.36A12 12 0 0 1 124 13a13 13 0 0 1-13-13h2a11 11 0 0 0 11 11c1.94 0 4.75-1.16 6.11-2.53l2.36-2.36a6.93 6.93 0 0 1 7.56-1.22l.84.43a8.08 8.08 0 0 1 4.13 6.66V47h35.02a6.1 6.1 0 0 0 4.87-3.03l.43-.84c.8-1.59.4-4-.85-5.24l-2.36-2.36A12 12 0 0 1 179 28a13 13 0 0 1 13-13zM84.02 143a6.1 6.1 0 0 0 4.87-3.03l.43-.84c.8-1.59.4-4-.85-5.24l-2.36-2.36A12 12 0 0 1 83 124a13 13 0 1 1 26 0c0 2.47-1.37 5.79-3.11 7.53l-2.36 2.36a4.94 4.94 0 0 0-.85 5.24l.43.84a6.1 6.1 0 0 0 4.87 3.03H143v-35.02a8.08 8.08 0 0 1 4.13-6.66l.84-.43a6.91 6.91 0 0 1 7.56 1.22l2.36 2.36A10.06 10.06 0 0 0 164 107a11 11 0 0 0 0-22c-1.94 0-4.75 1.16-6.11 2.53l-2.36 2.36a6.93 6.93 0 0 1-7.56 1.22l-.84-.43a8.08 8.08 0 0 1-4.13-6.66V49h-35.02a6.1 6.1 0 0 0-4.87 3.03l-.43.84c-.79 1.58-.4 4 .85 5.24l2.36 2.36a12.04 12.04 0 0 1 3.11 7.51A13 13 0 1 1 83 68a12 12 0 0 1 3.11-7.53l2.36-2.36a4.93 4.93 0 0 0 .85-5.24l-.43-.84A6.1 6.1 0 0 0 84.02 49H49v35.02a8.08 8.08 0 0 1-4.13 6.66l-.84.43a6.91 6.91 0 0 1-7.56-1.22l-2.36-2.36A10.06 10.06 0 0 0 28 85a11 11 0 0 0 0 22c1.94 0 4.75-1.16 6.11-2.53l2.36-2.36a6.93 6.93 0 0 1 7.56-1.22l.84.43a8.08 8.08 0 0 1 4.13 6.66V143h35.02z'%3E%3C/path%3E%3C/svg%3E");background-size:200px;background-repeat:repeat;background-position:center}.login-container[_ngcontent-%COMP%]{background:#fff;padding:4.5rem;border-radius:12px;box-shadow:0 8px 20px #0000001a;max-width:350px;width:100%}h1[_ngcontent-%COMP%]{margin-bottom:1.5rem;font-size:2.2rem;color:#343a40;text-align:center}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-size:1rem;color:#495057}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:93%;padding:.8rem;border:1px solid #ced4da;border-radius:6px;font-size:1rem;transition:border-color .3s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none;box-shadow:0 0 0 3px #007bff40}.form-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.8rem 9.8rem}button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:.8rem 1.5rem;border-radius:6px;cursor:pointer;font-size:1rem;transition:background-color .3s,transform .2s;display:block;margin:0 auto}button[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:translateY(-2px)}.quick-login-buttons[_ngcontent-%COMP%]{margin-top:1.5rem;display:flex;justify-content:space-between}.quick-login-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#28a745;padding:.8rem 1.5rem;flex:1;margin:0 .5rem;font-size:.9rem;border-radius:6px}.back-home-button[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px;background-color:#f8f9fa;color:#007bff;border:1px solid #007bff;padding:.5rem 1rem;border-radius:6px;cursor:pointer;font-size:1rem;transition:background-color .3s,color .3s}.back-home-button[_ngcontent-%COMP%]:hover{background-color:#e9ecef;color:#0056b3}`]})};var Nh=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Pt({type:t,selectors:[["app-quien-soy"]],standalone:!0,features:[kt],decls:69,vars:0,consts:[[1,"quien-soy-section"],[1,"alumno-container"],[1,"home-button-container"],["routerLink","home",1,"back-home-button"],[1,"image-section"],["src","https://gyazo.com/54e22f567e0c49fe4345d3f165d73c3a.jpg","alt","Imagen del Alumno",1,"alumno-image"],[1,"info-section"]],template:function(n,r){n&1&&(q(0,"section",0)(1,"div",1)(2,"div",2)(3,"button",3),U(4,"Volver a home"),V()(),q(5,"div",4),ni(6,"img",5),V(),q(7,"div",6)(8,"h1"),U(9,"Qui\xE9n soy"),V(),q(10,"p")(11,"strong"),U(12,"Nombre:"),V(),U(13," Cristian Delgado"),V(),q(14,"p")(15,"strong"),U(16,"Edad:"),V(),U(17," 23 a\xF1os"),V(),q(18,"p")(19,"strong"),U(20,"Estudios:"),V(),U(21," Tecnicatura en Programaci\xF3n en la UTN"),V(),q(22,"h2"),U(23,"Explicaci\xF3n del Juego Propio: Test de Reflejos"),V(),q(24,"p")(25,"strong"),U(26,"Test de Reflejos"),V(),U(27," es un juego dise\xF1ado para medir y desafiar la rapidez de tus reflejos. Se basa en la premisa simple de reaccionar ante est\xEDmulos visuales, similar a las pruebas de reflejos de Human Benchmark. "),V(),q(28,"h3"),U(29,"C\xF3mo Jugar"),V(),q(30,"p")(31,"strong"),U(32,"Objetivo del Juego:"),V(),U(33," El objetivo es hacer clic en el bot\xF3n de reacci\xF3n tan r\xE1pido como sea posible cuando se ilumine. Cuanto m\xE1s r\xE1pido respondas, mejor ser\xE1 tu puntuaci\xF3n. "),V(),q(34,"p")(35,"strong"),U(36,"Inicio del Juego:"),V(),U(37," Cuando el juego comienza, el bot\xF3n de reacci\xF3n estar\xE1 desactivado y de color gris. Debes esperar hasta que se ilumine de color verde, momento en el cual debes hacer clic en \xE9l lo m\xE1s r\xE1pido posible. "),V(),q(38,"p")(39,"strong"),U(40,"Temporizador de Reacci\xF3n:"),V(),U(41," Despu\xE9s de que el bot\xF3n se ilumine, tendr\xE1s un breve per\xEDodo de tiempo para hacer clic. El tiempo que tarda en iluminarse es aleatorio, por lo que debes estar atento. "),V(),q(42,"p")(43,"strong"),U(44,"Medici\xF3n del Tiempo:"),V(),U(45," El juego mide el tiempo entre el momento en que el bot\xF3n se ilumina y el momento en que haces clic. Este tiempo se muestra como tu tiempo de reacci\xF3n. "),V(),q(46,"p")(47,"strong"),U(48,"Objetivo:"),V(),U(49," Reducir el tiempo de reacci\xF3n en cada intento para mejorar tu puntuaci\xF3n y desafiar tus reflejos. "),V(),q(50,"h3"),U(51,"Caracter\xEDsticas del Juego"),V(),q(52,"ul")(53,"li")(54,"strong"),U(55,"Interfaz Sencilla:"),V(),U(56," Un dise\xF1o limpio con un bot\xF3n de reacci\xF3n claramente visible."),V(),q(57,"li")(58,"strong"),U(59,"Medici\xF3n Precisa:"),V(),U(60," Calcula el tiempo de reacci\xF3n con alta precisi\xF3n."),V(),q(61,"li")(62,"strong"),U(63,"Historial de Resultados:"),V(),U(64," Guarda y muestra tus mejores tiempos de reacci\xF3n para seguimiento y comparaci\xF3n."),V(),q(65,"li")(66,"strong"),U(67,"Modo de Pr\xE1ctica:"),V(),U(68," Permite repetir la prueba para mejorar tus reflejos y habilidad."),V()()()()())},dependencies:[Ir],styles:[`.quien-soy-section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#000;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='80' height='80' viewBox='0 0 80 80'%3E%3Cg fill='%23ffffff' fill-opacity='0.71'%3E%3Cpath fill-rule='evenodd' d='M11 0l5 20H6l5-20zm42 31a3 3 0 1 0 0-6 3 3 0 0 0 0 6zM0 72h40v4H0v-4zm0-8h31v4H0v-4zm20-16h20v4H20v-4zM0 56h40v4H0v-4zm63-25a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm10 0a3 3 0 1 0 0-6 3 3 0 0 0 0 6zM53 41a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm10 0a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm10 0a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-30 0a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-28-8a5 5 0 0 0-10 0h10zm10 0a5 5 0 0 1-10 0h10zM56 5a5 5 0 0 0-10 0h10zm10 0a5 5 0 0 1-10 0h10zm-3 46a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm10 0a3 3 0 1 0 0-6 3 3 0 0 0 0 6zM21 0l5 20H16l5-20zm43 64v-4h-4v4h-4v4h4v4h4v-4h4v-4h-4zM36 13h4v4h-4v-4zm4 4h4v4h-4v-4zm-4 4h4v4h-4v-4zm8-8h4v4h-4v-4z'/%3E%3C/g%3E%3C/svg%3E");background-size:100px;background-repeat:repeat;background-position:center}.alumno-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:40px;max-width:800px;background-color:#ffffffe6;border-radius:12px;box-shadow:0 8px 16px #0003}.alumno-image[_ngcontent-%COMP%]{max-width:220px;border-radius:10%;border:3px solid #e0e0e0;box-shadow:0 4px 8px #0000001a}.info-section[_ngcontent-%COMP%]{max-width:100%}h1[_ngcontent-%COMP%]{font-size:2.5em;color:#333;margin-bottom:20px;font-weight:700;text-shadow:1px 1px 2px rgba(0,0,0,.1)}h2[_ngcontent-%COMP%]{font-size:2em;color:#444;margin-top:30px;margin-bottom:15px;font-weight:600;border-bottom:2px solid #007bff;padding-bottom:5px}h3[_ngcontent-%COMP%]{font-size:1.8em;color:#555;margin-top:20px;margin-bottom:10px;font-weight:500;position:relative}h3[_ngcontent-%COMP%]:before{content:"";display:block;width:50px;height:3px;background:#007bff;position:absolute;top:0;left:0}p[_ngcontent-%COMP%]{font-size:1.1em;color:#444;line-height:1.6;margin-bottom:20px;background-color:#f5f5f5cc;border-radius:8px;padding:15px}ul[_ngcontent-%COMP%]{text-align:left;margin-left:40px;list-style-type:disc}li[_ngcontent-%COMP%]{font-size:1.1em;color:#444;margin-bottom:10px}strong[_ngcontent-%COMP%]{color:#000;font-weight:700}.home-button-container[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px}.back-home-button[_ngcontent-%COMP%]{background-color:#f8f9fa;color:#007bff;border:1px solid #007bff;padding:.5rem 1rem;border-radius:6px;cursor:pointer;font-size:1rem;transition:background-color .3s,color .3s}.back-home-button[_ngcontent-%COMP%]:hover{background-color:#e9ecef;color:#0056b3}@media (max-width: 768px){h1[_ngcontent-%COMP%]{font-size:2em}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{font-size:1.5em}p[_ngcontent-%COMP%]{font-size:1em}}`]})};function JB(t,e){if(t&1&&(q(0,"div",12),U(1),V()),t&2){let n=Nl();ft(),fa(n.errorMessage)}}var xh=class t{constructor(e,n){this.auth=e;this.router=n}user;email;password;errorMessage="";ngOnInit(){localStorage.getItem("user")&&this.router.navigate(["/home"])}onSubmit(e){this.user=new Ho(this.email,this.password),this.errorMessage="",gT(this.auth,this.user.getEmail(),this.user.getPassword()).then(n=>{n.user&&(console.log("Usuario creado con \xE9xito"),localStorage.setItem("user",JSON.stringify({email:n.user.email})),this.router.navigate(["/home"]))}).catch(n=>{switch(this.email="",this.password="",e.reset(),n.code){case"auth/email-already-in-use":this.errorMessage="El email ya est\xE1 en uso";break;case"auth/invalid-email":this.errorMessage="El email no es v\xE1lido";break;case"auth/weak-password":this.errorMessage="La contrase\xF1a es d\xE9bil";break;default:this.errorMessage="Error desconocido";break}})}static \u0275fac=function(n){return new(n||t)(ae(Hn),ae(Fn))};static \u0275cmp=Pt({type:t,selectors:[["app-registro"]],standalone:!0,features:[kt],decls:19,vars:4,consts:[["registroForm","ngForm"],[1,"registro-section"],[1,"registro-container"],["routerLink","home",1,"btn-home","back-home-button"],[1,"registro-form",3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","required","","autocomplete","email",3,"ngModelChange","ngModel"],["for","contrasena"],["type","password","id","contrasena","name","contrasena","required","","autocomplete","new-password",3,"ngModelChange","ngModel"],["type","submit",3,"disabled"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(n,r){if(n&1){let i=Ml();q(0,"section",1)(1,"div",2)(2,"button",3),U(3,"Volver a Home"),V(),q(4,"h1"),U(5,"Registro de Usuario"),V(),q(6,"form",4,0),yt("ngSubmit",function(){Eo(i);let s=ha(7);return Do(r.onSubmit(s))}),q(8,"div",5)(9,"label",6),U(10,"Email:"),V(),q(11,"input",7),ii("ngModelChange",function(s){return Eo(i),So(r.email,s)||(r.email=s),Do(s)}),V()(),q(12,"div",5)(13,"label",8),U(14,"Contrase\xF1a:"),V(),q(15,"input",9),ii("ngModelChange",function(s){return Eo(i),So(r.password,s)||(r.password=s),Do(s)}),V()(),q(16,"button",10),U(17,"Registrar"),V(),la(18,JB,2,1,"div",11),V()()()}if(n&2){let i=ha(7);ft(11),ri("ngModel",r.email),ft(4),ri("ngModel",r.password),ft(),an("disabled",!i.valid),ft(2),an("ngIf",r.errorMessage)}},dependencies:[fd,hd,$o,ud,ld,Ka,Wa,Ga,Ir,kl],styles:[`.registro-section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#a0b316;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='192' height='192' viewBox='0 0 192 192'%3E%3Cpath fill='%23ffffff' fill-opacity='0.91' d='M192 15v2a11 11 0 0 0-11 11c0 1.94 1.16 4.75 2.53 6.11l2.36 2.36a6.93 6.93 0 0 1 1.22 7.56l-.43.84a8.08 8.08 0 0 1-6.66 4.13H145v35.02a6.1 6.1 0 0 0 3.03 4.87l.84.43c1.58.79 4 .4 5.24-.85l2.36-2.36a12.04 12.04 0 0 1 7.51-3.11 13 13 0 1 1 .02 26 12 12 0 0 1-7.53-3.11l-2.36-2.36a4.93 4.93 0 0 0-5.24-.85l-.84.43a6.1 6.1 0 0 0-3.03 4.87V143h35.02a8.08 8.08 0 0 1 6.66 4.13l.43.84a6.91 6.91 0 0 1-1.22 7.56l-2.36 2.36A10.06 10.06 0 0 0 181 164a11 11 0 0 0 11 11v2a13 13 0 0 1-13-13 12 12 0 0 1 3.11-7.53l2.36-2.36a4.93 4.93 0 0 0 .85-5.24l-.43-.84a6.1 6.1 0 0 0-4.87-3.03H145v35.02a8.08 8.08 0 0 1-4.13 6.66l-.84.43a6.91 6.91 0 0 1-7.56-1.22l-2.36-2.36A10.06 10.06 0 0 0 124 181a11 11 0 0 0-11 11h-2a13 13 0 0 1 13-13c2.47 0 5.79 1.37 7.53 3.11l2.36 2.36a4.94 4.94 0 0 0 5.24.85l.84-.43a6.1 6.1 0 0 0 3.03-4.87V145h-35.02a8.08 8.08 0 0 1-6.66-4.13l-.43-.84a6.91 6.91 0 0 1 1.22-7.56l2.36-2.36A10.06 10.06 0 0 0 107 124a11 11 0 0 0-22 0c0 1.94 1.16 4.75 2.53 6.11l2.36 2.36a6.93 6.93 0 0 1 1.22 7.56l-.43.84a8.08 8.08 0 0 1-6.66 4.13H49v35.02a6.1 6.1 0 0 0 3.03 4.87l.84.43c1.58.79 4 .4 5.24-.85l2.36-2.36a12.04 12.04 0 0 1 7.51-3.11A13 13 0 0 1 81 192h-2a11 11 0 0 0-11-11c-1.94 0-4.75 1.16-6.11 2.53l-2.36 2.36a6.93 6.93 0 0 1-7.56 1.22l-.84-.43a8.08 8.08 0 0 1-4.13-6.66V145H11.98a6.1 6.1 0 0 0-4.87 3.03l-.43.84c-.79 1.58-.4 4 .85 5.24l2.36 2.36a12.04 12.04 0 0 1 3.11 7.51A13 13 0 0 1 0 177v-2a11 11 0 0 0 11-11c0-1.94-1.16-4.75-2.53-6.11l-2.36-2.36a6.93 6.93 0 0 1-1.22-7.56l.43-.84a8.08 8.08 0 0 1 6.66-4.13H47v-35.02a6.1 6.1 0 0 0-3.03-4.87l-.84-.43c-1.59-.8-4-.4-5.24.85l-2.36 2.36A12 12 0 0 1 28 109a13 13 0 1 1 0-26c2.47 0 5.79 1.37 7.53 3.11l2.36 2.36a4.94 4.94 0 0 0 5.24.85l.84-.43A6.1 6.1 0 0 0 47 84.02V49H11.98a8.08 8.08 0 0 1-6.66-4.13l-.43-.84a6.91 6.91 0 0 1 1.22-7.56l2.36-2.36A10.06 10.06 0 0 0 11 28 11 11 0 0 0 0 17v-2a13 13 0 0 1 13 13c0 2.47-1.37 5.79-3.11 7.53l-2.36 2.36a4.94 4.94 0 0 0-.85 5.24l.43.84A6.1 6.1 0 0 0 11.98 47H47V11.98a8.08 8.08 0 0 1 4.13-6.66l.84-.43a6.91 6.91 0 0 1 7.56 1.22l2.36 2.36A10.06 10.06 0 0 0 68 11 11 11 0 0 0 79 0h2a13 13 0 0 1-13 13 12 12 0 0 1-7.53-3.11l-2.36-2.36a4.93 4.93 0 0 0-5.24-.85l-.84.43A6.1 6.1 0 0 0 49 11.98V47h35.02a8.08 8.08 0 0 1 6.66 4.13l.43.84a6.91 6.91 0 0 1-1.22 7.56l-2.36 2.36A10.06 10.06 0 0 0 85 68a11 11 0 0 0 22 0c0-1.94-1.16-4.75-2.53-6.11l-2.36-2.36a6.93 6.93 0 0 1-1.22-7.56l.43-.84a8.08 8.08 0 0 1 6.66-4.13H143V11.98a6.1 6.1 0 0 0-3.03-4.87l-.84-.43c-1.59-.8-4-.4-5.24.85l-2.36 2.36A12 12 0 0 1 124 13a13 13 0 0 1-13-13h2a11 11 0 0 0 11 11c1.94 0 4.75-1.16 6.11-2.53l2.36-2.36a6.93 6.93 0 0 1 7.56-1.22l.84.43a8.08 8.08 0 0 1 4.13 6.66V47h35.02a6.1 6.1 0 0 0 4.87-3.03l.43-.84c.8-1.59.4-4-.85-5.24l-2.36-2.36A12 12 0 0 1 179 28a13 13 0 0 1 13-13zM84.02 143a6.1 6.1 0 0 0 4.87-3.03l.43-.84c.8-1.59.4-4-.85-5.24l-2.36-2.36A12 12 0 0 1 83 124a13 13 0 1 1 26 0c0 2.47-1.37 5.79-3.11 7.53l-2.36 2.36a4.94 4.94 0 0 0-.85 5.24l.43.84a6.1 6.1 0 0 0 4.87 3.03H143v-35.02a8.08 8.08 0 0 1 4.13-6.66l.84-.43a6.91 6.91 0 0 1 7.56 1.22l2.36 2.36A10.06 10.06 0 0 0 164 107a11 11 0 0 0 0-22c-1.94 0-4.75 1.16-6.11 2.53l-2.36 2.36a6.93 6.93 0 0 1-7.56 1.22l-.84-.43a8.08 8.08 0 0 1-4.13-6.66V49h-35.02a6.1 6.1 0 0 0-4.87 3.03l-.43.84c-.79 1.58-.4 4 .85 5.24l2.36 2.36a12.04 12.04 0 0 1 3.11 7.51A13 13 0 1 1 83 68a12 12 0 0 1 3.11-7.53l2.36-2.36a4.93 4.93 0 0 0 .85-5.24l-.43-.84A6.1 6.1 0 0 0 84.02 49H49v35.02a8.08 8.08 0 0 1-4.13 6.66l-.84.43a6.91 6.91 0 0 1-7.56-1.22l-2.36-2.36A10.06 10.06 0 0 0 28 85a11 11 0 0 0 0 22c1.94 0 4.75-1.16 6.11-2.53l2.36-2.36a6.93 6.93 0 0 1 7.56-1.22l.84.43a8.08 8.08 0 0 1 4.13 6.66V143h35.02z'%3E%3C/path%3E%3C/svg%3E");background-size:cover;background-size:200px;background-repeat:repeat;background-position:center}.registro-container[_ngcontent-%COMP%]{background:#fff;padding:4.5rem;border-radius:12px;box-shadow:0 8px 20px #0000001a;max-width:400px;width:100%}h1[_ngcontent-%COMP%]{margin-bottom:1.5rem;font-size:2.2rem;color:#343a40;text-align:center}.registro-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-size:1rem;color:#495057}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.8rem;border:1px solid #ced4da;border-radius:6px;box-sizing:border-box;font-size:1rem;transition:border-color .3s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none;box-shadow:0 0 0 3px #007bff40}.form-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.8rem 11.2rem}button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:.8rem 1.5rem;border-radius:6px;cursor:pointer;font-size:1rem;transition:background-color .3s,transform .2s;display:block;margin:0 auto}button[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:translateY(-2px)}button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #268fff80}.back-home-button[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px;background-color:#f8f9fa;color:#007bff;border:1px solid #007bff;padding:.5rem 1rem;border-radius:6px;cursor:pointer;font-size:1rem;transition:background-color .3s,color .3s}.back-home-button[_ngcontent-%COMP%]:hover{background-color:#e9ecef;color:#0056b3}button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.error-message[_ngcontent-%COMP%]{color:red;margin-top:10px;font-size:1em;text-align:center;align-items:center}`]})};var EA=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",title:"Home",component:ed},{path:"login",title:"Login",component:Mh},{path:"quien-soy",title:"Quien soy",component:Nh},{path:"registro",title:"Registro",component:xh},{path:"**",redirectTo:"home"}];var DA={projectId:"muestrahosting-77e1e",appId:"1:490264029325:web:da9d3d51f03b0cf3df5ac4",storageBucket:"muestrahosting-77e1e.appspot.com",apiKey:"AIzaSyAZ3RTfIv8FjXLeCvu98J32Iw_wD3OoejY",authDomain:"muestrahosting-77e1e.firebaseapp.com",messagingSenderId:"490264029325"};var bA={providers:[mD({eventCoalescing:!0}),wb(EA),yC(()=>vC(DA)),pT(()=>mT()),yA(()=>IA())]};var Ph=class t{title="sala-de-juegos";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Pt({type:t,selectors:[["app-root"]],standalone:!0,features:[kt],decls:1,vars:0,template:function(n,r){n&1&&ni(0,"router-outlet")},dependencies:[nm]})};VD(Ph,bA).catch(t=>console.error(t));
