var mM=Object.defineProperty,yM=Object.defineProperties;var vM=Object.getOwnPropertyDescriptors;var LI=Object.getOwnPropertySymbols,_M=Object.getPrototypeOf,IM=Object.prototype.hasOwnProperty,wM=Object.prototype.propertyIsEnumerable,EM=Reflect.get;var VI=(t,e,n)=>e in t?mM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,k=(t,e)=>{for(var n in e||={})IM.call(e,n)&&VI(t,n,e[n]);if(LI)for(var n of LI(e))wM.call(e,n)&&VI(t,n,e[n]);return t},ue=(t,e)=>yM(t,vM(e));var rr=(t,e,n)=>EM(_M(t),n,e);var w=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});function jI(t,e){return Object.is(t,e)}var Ue=null,Qc=!1,Yc=1,Dn=Symbol("SIGNAL");function ye(t){let e=Ue;return Ue=t,e}function UI(){return Ue}var Hs={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function of(t){if(Qc)throw new Error("");if(Ue===null)return;Ue.consumerOnSignalRead(t);let e=Ue.nextProducerIndex++;if(eu(Ue),e<Ue.producerNode.length&&Ue.producerNode[e]!==t&&$s(Ue)){let n=Ue.producerNode[e];Xc(n,Ue.producerIndexOfThis[e])}Ue.producerNode[e]!==t&&(Ue.producerNode[e]=t,Ue.producerIndexOfThis[e]=$s(Ue)?zI(t,Ue,e):0),Ue.producerLastReadVersion[e]=t.version}function DM(){Yc++}function BI(t){if(!($s(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Yc)){if(!t.producerMustRecompute(t)&&!af(t)){t.dirty=!1,t.lastCleanEpoch=Yc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Yc}}function $I(t){if(t.liveConsumerNode===void 0)return;let e=Qc;Qc=!0;try{for(let n of t.liveConsumerNode)n.dirty||bM(n)}finally{Qc=e}}function HI(){return Ue?.consumerAllowSignalWrites!==!1}function bM(t){t.dirty=!0,$I(t),t.consumerMarkedDirty?.(t)}function Jc(t){return t&&(t.nextProducerIndex=0),ye(t)}function sf(t,e){if(ye(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if($s(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Xc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function af(t){eu(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(BI(n),r!==n.version))return!0}return!1}function cf(t){if(eu(t),$s(t))for(let e=0;e<t.producerNode.length;e++)Xc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function zI(t,e,n){if(qI(t),t.liveConsumerNode.length===0&&GI(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=zI(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Xc(t,e){if(qI(t),t.liveConsumerNode.length===1&&GI(t))for(let r=0;r<t.producerNode.length;r++)Xc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];eu(i),i.producerIndexOfThis[r]=e}}function $s(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function eu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function qI(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function GI(t){return t.producerNode!==void 0}function WI(t){let e=Object.create(CM);e.computation=t;let n=()=>{if(BI(e),of(e),e.value===Zc)throw e.error;return e.value};return n[Dn]=e,n}var nf=Symbol("UNSET"),rf=Symbol("COMPUTING"),Zc=Symbol("ERRORED"),CM=ue(k({},Hs),{value:nf,dirty:!0,error:null,equal:jI,producerMustRecompute(t){return t.value===nf||t.value===rf},producerRecomputeValue(t){if(t.value===rf)throw new Error("Detected cycle in computations.");let e=t.value;t.value=rf;let n=Jc(t),r;try{r=t.computation()}catch(i){r=Zc,t.error=i}finally{sf(t,n)}if(e!==nf&&e!==Zc&&r!==Zc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function TM(){throw new Error}var KI=TM;function QI(){KI()}function YI(t){KI=t}var SM=null;function ZI(t){let e=Object.create(XI);e.value=t;let n=()=>(of(e),e.value);return n[Dn]=e,n}function uf(t,e){HI()||QI(),t.equal(t.value,e)||(t.value=e,AM(t))}function JI(t,e){HI()||QI(),uf(t,e(t.value))}var XI=ue(k({},Hs),{equal:jI,value:void 0});function AM(t){t.version++,DM(),$I(t),SM?.()}function ee(t){return typeof t=="function"}function $i(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var tu=$i(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Br(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ne=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ee(r))try{r()}catch(o){e=o instanceof tu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{ew(o)}catch(s){e=e??[],s instanceof tu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new tu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)ew(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Br(n,e)}remove(e){let{_finalizers:n}=this;n&&Br(n,e),e instanceof t&&e._removeParent(this)}};Ne.EMPTY=(()=>{let t=new Ne;return t.closed=!0,t})();var lf=Ne.EMPTY;function nu(t){return t instanceof Ne||t&&"closed"in t&&ee(t.remove)&&ee(t.add)&&ee(t.unsubscribe)}function ew(t){ee(t)?t():t.unsubscribe()}var Ht={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Hi={setTimeout(t,e,...n){let{delegate:r}=Hi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Hi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ru(t){Hi.setTimeout(()=>{let{onUnhandledError:e}=Ht;if(e)e(t);else throw t})}function zs(){}var tw=df("C",void 0,void 0);function nw(t){return df("E",void 0,t)}function rw(t){return df("N",t,void 0)}function df(t,e,n){return{kind:t,value:e,error:n}}var $r=null;function zi(t){if(Ht.useDeprecatedSynchronousErrorHandling){let e=!$r;if(e&&($r={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=$r;if($r=null,n)throw r}}else t()}function iw(t){Ht.useDeprecatedSynchronousErrorHandling&&$r&&($r.errorThrown=!0,$r.error=t)}var Hr=class extends Ne{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,nu(e)&&e.add(this)):this.destination=xM}static create(e,n,r){return new qi(e,n,r)}next(e){this.isStopped?ff(rw(e),this):this._next(e)}error(e){this.isStopped?ff(nw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ff(tw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},MM=Function.prototype.bind;function hf(t,e){return MM.call(t,e)}var pf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){iu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){iu(r)}else iu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){iu(n)}}},qi=class extends Hr{constructor(e,n,r){super();let i;if(ee(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Ht.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&hf(e.next,o),error:e.error&&hf(e.error,o),complete:e.complete&&hf(e.complete,o)}):i=e}this.destination=new pf(i)}};function iu(t){Ht.useDeprecatedSynchronousErrorHandling?iw(t):ru(t)}function RM(t){throw t}function ff(t,e){let{onStoppedNotification:n}=Ht;n&&Hi.setTimeout(()=>n(t,e))}var xM={closed:!0,next:zs,error:RM,complete:zs};var Gi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Et(t){return t}function ou(...t){return gf(t)}function gf(t){return t.length===0?Et:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var le=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=PM(n)?n:new qi(n,r,i);return zi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=ow(r),new r((i,o)=>{let s=new qi({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Gi](){return this}pipe(...n){return gf(n)(this)}toPromise(n){return n=ow(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function ow(t){var e;return(e=t??Ht.Promise)!==null&&e!==void 0?e:Promise}function NM(t){return t&&ee(t.next)&&ee(t.error)&&ee(t.complete)}function PM(t){return t&&t instanceof Hr||NM(t)&&nu(t)}function mf(t){return ee(t?.lift)}function ge(t){return e=>{if(mf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function de(t,e,n,r,i){return new yf(t,e,n,r,i)}var yf=class extends Hr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Wi(){return ge((t,e)=>{let n=null;t._refCount++;let r=de(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ki=class extends le{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,mf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ne;let n=this.getSubject();e.add(this.source.subscribe(de(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ne.EMPTY)}return e}refCount(){return Wi()(this)}};var sw=$i(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var We=(()=>{class t extends le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new su(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new sw}next(n){zi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){zi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){zi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?lf:(this.currentObservers=null,o.push(n),new Ne(()=>{this.currentObservers=null,Br(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new le;return n.source=this,n}}return t.create=(e,n)=>new su(e,n),t})(),su=class extends We{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:lf}};var Be=class extends We{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var vf={now(){return(vf.delegate||Date).now()},delegate:void 0};var au=class extends Ne{constructor(e,n){super()}schedule(e,n=0){return this}};var qs={setInterval(t,e,...n){let{delegate:r}=qs;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=qs;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Qi=class extends au{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return qs.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&qs.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Br(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Yi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Yi.now=vf.now;var Zi=class extends Yi{constructor(e,n=Yi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var _f=new Zi(Qi);var cu=class extends Qi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var uu=class extends Zi{};var If=new uu(cu);var Dt=new le(t=>t.complete());function aw(t){return t&&ee(t.schedule)}function cw(t){return t[t.length-1]}function lu(t){return ee(cw(t))?t.pop():void 0}function ir(t){return aw(cw(t))?t.pop():void 0}function wf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function lw(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function uw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function zr(t){return this instanceof zr?(this.v=t,this):new zr(t)}function dw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(S){return Promise.resolve(S).then(v,p)}}function a(v,S){r[v]&&(i[v]=function(x){return new Promise(function(M,L){o.push([v,x,M,L])>1||u(v,x)})},S&&(i[v]=S(i[v])))}function u(v,S){try{l(r[v](S))}catch(x){m(o[0][3],x)}}function l(v){v.value instanceof zr?Promise.resolve(v.value.v).then(h,p):m(o[0][2],v)}function h(v){u("next",v)}function p(v){u("throw",v)}function m(v,S){v(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function hw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof uw=="function"?uw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var du=t=>t&&typeof t.length=="number"&&typeof t!="function";function hu(t){return ee(t?.then)}function fu(t){return ee(t[Gi])}function pu(t){return Symbol.asyncIterator&&ee(t?.[Symbol.asyncIterator])}function gu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function OM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var mu=OM();function yu(t){return ee(t?.[mu])}function vu(t){return dw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield zr(n.read());if(i)return yield zr(void 0);yield yield zr(r)}}finally{n.releaseLock()}})}function _u(t){return ee(t?.getReader)}function ke(t){if(t instanceof le)return t;if(t!=null){if(fu(t))return kM(t);if(du(t))return FM(t);if(hu(t))return LM(t);if(pu(t))return fw(t);if(yu(t))return VM(t);if(_u(t))return jM(t)}throw gu(t)}function kM(t){return new le(e=>{let n=t[Gi]();if(ee(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function FM(t){return new le(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function LM(t){return new le(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ru)})}function VM(t){return new le(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function fw(t){return new le(e=>{UM(t,e).catch(n=>e.error(n))})}function jM(t){return fw(vu(t))}function UM(t,e){var n,r,i,o;return lw(this,void 0,void 0,function*(){try{for(n=hw(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function vt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function or(t,e=0){return ge((n,r)=>{n.subscribe(de(r,i=>vt(r,t,()=>r.next(i),e),()=>vt(r,t,()=>r.complete(),e),i=>vt(r,t,()=>r.error(i),e)))})}function sr(t,e=0){return ge((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function pw(t,e){return ke(t).pipe(sr(e),or(e))}function gw(t,e){return ke(t).pipe(sr(e),or(e))}function mw(t,e){return new le(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function yw(t,e){return new le(n=>{let r;return vt(n,e,()=>{r=t[mu](),vt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>ee(r?.return)&&r.return()})}function Iu(t,e){if(!t)throw new Error("Iterable cannot be null");return new le(n=>{vt(n,e,()=>{let r=t[Symbol.asyncIterator]();vt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function vw(t,e){return Iu(vu(t),e)}function _w(t,e){if(t!=null){if(fu(t))return pw(t,e);if(du(t))return mw(t,e);if(hu(t))return gw(t,e);if(pu(t))return Iu(t,e);if(yu(t))return yw(t,e);if(_u(t))return vw(t,e)}throw gu(t)}function Pe(t,e){return e?_w(t,e):ke(t)}function te(...t){let e=ir(t);return Pe(t,e)}function Ji(t,e){let n=ee(t)?t:()=>t,r=i=>i.error(n());return new le(e?i=>e.schedule(r,0,i):r)}function Ef(t){return!!t&&(t instanceof le||ee(t.lift)&&ee(t.subscribe))}var bn=$i(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ie(t,e){return ge((n,r)=>{let i=0;n.subscribe(de(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:BM}=Array;function $M(t,e){return BM(e)?t(...e):t(e)}function wu(t){return ie(e=>$M(t,e))}var{isArray:HM}=Array,{getPrototypeOf:zM,prototype:qM,keys:GM}=Object;function Eu(t){if(t.length===1){let e=t[0];if(HM(e))return{args:e,keys:null};if(WM(e)){let n=GM(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function WM(t){return t&&typeof t=="object"&&zM(t)===qM}function Du(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function bu(...t){let e=ir(t),n=lu(t),{args:r,keys:i}=Eu(t);if(r.length===0)return Pe([],e);let o=new le(KM(r,e,i?s=>Du(i,s):Et));return n?o.pipe(wu(n)):o}function KM(t,e,n=Et){return r=>{Iw(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)Iw(e,()=>{let l=Pe(t[u],e),h=!1;l.subscribe(de(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Iw(t,e,n){t?vt(n,t,e):e()}function ww(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},v=x=>l<r?S(x):u.push(x),S=x=>{o&&e.next(x),l++;let M=!1;ke(n(x,h++)).subscribe(de(e,L=>{i?.(L),o?v(L):e.next(L)},()=>{M=!0},void 0,()=>{if(M)try{for(l--;u.length&&l<r;){let L=u.shift();s?vt(e,s,()=>S(L)):S(L)}m()}catch(L){e.error(L)}}))};return t.subscribe(de(e,v,()=>{p=!0,m()})),()=>{a?.()}}function $e(t,e,n=1/0){return ee(e)?$e((r,i)=>ie((o,s)=>e(r,o,i,s))(ke(t(r,i))),n):(typeof e=="number"&&(n=e),ge((r,i)=>ww(r,i,t,n)))}function Df(t=1/0){return $e(Et,t)}function Ew(){return Df(1)}function Xi(...t){return Ew()(Pe(t,ir(t)))}function Cu(t){return new le(e=>{ke(t()).subscribe(e)})}function bf(...t){let e=lu(t),{args:n,keys:r}=Eu(t),i=new le(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;ke(n[h]).subscribe(de(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Du(r,a):a),o.complete())}))}});return e?i.pipe(wu(e)):i}function Nt(t,e){return ge((n,r)=>{let i=0;n.subscribe(de(r,o=>t.call(e,o,i++)&&r.next(o)))})}function ar(t){return ge((e,n)=>{let r=null,i=!1,o;r=e.subscribe(de(n,void 0,void 0,s=>{o=ke(t(s,ar(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Dw(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(de(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function eo(t,e){return ee(e)?$e(t,e,1):$e(t,1)}function cr(t){return ge((e,n)=>{let r=!1;e.subscribe(de(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Cn(t){return t<=0?()=>Dt:ge((e,n)=>{let r=0;e.subscribe(de(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Cf(t){return ie(()=>t)}function Tu(t=QM){return ge((e,n)=>{let r=!1;e.subscribe(de(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function QM(){return new bn}function Gs(t){return ge((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function tn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Nt((i,o)=>t(i,o,r)):Et,Cn(1),n?cr(e):Tu(()=>new bn))}function to(t){return t<=0?()=>Dt:ge((e,n)=>{let r=[];e.subscribe(de(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Tf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Nt((i,o)=>t(i,o,r)):Et,to(1),n?cr(e):Tu(()=>new bn))}function Su(t,e){return ge(Dw(t,e,arguments.length>=2,!0))}function Au(...t){let e=ir(t);return ge((n,r)=>{(e?Xi(t,n,e):Xi(t,n)).subscribe(r)})}function zt(t,e){return ge((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(de(r,u=>{i?.unsubscribe();let l=0,h=o++;ke(t(u,h)).subscribe(i=de(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Sf(t){return ge((e,n)=>{ke(t).subscribe(de(n,()=>n.complete(),zs)),!n.closed&&e.subscribe(n)})}function He(t,e,n){let r=ee(t)||e||n?{next:t,error:e,complete:n}:t;return r?ge((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(de(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Et}var c0="https://g.co/ng/security#xss",z=class extends Error{constructor(e,n){super(Cp(e,n)),this.code=e}};function Cp(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ra(t){return{toString:t}.toString()}var Mu="__parameters__";function YM(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function ZM(t,e,n){return ra(()=>{let r=YM(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Mu)?u[Mu]:Object.defineProperty(u,Mu,{value:[]})[Mu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Bf=globalThis;function De(t){for(let e in t)if(t[e]===De)return e;throw Error("Could not find renamed property on target object.")}function JM(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function pt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(pt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function bw(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var XM=De({__forward_ref__:De});function ni(t){return t.__forward_ref__=ni,t.toString=function(){return pt(this())},t}function ft(t){return u0(t)?t():t}function u0(t){return typeof t=="function"&&t.hasOwnProperty(XM)&&t.__forward_ref__===ni}function W(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ri(t){return{providers:t.providers||[],imports:t.imports||[]}}function cl(t){return Cw(t,d0)||Cw(t,h0)}function l0(t){return cl(t)!==null}function Cw(t,e){return t.hasOwnProperty(e)?t[e]:null}function e1(t){let e=t&&(t[d0]||t[h0]);return e||null}function Tw(t){return t&&(t.hasOwnProperty(Sw)||t.hasOwnProperty(t1))?t[Sw]:null}var d0=De({\u0275prov:De}),Sw=De({\u0275inj:De}),h0=De({ngInjectableDef:De}),t1=De({ngInjectorDef:De}),$=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=W({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function f0(t){return t&&!!t.\u0275providers}var n1=De({\u0275cmp:De}),r1=De({\u0275dir:De}),i1=De({\u0275pipe:De}),o1=De({\u0275mod:De}),ju=De({\u0275fac:De}),Qs=De({__NG_ELEMENT_ID__:De}),Aw=De({__NG_ENV_ID__:De});function ul(t){return typeof t=="string"?t:t==null?"":String(t)}function s1(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ul(t)}function a1(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new z(-200,t)}function Tp(t,e){throw new z(-201,!1)}var oe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(oe||{}),$f;function p0(){return $f}function Pt(t){let e=$f;return $f=t,e}function g0(t,e,n){let r=cl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&oe.Optional)return null;if(e!==void 0)return e;Tp(t,"Injector")}var c1={},Ys=c1,Hf="__NG_DI_FLAG__",Uu="ngTempTokenPath",u1="ngTokenPath",l1=/\n/gm,d1="\u0275",Mw="__source",oo;function h1(){return oo}function ur(t){let e=oo;return oo=t,e}function f1(t,e=oe.Default){if(oo===void 0)throw new z(-203,!1);return oo===null?g0(t,void 0,e):oo.get(t,e&oe.Optional?null:void 0,e)}function se(t,e=oe.Default){return(p0()||f1)(ft(t),e)}function F(t,e=oe.Default){return se(t,ll(e))}function ll(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function zf(t){let e=[];for(let n=0;n<t.length;n++){let r=ft(t[n]);if(Array.isArray(r)){if(r.length===0)throw new z(900,!1);let i,o=oe.Default;for(let s=0;s<r.length;s++){let a=r[s],u=g1(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(se(i,o))}else e.push(se(r))}return e}function p1(t,e){return t[Hf]=e,t.prototype[Hf]=e,t}function g1(t){return t[Hf]}function m1(t,e,n,r){let i=t[Uu];throw e[Mw]&&i.unshift(e[Mw]),t.message=y1(`
`+t.message,i,n,r),t[u1]=i,t[Uu]=null,t}function y1(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==d1?t.slice(2):t;let i=pt(e);if(Array.isArray(e))i=e.map(pt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):pt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(l1,`
  `)}`}var It=p1(ZM("Optional"),8);function ao(t,e){let n=t.hasOwnProperty(ju);return n?t[ju]:null}function Sp(t,e){t.forEach(n=>Array.isArray(n)?Sp(n,e):e(n))}function m0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Bu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function v1(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function _1(t,e,n){let r=ia(t,e);return r>=0?t[r|1]=n:(r=~r,v1(t,r,e,n)),r}function Af(t,e){let n=ia(t,e);if(n>=0)return t[n|1]}function ia(t,e){return I1(t,e,1)}function I1(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var co={},Ot=[],uo=new $(""),y0=new $("",-1),v0=new $(""),$u=class{get(e,n=Ys){if(n===Ys){let r=new Error(`NullInjectorError: No provider for ${pt(e)}!`);throw r.name="NullInjectorError",r}return n}},_0=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(_0||{}),on=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(on||{}),hr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(hr||{});function w1(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function qf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];E1(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function I0(t){return t===3||t===4||t===6}function E1(t){return t.charCodeAt(0)===64}function Zs(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Rw(t,n,i,null,e[++r]):Rw(t,n,i,null,null))}}return t}function Rw(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var w0="ng-template";function D1(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&w1(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Ap(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Ap(t){return t.type===4&&t.value!==w0}function b1(t,e,n){let r=t.type===4&&!n?w0:t.value;return e===r}function C1(t,e,n){let r=4,i=t.attrs,o=i!==null?A1(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!qt(r)&&!qt(u))return!1;if(s&&qt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!b1(t,u,n)||u===""&&e.length===1){if(qt(r))return!1;s=!0}}else if(r&8){if(i===null||!D1(t,i,u,n)){if(qt(r))return!1;s=!0}}else{let l=e[++a],h=T1(u,i,Ap(t),n);if(h===-1){if(qt(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(qt(r))return!1;s=!0}}}}return qt(r)||s}function qt(t){return(t&1)===0}function T1(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return M1(e,t)}function S1(t,e,n=!1){for(let r=0;r<e.length;r++)if(C1(t,e[r],n))return!0;return!1}function A1(t){for(let e=0;e<t.length;e++){let n=t[e];if(I0(n))return e}return t.length}function M1(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function xw(t,e){return t?":not("+e.trim()+")":e}function R1(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!qt(s)&&(e+=xw(o,i),i=""),r=s,o=o||!qt(r);n++}return i!==""&&(e+=xw(o,i)),e}function x1(t){return t.map(R1).join(",")}function N1(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!qt(i))break;i=o}r++}return{attrs:e,classes:n}}function ot(t){return ra(()=>{let e=T0(t),n=ue(k({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===_0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||on.Emulated,styles:t.styles||Ot,_:null,schemas:t.schemas||null,tView:null,id:""});S0(n);let r=t.dependencies;return n.directiveDefs=Pw(r,!1),n.pipeDefs=Pw(r,!0),n.id=k1(n),n})}function P1(t){return Kr(t)||E0(t)}function O1(t){return t!==null}function ii(t){return ra(()=>({type:t.type,bootstrap:t.bootstrap||Ot,declarations:t.declarations||Ot,imports:t.imports||Ot,exports:t.exports||Ot,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Nw(t,e){if(t==null)return co;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=hr.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==hr.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Je(t){return ra(()=>{let e=T0(t);return S0(e),e})}function Kr(t){return t[n1]||null}function E0(t){return t[r1]||null}function D0(t){return t[i1]||null}function b0(t){let e=Kr(t)||E0(t)||D0(t);return e!==null?e.standalone:!1}function C0(t,e){let n=t[o1]||null;if(!n&&e===!0)throw new Error(`Type ${pt(t)} does not have '\u0275mod' property.`);return n}function T0(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||co,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Ot,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Nw(t.inputs,e),outputs:Nw(t.outputs),debugInfo:null}}function S0(t){t.features?.forEach(e=>e(t))}function Pw(t,e){if(!t)return null;let n=e?D0:P1;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(O1)}function k1(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function un(t){return{\u0275providers:t}}function F1(...t){return{\u0275providers:A0(!0,t),\u0275fromNgModule:!0}}function A0(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Sp(e,s=>{let a=s;Gf(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&M0(i,o),n}function M0(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Mp(i,o=>{e(o,r)})}}function Gf(t,e,n,r){if(t=ft(t),!t)return!1;let i=null,o=Tw(t),s=!o&&Kr(t);if(!o&&!s){let u=t.ngModule;if(o=Tw(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Gf(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Sp(o.imports,h=>{Gf(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&M0(l,e)}if(!a){let l=ao(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ot},i),e({provide:v0,useValue:i,multi:!0},i),e({provide:uo,useValue:()=>se(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;Mp(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Mp(t,e){for(let n of t)f0(n)&&(n=n.\u0275providers),Array.isArray(n)?Mp(n,e):e(n)}var L1=De({provide:String,useValue:De});function R0(t){return t!==null&&typeof t=="object"&&L1 in t}function V1(t){return!!(t&&t.useExisting)}function j1(t){return!!(t&&t.useFactory)}function lo(t){return typeof t=="function"}function U1(t){return!!t.useClass}var dl=new $(""),Ou={},B1={},Mf;function Rp(){return Mf===void 0&&(Mf=new $u),Mf}var Lt=class{},Js=class extends Lt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Kf(e,s=>this.processProvider(s)),this.records.set(y0,no(void 0,this)),i.has("environment")&&this.records.set(Lt,no(void 0,this));let o=this.records.get(dl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(v0,Ot,oe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ye(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ye(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=ur(this),r=Pt(void 0),i;try{return e()}finally{ur(n),Pt(r)}}get(e,n=Ys,r=oe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Aw))return e[Aw](this);r=ll(r);let i,o=ur(this),s=Pt(void 0);try{if(!(r&oe.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=G1(e)&&cl(e);l&&this.injectableDefInScope(l)?u=no(Wf(e),Ou):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&oe.Self?Rp():this.parent;return n=r&oe.Optional&&n===Ys?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Uu]=a[Uu]||[]).unshift(pt(e)),o)throw a;return m1(a,e,"R3InjectorError",this.source)}else throw a}finally{Pt(s),ur(o)}}resolveInjectorInitializers(){let e=ye(null),n=ur(this),r=Pt(void 0),i;try{let o=this.get(uo,Ot,oe.Self);for(let s of o)s()}finally{ur(n),Pt(r),ye(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(pt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new z(205,!1)}processProvider(e){e=ft(e);let n=lo(e)?e:ft(e&&e.provide),r=H1(e);if(!lo(e)&&e.multi===!0){let i=this.records.get(n);i||(i=no(void 0,Ou,!0),i.factory=()=>zf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ye(null);try{return n.value===Ou&&(n.value=B1,n.value=n.factory()),typeof n.value=="object"&&n.value&&q1(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ye(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ft(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Wf(t){let e=cl(t),n=e!==null?e.factory:ao(t);if(n!==null)return n;if(t instanceof $)throw new z(204,!1);if(t instanceof Function)return $1(t);throw new z(204,!1)}function $1(t){if(t.length>0)throw new z(204,!1);let n=e1(t);return n!==null?()=>n.factory(t):()=>new t}function H1(t){if(R0(t))return no(void 0,t.useValue);{let e=x0(t);return no(e,Ou)}}function x0(t,e,n){let r;if(lo(t)){let i=ft(t);return ao(i)||Wf(i)}else if(R0(t))r=()=>ft(t.useValue);else if(j1(t))r=()=>t.useFactory(...zf(t.deps||[]));else if(V1(t))r=()=>se(ft(t.useExisting));else{let i=ft(t&&(t.useClass||t.provide));if(z1(t))r=()=>new i(...zf(t.deps));else return ao(i)||Wf(i)}return r}function no(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function z1(t){return!!t.deps}function q1(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function G1(t){return typeof t=="function"||typeof t=="object"&&t instanceof $}function Kf(t,e){for(let n of t)Array.isArray(n)?Kf(n,e):n&&f0(n)?Kf(n.\u0275providers,e):e(n)}function Rn(t,e){t instanceof Js&&t.assertNotDestroyed();let n,r=ur(t),i=Pt(void 0);try{return e()}finally{ur(r),Pt(i)}}function W1(){return p0()!==void 0||h1()!=null}function K1(t){return typeof t=="function"}var xn=0,he=1,Y=2,gt=3,Gt=4,Kt=5,Hu=6,zu=7,Wt=8,ho=9,sn=10,ze=11,Xs=12,Ow=13,Io=14,an=15,fo=16,ro=17,po=18,hl=19,N0=20,lr=21,Rf=22,kt=23,Tn=25,P0=1;var Qr=7,qu=8,Gu=9,Ft=10,Wu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Wu||{});function dr(t){return Array.isArray(t)&&typeof t[P0]=="object"}function Nn(t){return Array.isArray(t)&&t[P0]===!0}function O0(t){return(t.flags&4)!==0}function fl(t){return t.componentOffset>-1}function xp(t){return(t.flags&1)===1}function fr(t){return!!t.template}function Qf(t){return(t[Y]&512)!==0}var Yf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function k0(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function gr(){return F0}function F0(t){return t.type.prototype.ngOnChanges&&(t.setInput=Y1),Q1}gr.ngInherit=!0;function Q1(){let t=V0(this),e=t?.current;if(e){let n=t.previous;if(n===co)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Y1(t,e,n,r,i){let o=this.declaredInputs[r],s=V0(t)||Z1(t,{previous:co,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Yf(l&&l.currentValue,n,u===co),k0(t,e,i,n)}var L0="__ngSimpleChanges__";function V0(t){return t[L0]||null}function Z1(t,e){return t[L0]=e}var kw=null;var nn=function(t,e,n){kw?.(t,e,n)},J1="svg",X1="math";function cn(t){for(;Array.isArray(t);)t=t[xn];return t}function j0(t,e){return cn(e[t])}function Vt(t,e){return cn(e[t.index])}function U0(t,e){return t.data[e]}function eR(t,e){return t[e]}function mr(t,e){let n=e[t];return dr(n)?n:n[xn]}function Np(t){return(t[Y]&128)===128}function tR(t){return Nn(t[gt])}function Ku(t,e){return e==null?null:t[e]}function B0(t){t[ro]=0}function $0(t){t[Y]&1024||(t[Y]|=1024,Np(t)&&gl(t))}function nR(t,e){for(;t>0;)e=e[Io],t--;return e}function pl(t){return!!(t[Y]&9216||t[kt]?.dirty)}function Zf(t){t[sn].changeDetectionScheduler?.notify(8),t[Y]&64&&(t[Y]|=1024),pl(t)&&gl(t)}function gl(t){t[sn].changeDetectionScheduler?.notify(0);let e=Yr(t);for(;e!==null&&!(e[Y]&8192||(e[Y]|=8192,!Np(e)));)e=Yr(e)}function H0(t,e){if((t[Y]&256)===256)throw new z(911,!1);t[lr]===null&&(t[lr]=[]),t[lr].push(e)}function rR(t,e){if(t[lr]===null)return;let n=t[lr].indexOf(e);n!==-1&&t[lr].splice(n,1)}function Yr(t){let e=t[gt];return Nn(e)?e[gt]:e}var ae={lFrame:X0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var z0=!1;function iR(){return ae.lFrame.elementDepthCount}function oR(){ae.lFrame.elementDepthCount++}function sR(){ae.lFrame.elementDepthCount--}function q0(){return ae.bindingsEnabled}function aR(){return ae.skipHydrationRootTNode!==null}function cR(t){return ae.skipHydrationRootTNode===t}function uR(){ae.skipHydrationRootTNode=null}function be(){return ae.lFrame.lView}function bt(){return ae.lFrame.tView}function wo(t){return ae.lFrame.contextLView=t,t[Wt]}function Eo(t){return ae.lFrame.contextLView=null,t}function mt(){let t=G0();for(;t!==null&&t.type===64;)t=t.parent;return t}function G0(){return ae.lFrame.currentTNode}function lR(){let t=ae.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function oa(t,e){let n=ae.lFrame;n.currentTNode=t,n.isParent=e}function W0(){return ae.lFrame.isParent}function dR(){ae.lFrame.isParent=!1}function hR(){return ae.lFrame.contextLView}function K0(){return z0}function Fw(t){z0=t}function Q0(){let t=ae.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function fR(t){return ae.lFrame.bindingIndex=t}function ml(){return ae.lFrame.bindingIndex++}function pR(t){let e=ae.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function gR(){return ae.lFrame.inI18n}function mR(t,e){let n=ae.lFrame;n.bindingIndex=n.bindingRootIndex=t,Jf(e)}function yR(){return ae.lFrame.currentDirectiveIndex}function Jf(t){ae.lFrame.currentDirectiveIndex=t}function vR(t){let e=ae.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Y0(t){ae.lFrame.currentQueryIndex=t}function _R(t){let e=t[he];return e.type===2?e.declTNode:e.type===1?t[Kt]:null}function Z0(t,e,n){if(n&oe.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&oe.Host);)if(i=_R(o),i===null||(o=o[Io],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ae.lFrame=J0();return r.currentTNode=e,r.lView=t,!0}function Pp(t){let e=J0(),n=t[he];ae.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function J0(){let t=ae.lFrame,e=t===null?null:t.child;return e===null?X0(t):e}function X0(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function eE(){let t=ae.lFrame;return ae.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var tE=eE;function Op(){let t=eE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function IR(t){return(ae.lFrame.contextLView=nR(t,ae.lFrame.contextLView))[Wt]}function Do(){return ae.lFrame.selectedIndex}function Zr(t){ae.lFrame.selectedIndex=t}function kp(){let t=ae.lFrame;return U0(t.tView,t.selectedIndex)}function wR(){return ae.lFrame.currentNamespace}var nE=!0;function Fp(){return nE}function Lp(t){nE=t}function ER(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=F0(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Vp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function ku(t,e,n){rE(t,e,3,n)}function Fu(t,e,n,r){(t[Y]&3)===n&&rE(t,e,n,r)}function xf(t,e){let n=t[Y];(n&3)===e&&(n&=16383,n+=1,t[Y]=n)}function rE(t,e,n,r){let i=r!==void 0?t[ro]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[ro]+=65536),(a<o||o==-1)&&(DR(t,n,e,u),t[ro]=(t[ro]&4294901760)+u+2),u++}function Lw(t,e){nn(4,t,e);let n=ye(null);try{e.call(t)}finally{ye(n),nn(5,t,e)}}function DR(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[Y]>>14<t[ro]>>16&&(t[Y]&3)===e&&(t[Y]+=16384,Lw(a,o)):Lw(a,o)}var so=-1,Jr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function bR(t){return t instanceof Jr}function CR(t){return(t.flags&8)!==0}function TR(t){return(t.flags&16)!==0}var Nf={},Xf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=ll(r);let i=this.injector.get(e,Nf,r);return i!==Nf||n===Nf?i:this.parentInjector.get(e,n,r)}};function iE(t){return t!==so}function Qu(t){return t&32767}function SR(t){return t>>16}function Yu(t,e){let n=SR(t),r=e;for(;n>0;)r=r[Io],n--;return r}var ep=!0;function Vw(t){let e=ep;return ep=t,e}var AR=256,oE=AR-1,sE=5,MR=0,rn={};function RR(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Qs)&&(r=n[Qs]),r==null&&(r=n[Qs]=MR++);let i=r&oE,o=1<<i;e.data[t+(i>>sE)]|=o}function Zu(t,e){let n=aE(t,e);if(n!==-1)return n;let r=e[he];r.firstCreatePass&&(t.injectorIndex=e.length,Pf(r.data,t),Pf(e,null),Pf(r.blueprint,null));let i=jp(t,e),o=t.injectorIndex;if(iE(i)){let s=Qu(i),a=Yu(i,e),u=a[he].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Pf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function aE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function jp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=hE(i),r===null)return so;if(n++,i=i[Io],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return so}function tp(t,e,n){RR(t,e,n)}function xR(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(I0(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function cE(t,e,n){if(n&oe.Optional||t!==void 0)return t;Tp(e,"NodeInjector")}function uE(t,e,n,r){if(n&oe.Optional&&r===void 0&&(r=null),!(n&(oe.Self|oe.Host))){let i=t[ho],o=Pt(void 0);try{return i?i.get(e,r,n&oe.Optional):g0(e,r,n&oe.Optional)}finally{Pt(o)}}return cE(r,e,n)}function lE(t,e,n,r=oe.Default,i){if(t!==null){if(e[Y]&2048&&!(r&oe.Self)){let s=FR(t,e,n,r,rn);if(s!==rn)return s}let o=dE(t,e,n,r,rn);if(o!==rn)return o}return uE(e,n,r,i)}function dE(t,e,n,r,i){let o=OR(n);if(typeof o=="function"){if(!Z0(e,t,r))return r&oe.Host?cE(i,n,r):uE(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&oe.Optional))Tp(n);else return s}finally{tE()}}else if(typeof o=="number"){let s=null,a=aE(t,e),u=so,l=r&oe.Host?e[an][Kt]:null;for((a===-1||r&oe.SkipSelf)&&(u=a===-1?jp(t,e):e[a+8],u===so||!Uw(r,!1)?a=-1:(s=e[he],a=Qu(u),e=Yu(u,e)));a!==-1;){let h=e[he];if(jw(o,a,h.data)){let p=NR(a,e,n,s,r,l);if(p!==rn)return p}u=e[a+8],u!==so&&Uw(r,e[he].data[a+8]===l)&&jw(o,a,e)?(s=h,a=Qu(u),e=Yu(u,e)):a=-1}}return i}function NR(t,e,n,r,i,o){let s=e[he],a=s.data[t+8],u=r==null?fl(a)&&ep:r!=s&&(a.type&3)!==0,l=i&oe.Host&&o===a,h=PR(a,s,n,u,l);return h!==null?go(e,s,h,a):rn}function PR(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let v=p;v<m;v++){let S=s[v];if(v<u&&n===S||v>=u&&S.type===n)return v}if(i){let v=s[u];if(v&&fr(v)&&v.type===n)return u}return null}function go(t,e,n,r){let i=t[n],o=e.data;if(bR(i)){let s=i;s.resolving&&a1(s1(o[n]));let a=Vw(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Pt(s.injectImpl):null,h=Z0(t,r,oe.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&ER(n,o[n],e)}finally{l!==null&&Pt(l),Vw(a),s.resolving=!1,tE()}}return i}function OR(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Qs)?t[Qs]:void 0;return typeof e=="number"?e>=0?e&oE:kR:e}function jw(t,e,n){let r=1<<t;return!!(n[e+(t>>sE)]&r)}function Uw(t,e){return!(t&oe.Self)&&!(t&oe.Host&&e)}var Wr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return lE(this._tNode,this._lView,e,ll(r),n)}};function kR(){return new Wr(mt(),be())}function bo(t){return ra(()=>{let e=t.prototype.constructor,n=e[ju]||np(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[ju]||np(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function np(t){return u0(t)?()=>{let e=np(ft(t));return e&&e()}:ao(t)}function FR(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Y]&2048&&!(s[Y]&512);){let a=dE(o,s,n,r|oe.Self,rn);if(a!==rn)return a;let u=o.parent;if(!u){let l=s[N0];if(l){let h=l.get(n,rn,r);if(h!==rn)return h}u=hE(s),s=s[Io]}o=u}return i}function hE(t){let e=t[he],n=e.type;return n===2?e.declTNode:n===1?t[Kt]:null}function Up(t){return xR(mt(),t)}function Bw(t,e=null,n=null,r){let i=fE(t,e,n,r);return i.resolveInjectorInitializers(),i}function fE(t,e=null,n=null,r,i=new Set){let o=[n||Ot,F1(t)];return r=r||(typeof t=="object"?void 0:pt(t)),new Js(o,e||Rp(),r||null,i)}var qr=class qr{static create(e,n){if(Array.isArray(e))return Bw({name:""},n,e,"");{let r=e.name??"";return Bw({name:r},e.parent,e.providers,r)}}};qr.THROW_IF_NOT_FOUND=Ys,qr.NULL=new $u,qr.\u0275prov=W({token:qr,providedIn:"any",factory:()=>se(y0)}),qr.__NG_ELEMENT_ID__=-1;var _t=qr;var LR=new $("");LR.__NG_ELEMENT_ID__=t=>{let e=mt();if(e===null)throw new z(204,!1);if(e.type&2)return e.value;if(t&oe.Optional)return null;throw new z(204,!1)};var VR="ngOriginalError";function Of(t){return t[VR]}var pE=!0,gE=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=jR,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),rp=class extends gE{constructor(e){super(),this._lView=e}onDestroy(e){return H0(this._lView,e),()=>rR(this._lView,e)}};function jR(){return new rp(be())}var Co=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Be(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=W({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var ip=class extends We{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,W1()&&(this.destroyRef=F(gE,{optional:!0})??void 0,this.pendingTasks=F(Co,{optional:!0})??void 0)}emit(e){let n=ye(null);try{super.next(e)}finally{ye(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ne&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Fe=ip;function Ju(...t){}function mE(t){let e,n;function r(){t=Ju;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function $w(t){return queueMicrotask(()=>t()),()=>{t=Ju}}var Bp="isAngularZone",Xu=Bp+"_ID",UR=0,we=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fe(!1),this.onMicrotaskEmpty=new Fe(!1),this.onStable=new Fe(!1),this.onError=new Fe(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=pE}=e;if(typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,HR(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Bp)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new z(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,BR,Ju,Ju);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},BR={};function $p(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function $R(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){mE(()=>{t.callbackScheduled=!1,op(t),t.isCheckStableRunning=!0,$p(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),op(t)}function HR(t){let e=()=>{$R(t)},n=UR++;t._inner=t._inner.fork({name:"angular",properties:{[Bp]:!0,[Xu]:n,[Xu+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(zR(u))return r.invokeTask(o,s,a,u);try{return Hw(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),zw(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return Hw(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!qR(u)&&e(),zw(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,op(t),$p(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function op(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Hw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function zw(t){t._nesting--,$p(t)}var sp=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fe,this.onMicrotaskEmpty=new Fe,this.onStable=new Fe,this.onError=new Fe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function zR(t){return yE(t,"__ignore_ng_zone__")}function qR(t){return yE(t,"__scheduler_tick__")}function yE(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Sn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Of(e);for(;n&&Of(n);)n=Of(n);return n||null}},GR=new $("",{providedIn:"root",factory:()=>{let t=F(we),e=F(Sn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function WR(){return yl(mt(),be())}function yl(t,e){return new Pn(Vt(t,e))}var Pn=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=WR;let t=e;return t})();function vE(t){return(t.flags&128)===128}var _E=new Map,KR=0;function QR(){return KR++}function YR(t){_E.set(t[hl],t)}function ap(t){_E.delete(t[hl])}var qw="__ngContext__";function Xr(t,e){dr(e)?(t[qw]=e[hl],YR(e)):t[qw]=e}function IE(t){return EE(t[Xs])}function wE(t){return EE(t[Gt])}function EE(t){for(;t!==null&&!Nn(t);)t=t[Gt];return t}var cp;function DE(t){cp=t}function ZR(){if(cp!==void 0)return cp;if(typeof document<"u")return document;throw new z(210,!1)}var Hp=new $("",{providedIn:"root",factory:()=>JR}),JR="ng",zp=new $(""),yr=new $("",{providedIn:"platform",factory:()=>"unknown"});var qp=new $("",{providedIn:"root",factory:()=>ZR().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var XR="h",ex="b";var tx=()=>null;function Gp(t,e,n=!1){return tx(t,e,n)}var bE=!1,nx=new $("",{providedIn:"root",factory:()=>bE});var Ru;function rx(){if(Ru===void 0&&(Ru=null,Bf.trustedTypes))try{Ru=Bf.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ru}function Gw(t){return rx()?.createScriptURL(t)||t}var el=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${c0})`}};function sa(t){return t instanceof el?t.changingThisBreaksApplicationSecurity:t}function Wp(t,e){let n=ix(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${c0})`)}return n===e}function ix(t){return t instanceof el&&t.getTypeName()||null}var ox=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function CE(t){return t=String(t),t.match(ox)?t:"unsafe:"+t}var vl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(vl||{});function sx(t){let e=SE();return e?e.sanitize(vl.URL,t)||"":Wp(t,"URL")?sa(t):CE(ul(t))}function ax(t){let e=SE();if(e)return Gw(e.sanitize(vl.RESOURCE_URL,t)||"");if(Wp(t,"ResourceURL"))return Gw(sa(t));throw new z(904,!1)}function cx(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?ax:sx}function TE(t,e,n){return cx(e,n)(t)}function SE(){let t=be();return t&&t[sn].sanitizer}function AE(t){return t instanceof Function?t():t}var An=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(An||{}),ux;function Kp(t,e){return ux(t,e)}function io(t,e,n,r,i){if(r!=null){let o,s=!1;Nn(r)?o=r:dr(r)&&(s=!0,r=r[xn]);let a=cn(r);t===0&&n!==null?i==null?PE(e,n,a):tl(e,n,a,i||null,!0):t===1&&n!==null?tl(e,n,a,i||null,!0):t===2?bx(e,a,s):t===3&&e.destroyNode(a),o!=null&&Tx(e,t,o,n,i)}}function lx(t,e){return t.createText(e)}function dx(t,e,n){t.setValue(e,n)}function ME(t,e,n){return t.createElement(e,n)}function hx(t,e){RE(t,e),e[xn]=null,e[Kt]=null}function fx(t,e,n,r,i,o){r[xn]=i,r[Kt]=e,_l(t,r,n,1,i,o)}function RE(t,e){e[sn].changeDetectionScheduler?.notify(9),_l(t,e,e[ze],2,null,null)}function px(t){let e=t[Xs];if(!e)return kf(t[he],t);for(;e;){let n=null;if(dr(e))n=e[Xs];else{let r=e[Ft];r&&(n=r)}if(!n){for(;e&&!e[Gt]&&e!==t;)dr(e)&&kf(e[he],e),e=e[gt];e===null&&(e=t),dr(e)&&kf(e[he],e),n=e&&e[Gt]}e=n}}function gx(t,e,n,r){let i=Ft+r,o=n.length;r>0&&(n[i-1][Gt]=e),r<o-Ft?(e[Gt]=n[i],m0(n,Ft+r,e)):(n.push(e),e[Gt]=null),e[gt]=n;let s=e[fo];s!==null&&n!==s&&xE(s,e);let a=e[po];a!==null&&a.insertView(t),Zf(e),e[Y]|=128}function xE(t,e){let n=t[Gu],r=e[gt];if(dr(r))t[Y]|=Wu.HasTransplantedViews;else{let i=r[gt][an];e[an]!==i&&(t[Y]|=Wu.HasTransplantedViews)}n===null?t[Gu]=[e]:n.push(e)}function Qp(t,e){let n=t[Gu],r=n.indexOf(e);n.splice(r,1)}function up(t,e){if(t.length<=Ft)return;let n=Ft+e,r=t[n];if(r){let i=r[fo];i!==null&&i!==t&&Qp(i,r),e>0&&(t[n-1][Gt]=r[Gt]);let o=Bu(t,Ft+e);hx(r[he],r);let s=o[po];s!==null&&s.detachView(o[he]),r[gt]=null,r[Gt]=null,r[Y]&=-129}return r}function NE(t,e){if(!(e[Y]&256)){let n=e[ze];n.destroyNode&&_l(t,e,n,3,null,null),px(e)}}function kf(t,e){if(e[Y]&256)return;let n=ye(null);try{e[Y]&=-129,e[Y]|=256,e[kt]&&cf(e[kt]),yx(t,e),mx(t,e),e[he].type===1&&e[ze].destroy();let r=e[fo];if(r!==null&&Nn(e[gt])){r!==e[gt]&&Qp(r,e);let i=e[po];i!==null&&i.detachView(t)}ap(e)}finally{ye(n)}}function mx(t,e){let n=t.cleanup,r=e[zu];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[zu]=null);let i=e[lr];if(i!==null){e[lr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function yx(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Jr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];nn(4,a,u);try{u.call(a)}finally{nn(5,a,u)}}else{nn(4,i,o);try{o.call(i)}finally{nn(5,i,o)}}}}}function vx(t,e,n){return _x(t,e.parent,n)}function _x(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[xn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===on.None||o===on.Emulated)return null}return Vt(r,n)}}function tl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function PE(t,e,n){t.appendChild(e,n)}function Ww(t,e,n,r,i){r!==null?tl(t,e,n,r,i):PE(t,e,n)}function OE(t,e){return t.parentNode(e)}function Ix(t,e){return t.nextSibling(e)}function wx(t,e,n){return Dx(t,e,n)}function Ex(t,e,n){return t.type&40?Vt(t,n):null}var Dx=Ex,Kw;function Yp(t,e,n,r){let i=vx(t,r,e),o=e[ze],s=r.parent||e[Kt],a=wx(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Ww(o,i,n[u],a,!1);else Ww(o,i,n,a,!1);Kw!==void 0&&Kw(o,r,e,n,i)}function Ws(t,e){if(e!==null){let n=e.type;if(n&3)return Vt(e,t);if(n&4)return lp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ws(t,r);{let i=t[e.index];return Nn(i)?lp(-1,i):cn(i)}}else{if(n&128)return Ws(t,e.next);if(n&32)return Kp(e,t)()||cn(t[e.index]);{let r=kE(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Yr(t[an]);return Ws(i,r)}else return Ws(t,e.next)}}}return null}function kE(t,e){if(e!==null){let r=t[an][Kt],i=e.projection;return r.projection[i]}return null}function lp(t,e){let n=Ft+t+1;if(n<e.length){let r=e[n],i=r[he].firstChild;if(i!==null)return Ws(r,i)}return e[Qr]}function bx(t,e,n){t.removeChild(null,e,n)}function Zp(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&Xr(cn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Zp(t,e,n.child,r,i,o,!1),io(e,t,i,a,o);else if(u&32){let l=Kp(n,r),h;for(;h=l();)io(e,t,i,h,o);io(e,t,i,a,o)}else u&16?Cx(t,e,r,n,i,o):io(e,t,i,a,o);n=s?n.projectionNext:n.next}}function _l(t,e,n,r,i,o){Zp(n,r,t.firstChild,e,i,o,!1)}function Cx(t,e,n,r,i,o){let s=n[an],u=s[Kt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];io(e,t,i,h,o)}else{let l=u,h=s[gt];vE(r)&&(l.flags|=128),Zp(t,e,l,h,i,o,!0)}}function Tx(t,e,n,r,i){let o=n[Qr],s=cn(n);o!==s&&io(e,t,r,o,i);for(let a=Ft;a<n.length;a++){let u=n[a];_l(u[he],u,t,e,r,o)}}function Sx(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:An.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=An.Important),t.setStyle(n,r,i,o))}}function Ax(t,e,n){t.setAttribute(e,"style",n)}function FE(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function LE(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&qf(t,e,r),i!==null&&FE(t,e,i),o!==null&&Ax(t,e,o)}var vr={};function Se(t=1){VE(bt(),be(),Do()+t,!1)}function VE(t,e,n,r){if(!r)if((e[Y]&3)===3){let o=t.preOrderCheckHooks;o!==null&&ku(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Fu(e,o,0,n)}Zr(n)}function Z(t,e=oe.Default){let n=be();if(n===null)return se(t,e);let r=mt();return lE(r,n,ft(t),e)}function jE(t,e,n,r,i,o){let s=ye(null);try{let a=null;i&hr.SignalBased&&(a=e[r][Dn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&hr.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):k0(e,a,r,o)}finally{ye(s)}}function Mx(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Zr(~i);else{let o=i,s=n[++r],a=n[++r];mR(s,o);let u=e[o];a(2,u)}}}finally{Zr(-1)}}function Il(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[xn]=i,p[Y]=r|4|128|8|64,(l!==null||t&&t[Y]&2048)&&(p[Y]|=2048),B0(p),p[gt]=p[Io]=t,p[Wt]=n,p[sn]=s||t&&t[sn],p[ze]=a||t&&t[ze],p[ho]=u||t&&t[ho]||null,p[Kt]=o,p[hl]=QR(),p[Hu]=h,p[N0]=l,p[an]=e.type==2?t[an]:p,p}function wl(t,e,n,r,i){let o=t.data[e];if(o===null)o=Rx(t,e,n,r,i),gR()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=lR();o.injectorIndex=s===null?-1:s.injectorIndex}return oa(o,!0),o}function Rx(t,e,n,r,i){let o=G0(),s=W0(),a=s?o:o&&o.parent,u=t.data[e]=kx(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function UE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function BE(t,e,n,r,i){let o=Do(),s=r&2;try{Zr(-1),s&&e.length>Tn&&VE(t,e,Tn,!1),nn(s?2:0,i),n(r,i)}finally{Zr(o),nn(s?3:1,i)}}function $E(t,e,n){if(O0(e)){let r=ye(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{ye(r)}}}function HE(t,e,n){q0()&&(Bx(t,e,n,Vt(n,e)),(n.flags&64)===64&&QE(t,e,n))}function zE(t,e,n=Vt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function qE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Jp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Jp(t,e,n,r,i,o,s,a,u,l,h){let p=Tn+r,m=p+i,v=xx(p,m),S=typeof l=="function"?l():l;return v[he]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function xx(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:vr);return n}function Nx(t,e,n,r){let o=r.get(nx,bE)||n===on.ShadowDom,s=t.selectRootElement(e,o);return Px(s),s}function Px(t){Ox(t)}var Ox=()=>null;function kx(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return aR()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Qw(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=hr.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?Yw(r,n,l,a,u):Yw(r,n,l,a)}return r}function Yw(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function Fx(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],m=n?n.get(p):null,v=m?m.inputs:null,S=m?m.outputs:null;u=Qw(0,p.inputs,h,u,v),l=Qw(1,p.outputs,h,l,S);let x=u!==null&&s!==null&&!Ap(e)?Jx(u,h,s):null;a.push(x)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function Lx(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function GE(t,e,n,r,i,o,s,a){let u=Vt(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Xp(t,n,h,r,i),fl(e)&&Vx(n,e.index)):e.type&3?(r=Lx(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function Vx(t,e){let n=mr(e,t);n[Y]&16||(n[Y]|=64)}function WE(t,e,n,r){if(q0()){let i=r===null?null:{"":-1},o=Hx(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&KE(t,e,n,s,i,a),i&&zx(n,r,i)}n.mergedAttrs=Zs(n.mergedAttrs,n.attrs)}function KE(t,e,n,r,i,o){for(let l=0;l<r.length;l++)tp(Zu(n,e),t,r[l].type);Gx(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=UE(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=Zs(n.mergedAttrs,h.hostAttrs),Wx(t,n,e,u,h),qx(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}Fx(t,n,o)}function jx(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;Ux(s)!=a&&s.push(a),s.push(n,r,o)}}function Ux(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Bx(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;fl(n)&&Kx(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Zu(n,e),Xr(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],l=go(e,t,a,n);if(Xr(l,e),s!==null&&Zx(e,a-i,l,u,n,s),fr(u)){let h=mr(n.index,e);h[Wt]=go(e,t,a,n)}}}function QE(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=yR();try{Zr(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Jf(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&$x(u,l)}}finally{Zr(-1),Jf(s)}}function $x(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Hx(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(S1(e,s.selectors,!1))if(r||(r=[]),fr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;dp(t,e,u)}else r.unshift(s),dp(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function dp(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function zx(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new z(-301,!1);r.push(e[i],o)}}}function qx(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;fr(e)&&(n[""]=t)}}function Gx(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Wx(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=ao(i.type,!0)),s=new Jr(o,fr(i),Z);t.blueprint[r]=s,n[r]=s,jx(t,e,r,UE(t,n,i.hostVars,vr),i)}function Kx(t,e,n){let r=Vt(e,t),i=qE(n),o=t[sn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=El(t,Il(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function Qx(t,e,n,r,i,o){let s=Vt(t,e);Yx(e[ze],s,o,t.value,n,r,i)}function Yx(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?ul(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function Zx(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];jE(r,n,u,l,h,p)}}function Jx(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function YE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function ZE(t,e){let n=t.contentQueries;if(n!==null){let r=ye(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Y0(o),a.contentQueries(2,e[s],s)}}}finally{ye(r)}}}function El(t,e){return t[Xs]?t[Ow][Gt]=e:t[Xs]=e,t[Ow]=e,e}function hp(t,e,n){Y0(0);let r=ye(null);try{e(t,n)}finally{ye(r)}}function Xx(t){return t[zu]??=[]}function eN(t){return t.cleanup??=[]}function JE(t,e){let n=t[ho],r=n?n.get(Sn,null):null;r&&r.handleError(e)}function Xp(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],l=e[s],h=t.data[s];jE(h,l,r,a,u,i)}}function tN(t,e,n){let r=j0(e,t);dx(t[ze],r,n)}function nN(t,e){let n=mr(e,t),r=n[he];rN(r,n);let i=n[xn];i!==null&&n[Hu]===null&&(n[Hu]=Gp(i,n[ho])),eg(r,n,n[Wt])}function rN(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function eg(t,e,n){Pp(e);try{let r=t.viewQuery;r!==null&&hp(1,r,n);let i=t.template;i!==null&&BE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[po]?.finishViewCreation(t),t.staticContentQueries&&ZE(t,e),t.staticViewQueries&&hp(2,t.viewQuery,n);let o=t.components;o!==null&&iN(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Y]&=-5,Op()}}function iN(t,e){for(let n=0;n<e.length;n++)nN(t,e[n])}function oN(t,e,n,r){let i=ye(null);try{let o=e.tView,a=t[Y]&4096?4096:16,u=Il(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[fo]=l;let h=t[po];return h!==null&&(u[po]=h.createEmbeddedView(o)),eg(o,u,n),u}finally{ye(i)}}function Zw(t,e){return!e||e.firstChild===null||vE(t)}function sN(t,e,n,r=!0){let i=e[he];if(gx(i,e,t,n),r){let s=lp(n,t),a=e[ze],u=OE(a,t[Qr]);u!==null&&fx(i,t[Kt],a,e,u,s)}let o=e[Hu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function nl(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(cn(o)),Nn(o)&&aN(o,r);let s=n.type;if(s&8)nl(t,e,n.child,r);else if(s&32){let a=Kp(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=kE(e,n);if(Array.isArray(a))r.push(...a);else{let u=Yr(e[an]);nl(u[he],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function aN(t,e){for(let n=Ft;n<t.length;n++){let r=t[n],i=r[he].firstChild;i!==null&&nl(r[he],r,i,e)}t[Qr]!==t[xn]&&e.push(t[Qr])}var XE=[];function cN(t){return t[kt]??uN(t)}function uN(t){let e=XE.pop()??Object.create(dN);return e.lView=t,e}function lN(t){t.lView[kt]!==t&&(t.lView=null,XE.push(t))}var dN=ue(k({},Hs),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{gl(t.lView)},consumerOnSignalRead(){this.lView[kt]=this}});function hN(t){let e=t[kt]??Object.create(fN);return e.lView=t,e}var fN=ue(k({},Hs),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Yr(t.lView);for(;e&&!eD(e[he]);)e=Yr(e);e&&$0(e)},consumerOnSignalRead(){this.lView[kt]=this}});function eD(t){return t.type!==2}var pN=100;function tD(t,e=!0,n=0){let r=t[sn],i=r.rendererFactory,o=!1;o||i.begin?.();try{gN(t,n)}catch(s){throw e&&JE(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function gN(t,e){let n=K0();try{Fw(!0),fp(t,e);let r=0;for(;pl(t);){if(r===pN)throw new z(103,!1);r++,fp(t,1)}}finally{Fw(n)}}function mN(t,e,n,r){let i=e[Y];if((i&256)===256)return;let o=!1,s=!1;!o&&e[sn].inlineEffectRunner?.flush(),Pp(e);let a=!0,u=null,l=null;o||(eD(t)?(l=cN(e),u=Jc(l)):UI()===null?(a=!1,l=hN(e),u=Jc(l)):e[kt]&&(cf(e[kt]),e[kt]=null));try{B0(e),fR(t.bindingStartIndex),n!==null&&BE(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let v=t.preOrderCheckHooks;v!==null&&ku(e,v,null)}else{let v=t.preOrderHooks;v!==null&&Fu(e,v,0,null),xf(e,0)}if(s||yN(e),nD(e,0),t.contentQueries!==null&&ZE(t,e),!o)if(h){let v=t.contentCheckHooks;v!==null&&ku(e,v)}else{let v=t.contentHooks;v!==null&&Fu(e,v,1),xf(e,1)}Mx(t,e);let p=t.components;p!==null&&iD(e,p,0);let m=t.viewQuery;if(m!==null&&hp(2,m,r),!o)if(h){let v=t.viewCheckHooks;v!==null&&ku(e,v)}else{let v=t.viewHooks;v!==null&&Fu(e,v,2),xf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Rf]){for(let v of e[Rf])v();e[Rf]=null}o||(e[Y]&=-73)}catch(h){throw o||gl(e),h}finally{l!==null&&(sf(l,u),a&&lN(l)),Op()}}function nD(t,e){for(let n=IE(t);n!==null;n=wE(n))for(let r=Ft;r<n.length;r++){let i=n[r];rD(i,e)}}function yN(t){for(let e=IE(t);e!==null;e=wE(e)){if(!(e[Y]&Wu.HasTransplantedViews))continue;let n=e[Gu];for(let r=0;r<n.length;r++){let i=n[r];$0(i)}}}function vN(t,e,n){let r=mr(e,t);rD(r,n)}function rD(t,e){Np(t)&&fp(t,e)}function fp(t,e){let r=t[he],i=t[Y],o=t[kt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&af(o)),s||=!1,o&&(o.dirty=!1),t[Y]&=-9217,s)mN(r,t,r.template,t[Wt]);else if(i&8192){nD(t,1);let a=r.components;a!==null&&iD(t,a,1)}}function iD(t,e,n){for(let r=0;r<e.length;r++)vN(t,e[r],n)}function tg(t,e){let n=K0()?64:1088;for(t[sn].changeDetectionScheduler?.notify(e);t;){t[Y]|=n;let r=Yr(t);if(Qf(t)&&!r)return t;t=r}return null}var ei=class{get rootNodes(){let e=this._lView,n=e[he];return nl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Wt]}set context(e){this._lView[Wt]=e}get destroyed(){return(this._lView[Y]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[gt];if(Nn(e)){let n=e[qu],r=n?n.indexOf(this):-1;r>-1&&(up(e,r),Bu(n,r))}this._attachedToViewContainer=!1}NE(this._lView[he],this._lView)}onDestroy(e){H0(this._lView,e)}markForCheck(){tg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Y]&=-129}reattach(){Zf(this._lView),this._lView[Y]|=128}detectChanges(){this._lView[Y]|=1024,tD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Qf(this._lView),n=this._lView[fo];n!==null&&!e&&Qp(n,this._lView),RE(this._lView[he],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=e;let n=Qf(this._lView),r=this._lView[fo];r!==null&&!n&&xE(r,this._lView),Zf(this._lView)}},ng=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=wN;let t=e;return t})(),_N=ng,IN=class extends _N{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=oN(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ei(i)}};function wN(){return EN(mt(),be())}function EN(t,e){return t.type&4?new IN(e,t,yl(t,e)):null}var Iz=new RegExp(`^(\\d+)*(${ex}|${XR})*(.*)`);var DN=()=>null;function Jw(t,e){return DN(t,e)}var mo=class{},rg=new $("",{providedIn:"root",factory:()=>!1});var oD=new $(""),sD=new $(""),pp=class{},rl=class{};function bN(t){let e=Error(`No component factory found for ${pt(t)}.`);return e[CN]=t,e}var CN="ngComponent";var gp=class{resolveComponentFactory(e){throw bN(e)}},lg=class lg{};lg.NULL=new gp;var yo=lg,vo=class{},_r=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>TN();let t=e;return t})();function TN(){let t=be(),e=mt(),n=mr(e.index,t);return(dr(n)?n:t)[ze]}var SN=(()=>{let e=class e{};e.\u0275prov=W({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function mp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=bw(i,a);else if(o==2){let u=a,l=e[++s];r=bw(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var il=class extends yo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Kr(e);return new ea(n,this.ngModule)}};function Xw(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:hr.None;e?n.push({propName:s,templateName:r,isSignal:(a&hr.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function AN(t){let e=t.toLowerCase();return e==="svg"?J1:e==="math"?X1:null}var ea=class extends rl{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Xw(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Xw(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=x1(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=ye(null);try{i=i||this.ngModule;let s=i instanceof Lt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Xf(e,s):e,u=a.get(vo,null);if(u===null)throw new z(407,!1);let l=a.get(SN,null),h=a.get(mo,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},m=u.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",S=r?Nx(m,r,this.componentDef.encapsulation,a):ME(m,v,AN(v)),x=512;this.componentDef.signals?x|=4096:this.componentDef.onPush||(x|=16);let M=null;S!==null&&(M=Gp(S,a,!0));let L=Jp(0,null,null,1,0,null,null,null,null,null,null),H=Il(null,L,null,x,null,null,p,m,a,null,M);Pp(H);let G,ce,Re=null;try{let X=this.componentDef,D,y=null;X.findHostDirectiveDefs?(D=[],y=new Map,X.findHostDirectiveDefs(X,D,y),D.push(X)):D=[X];let _=MN(H,S);Re=RN(_,S,X,D,H,p,m),ce=U0(L,Tn),S&&PN(m,X,S,r),n!==void 0&&ON(ce,this.ngContentSelectors,n),G=NN(Re,X,D,y,H,[kN]),eg(L,H,null)}catch(X){throw Re!==null&&ap(Re),ap(H),X}finally{Op()}return new yp(this.componentType,G,yl(ce,H),H,ce)}finally{ye(o)}}},yp=class extends pp{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ei(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Xp(o[he],o,i,e,n),this.previousInputValues.set(e,n);let s=mr(this._tNode.index,o);tg(s,1)}}get injector(){return new Wr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function MN(t,e){let n=t[he],r=Tn;return t[r]=e,wl(n,r,2,"#host",null)}function RN(t,e,n,r,i,o,s){let a=i[he];xN(r,t,e,s);let u=null;e!==null&&(u=Gp(e,i[ho]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=Il(i,qE(n),null,h,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&dp(a,t,r.length-1),El(i,p),i[t.index]=p}function xN(t,e,n,r){for(let i of t)e.mergedAttrs=Zs(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(mp(e,e.mergedAttrs,!0),n!==null&&LE(r,n,e))}function NN(t,e,n,r,i,o){let s=mt(),a=i[he],u=Vt(s,i);KE(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,m=go(i,a,p,s);Xr(m,i)}QE(a,i,s),u&&Xr(u,i);let l=go(i,a,s.directiveStart+s.componentOffset,s);if(t[Wt]=i[Wt]=l,o!==null)for(let h of o)h(l,e);return $E(a,s,i),l}function PN(t,e,n,r){if(r)qf(t,n,["ng-version","18.2.3"]);else{let{attrs:i,classes:o}=N1(e.selectors[0]);i&&qf(t,n,i),o&&o.length>0&&FE(t,n,o.join(" "))}}function ON(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function kN(){let t=mt();Vp(be()[he],t)}var aa=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=FN;let t=e;return t})();function FN(){let t=mt();return VN(t,be())}var LN=aa,aD=class extends LN{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return yl(this._hostTNode,this._hostLView)}get injector(){return new Wr(this._hostTNode,this._hostLView)}get parentInjector(){let e=jp(this._hostTNode,this._hostLView);if(iE(e)){let n=Yu(e,this._hostLView),r=Qu(e),i=n[he].data[r+8];return new Wr(i,n)}else return new Wr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=e0(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ft}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Jw(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Zw(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!K1(e),a;if(s)a=n;else{let S=n||{};a=S.index,r=S.injector,i=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef}let u=s?e:new ea(Kr(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let x=(s?l:this.parentInjector).get(Lt,null);x&&(o=x)}let h=Kr(u.componentType??{}),p=Jw(this._lContainer,h?.id??null),m=p?.firstChild??null,v=u.create(l,i,m,o);return this.insertImpl(v.hostView,a,Zw(this._hostTNode,p)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(tR(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[gt],l=new aD(u,u[Kt],u[gt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return sN(s,i,o,r),e.attachToViewContainerRef(),m0(Ff(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=e0(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=up(this._lContainer,n);r&&(Bu(Ff(this._lContainer),n),NE(r[he],r))}detach(e){let n=this._adjustIndex(e,-1),r=up(this._lContainer,n);return r&&Bu(Ff(this._lContainer),n)!=null?new ei(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function e0(t){return t[qu]}function Ff(t){return t[qu]||(t[qu]=[])}function VN(t,e){let n,r=e[t.index];return Nn(r)?n=r:(n=YE(r,e,null,t),e[t.index]=n,El(e,n)),UN(n,e,t,r),new aD(n,t,e)}function jN(t,e){let n=t[ze],r=n.createComment(""),i=Vt(e,t),o=OE(n,i);return tl(n,o,r,Ix(n,i),!1),r}var UN=HN,BN=()=>!1;function $N(t,e,n){return BN(t,e,n)}function HN(t,e,n,r){if(t[Qr])return;let i;n.type&8?i=cn(r):i=jN(e,n),t[Qr]=i}var t0=new Set;function ca(t){t0.has(t)||(t0.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function zN(t){return typeof t=="function"&&t[Dn]!==void 0}function ua(t,e){ca("NgSignals");let n=ZI(t),r=n[Dn];return e?.equal&&(r.equal=e.equal),n.set=i=>uf(r,i),n.update=i=>JI(r,i),n.asReadonly=qN.bind(n),n}function qN(){let t=this[Dn];if(t.readonlyFn===void 0){let e=()=>this();e[Dn]=t,t.readonlyFn=e}return t.readonlyFn}function cD(t){return zN(t)&&typeof t.set=="function"}function GN(t){return Object.getPrototypeOf(t.prototype).constructor}function On(t){let e=GN(t.type),n=!0,r=[t];for(;e;){let i;if(fr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new z(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=xu(t.inputs),s.inputTransforms=xu(t.inputTransforms),s.declaredInputs=xu(t.declaredInputs),s.outputs=xu(t.outputs);let a=i.hostBindings;a&&ZN(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&QN(t,u),l&&YN(t,l),WN(t,i),JM(t.outputs,i.outputs),fr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===On&&(n=!1)}}e=Object.getPrototypeOf(e)}KN(r)}function WN(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function KN(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Zs(i.hostAttrs,n=Zs(n,i.hostAttrs))}}function xu(t){return t===co?{}:t===Ot?[]:t}function QN(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function YN(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function ZN(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function ig(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var pr=class{},ta=class{};var vp=class extends pr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new il(this);let o=C0(e);this._bootstrapComponents=AE(o.bootstrap),this._r3Injector=fE(e,n,[{provide:pr,useValue:this},{provide:yo,useValue:this.componentFactoryResolver},...r],pt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},_p=class extends ta{constructor(e){super(),this.moduleType=e}create(e){return new vp(this.moduleType,e,[])}};var ol=class extends pr{constructor(e){super(),this.componentFactoryResolver=new il(this),this.instance=null;let n=new Js([...e.providers,{provide:pr,useValue:this},{provide:yo,useValue:this.componentFactoryResolver}],e.parent||Rp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function og(t,e,n=null){return new ol({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function uD(t,e,n){return t[e]=n}function JN(t,e){return t[e]}function To(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function XN(t){return(t.flags&32)===32}function eP(t,e,n,r,i,o,s,a,u){let l=e.consts,h=wl(e,t,4,s||null,a||null);WE(e,n,h,Ku(l,u)),Vp(e,h);let p=h.tView=Jp(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function tP(t,e,n,r,i,o,s,a,u,l){let h=n+Tn,p=e.firstCreatePass?eP(h,e,t,r,i,o,s,a,u):e.data[h];oa(p,!1);let m=nP(e,t,p,n);Fp()&&Yp(e,t,m,p),Xr(m,t);let v=YE(m,t,m,p);return t[h]=v,El(t,v),$N(v,p,t),xp(p)&&HE(e,t,p),u!=null&&zE(t,p,l),p}function la(t,e,n,r,i,o,s,a){let u=be(),l=bt(),h=Ku(l.consts,o);return tP(u,l,t,e,n,r,i,h,s,a),la}var nP=rP;function rP(t,e,n,r){return Lp(!0),e[ze].createComment("")}var Ks=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ks||{}),iP=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=W({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),Gr=class Gr{constructor(){this.ngZone=F(we),this.scheduler=F(mo),this.errorHandler=F(Sn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of Gr.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};Gr.PHASES=[Ks.EarlyRead,Ks.Write,Ks.MixedReadWrite,Ks.Read],Gr.\u0275prov=W({token:Gr,providedIn:"root",factory:()=>new Gr});var n0=Gr;function da(t,e,n,r){let i=be(),o=ml();if(To(i,o,e)){let s=bt(),a=kp();Qx(a,i,t,e,n,r)}return da}function oP(t,e,n,r){return To(t,ml(),n)?e+ul(n)+r:vr}function Nu(t,e){return t<<17|e<<2}function ti(t){return t>>17&32767}function sP(t){return(t&2)==2}function aP(t,e){return t&131071|e<<17}function Ip(t){return t|2}function _o(t){return(t&131068)>>2}function Lf(t,e){return t&-131069|e<<2}function cP(t){return(t&1)===1}function wp(t){return t|1}function uP(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ti(s),u=_o(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||ia(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=ti(t[a+1]);t[r+1]=Nu(m,a),m!==0&&(t[m+1]=Lf(t[m+1],r)),t[a+1]=aP(t[a+1],r)}else t[r+1]=Nu(a,0),a!==0&&(t[a+1]=Lf(t[a+1],r)),a=r;else t[r+1]=Nu(u,0),a===0?a=r:t[u+1]=Lf(t[u+1],r),u=r;l&&(t[r+1]=Ip(t[r+1])),r0(t,h,r,!0),r0(t,h,r,!1),lP(e,h,t,r,o),s=Nu(a,u),o?e.classBindings=s:e.styleBindings=s}function lP(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&ia(o,e)>=0&&(n[r+1]=wp(n[r+1]))}function r0(t,e,n,r){let i=t[n+1],o=e===null,s=r?ti(i):_o(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];dP(u,e)&&(a=!0,t[s+1]=r?wp(l):Ip(l)),s=r?ti(l):_o(l)}a&&(t[n+1]=r?Ip(i):wp(i))}function dP(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ia(t,e)>=0:!1}function qe(t,e,n){let r=be(),i=ml();if(To(r,i,e)){let o=bt(),s=kp();GE(o,s,r,t,e,r[ze],n,!1)}return qe}function i0(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Xp(t,n,o[s],s,r)}function Dl(t,e){return hP(t,e,null,!0),Dl}function hP(t,e,n,r){let i=be(),o=bt(),s=pR(2);if(o.firstUpdatePass&&pP(o,t,s,r),e!==vr&&To(i,s,e)){let a=o.data[Do()];_P(o,a,i,i[ze],t,i[s+1]=IP(e,n),r,s)}}function fP(t,e){return e>=t.expandoStartIndex}function pP(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Do()],s=fP(t,n);wP(o,r)&&e===null&&!s&&(e=!1),e=gP(i,o,e,r),uP(i,o,e,n,s,r)}}function gP(t,e,n,r){let i=vR(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Vf(null,t,e,n,r),n=na(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Vf(i,t,e,n,r),o===null){let u=mP(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Vf(null,t,e,u[1],r),u=na(u,e.attrs,r),yP(t,e,r,u))}else o=vP(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function mP(t,e,n){let r=n?e.classBindings:e.styleBindings;if(_o(r)!==0)return t[ti(r)]}function yP(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ti(i)]=r}function vP(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=na(r,s,n)}return na(r,e.attrs,n)}function Vf(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=na(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function na(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),_1(t,s,n?!0:e[++o]))}return t===void 0?null:t}function _P(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=cP(l)?o0(u,e,n,i,_o(l),s):void 0;if(!sl(h)){sl(o)||sP(l)&&(o=o0(u,null,n,i,a,s));let p=j0(Do(),n);Sx(r,s,p,i,o)}}function o0(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===vr&&(m=p?Ot:void 0);let v=p?Af(m,r):h===r?m:void 0;if(l&&!sl(v)&&(v=Af(u,r)),sl(v)&&(a=v,s))return a;let S=t[i+1];i=s?ti(S):_o(S)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Af(u,r))}return a}function sl(t){return t!==void 0}function IP(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=pt(sa(t)))),t}function wP(t,e){return(t.flags&(e?8:16))!==0}function EP(t,e,n,r,i,o){let s=e.consts,a=Ku(s,i),u=wl(e,t,2,r,a);return WE(e,n,u,Ku(s,o)),u.attrs!==null&&mp(u,u.attrs,!1),u.mergedAttrs!==null&&mp(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function j(t,e,n,r){let i=be(),o=bt(),s=Tn+t,a=i[ze],u=o.firstCreatePass?EP(s,o,i,e,n,r):o.data[s],l=DP(o,i,u,a,e,t);i[s]=l;let h=xp(u);return oa(u,!0),LE(a,l,u),!XN(u)&&Fp()&&Yp(o,i,l,u),iR()===0&&Xr(l,i),oR(),h&&(HE(o,i,u),$E(o,u,i)),r!==null&&zE(i,u),j}function O(){let t=mt();W0()?dR():(t=t.parent,oa(t,!1));let e=t;cR(e)&&uR(),sR();let n=bt();return n.firstCreatePass&&(Vp(n,t),O0(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&CR(e)&&i0(n,e,be(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&TR(e)&&i0(n,e,be(),e.stylesWithoutHost,!1),O}function Ke(t,e,n,r){return j(t,e,n,r),O(),Ke}var DP=(t,e,n,r,i,o)=>(Lp(!0),ME(r,i,wR()));function bl(){return be()}var al="en-US";var bP=al;function CP(t){typeof t=="string"&&(bP=t.toLowerCase().replace(/_/g,"-"))}var TP=(t,e,n)=>{};function yt(t,e,n,r){let i=be(),o=bt(),s=mt();return lD(o,i,i[ze],s,t,e,r),yt}function SP(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[zu],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function lD(t,e,n,r,i,o,s){let a=xp(r),l=t.firstCreatePass&&eN(t),h=e[Wt],p=Xx(e),m=!0;if(r.type&3||s){let x=Vt(r,e),M=s?s(x):x,L=p.length,H=s?ce=>s(cn(ce[r.index])):r.index,G=null;if(!s&&a&&(G=SP(t,e,i,r.index)),G!==null){let ce=G.__ngLastListenerFn__||G;ce.__ngNextListenerFn__=o,G.__ngLastListenerFn__=o,m=!1}else{o=a0(r,e,h,o),TP(x,i,o);let ce=n.listen(M,i,o);p.push(o,ce),l&&l.push(i,H,L,L+1)}}else o=a0(r,e,h,o);let v=r.outputs,S;if(m&&v!==null&&(S=v[i])){let x=S.length;if(x)for(let M=0;M<x;M+=2){let L=S[M],H=S[M+1],Re=e[L][H].subscribe(o),X=p.length;p.push(o,Re),l&&l.push(i,r.index,X,-(X+1))}}}function s0(t,e,n,r){let i=ye(null);try{return nn(6,e,n),n(r)!==!1}catch(o){return JE(t,o),!1}finally{nn(7,e,n),ye(i)}}function a0(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?mr(t.index,e):e;tg(s,5);let a=s0(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)a=s0(e,n,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function Cl(t=1){return IR(t)}function sg(t){let e=hR();return eR(e,Tn+t)}function B(t,e=""){let n=be(),r=bt(),i=t+Tn,o=r.firstCreatePass?wl(r,i,1,e,null):r.data[i],s=AP(r,n,o,e,t);n[i]=s,Fp()&&Yp(r,n,s,o),oa(o,!1)}var AP=(t,e,n,r,i)=>(Lp(!0),lx(e[ze],r));function ha(t){return dD("",t,""),ha}function dD(t,e,n){let r=be(),i=oP(r,t,e,n);return i!==vr&&tN(r,Do(),i),dD}function oi(t,e,n){cD(e)&&(e=e());let r=be(),i=ml();if(To(r,i,e)){let o=bt(),s=kp();GE(o,s,r,t,e,r[ze],n,!1)}return oi}function So(t,e){let n=cD(t);return n&&t.set(e),n}function si(t,e){let n=be(),r=bt(),i=mt();return lD(r,n,n[ze],i,t,e),si}function MP(t,e,n){let r=bt();if(r.firstCreatePass){let i=fr(t);Ep(n,r.data,r.blueprint,i,!0),Ep(e,r.data,r.blueprint,i,!1)}}function Ep(t,e,n,r,i){if(t=ft(t),Array.isArray(t))for(let o=0;o<t.length;o++)Ep(t[o],e,n,r,i);else{let o=bt(),s=be(),a=mt(),u=lo(t)?t:ft(t.provide),l=x0(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(lo(t)||!t.multi){let v=new Jr(l,i,Z),S=Uf(u,e,i?h:h+m,p);S===-1?(tp(Zu(a,s),o,u),jf(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),s.push(v)):(n[S]=v,s[S]=v)}else{let v=Uf(u,e,h+m,p),S=Uf(u,e,h,h+m),x=v>=0&&n[v],M=S>=0&&n[S];if(i&&!M||!i&&!x){tp(Zu(a,s),o,u);let L=NP(i?xP:RP,n.length,i,r,l);!i&&M&&(n[S].providerFactory=L),jf(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(L),s.push(L)}else{let L=hD(n[i?S:v],l,!i&&r);jf(o,t,v>-1?v:S,L)}!i&&r&&M&&n[S].componentProviders++}}}function jf(t,e,n,r){let i=lo(e),o=U1(e);if(i||o){let u=(o?ft(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function hD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Uf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function RP(t,e,n,r){return Dp(this.multi,[])}function xP(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=go(n,n[he],this.providerFactory.index,r);o=a.slice(0,s),Dp(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Dp(i,o);return o}function Dp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function NP(t,e,n,r,i){let o=new Jr(t,n,Z);return o.multi=[],o.index=e,o.componentProviders=0,hD(o,i,r&&!n),o}function fa(t,e=[]){return n=>{n.providersResolver=(r,i)=>MP(r,i?i(t):t,e)}}var PP=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=A0(!1,r.type),o=i.length>0?og([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=W({token:e,providedIn:"environment",factory:()=>new e(se(Lt))});let t=e;return t})();function st(t){ca("NgStandalone"),t.getStandaloneInjector=e=>e.get(PP).getOrCreateStandaloneInjector(t)}function kn(t,e,n){let r=Q0()+t,i=be();return i[r]===vr?uD(i,r,n?e.call(n):e()):JN(i,r)}function fD(t,e,n,r){return kP(be(),Q0(),t,e,n,r)}function OP(t,e){let n=t[e];return n===vr?void 0:n}function kP(t,e,n,r,i,o){let s=e+n;return To(t,s,i)?uD(t,s+1,o?r.call(o,i):r(i)):OP(t,s+1)}var Mn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},pD=new Mn("18.2.3");var Tl=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var gD=new $("");function ai(t){return!!t&&typeof t.then=="function"}function mD(t){return!!t&&typeof t.subscribe=="function"}var yD=new $(""),vD=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=F(yD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(ai(s))r.push(s);else if(mD(s)){let a=new Promise((u,l)=>{s.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ag=new $("");function FP(){YI(()=>{throw new z(600,!1)})}function LP(t){return t.isBoundToModule}var VP=10;function jP(t,e,n){try{let r=n();return ai(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var ci=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=F(GR),this.afterRenderManager=F(iP),this.zonelessEnabled=F(rg),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new We,this.afterTick=new We,this.componentTypes=[],this.components=[],this.isStable=F(Co).hasPendingTasks.pipe(ie(r=>!r)),this._injector=F(Lt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:o=>{o&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof rl;if(!this._injector.get(vD).done){let v=!o&&b0(r),S=!1;throw new z(405,S)}let a;o?a=r:a=this._injector.get(yo).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=LP(a)?void 0:this._injector.get(pr),l=i||a.selector,h=a.create(_t.NULL,[],l,u),p=h.location.nativeElement,m=h.injector.get(gD,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Lu(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new z(101,!1);let r=ye(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,ye(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(vo,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<VP;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:o,notifyErrorHandler:s}of this._views)UP(o,s,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>pl(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Lu(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(ag,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Lu(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new z(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Lu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function UP(t,e,n,r){if(!n&&!pl(t))return;tD(t,e,n&&!r?0:1)}var bp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},cg=(()=>{let e=class e{compileModuleSync(r){return new _p(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=C0(r),s=AE(o.declarations).reduce((a,u)=>{let l=Kr(u);return l&&a.push(new ea(l)),a},[]);return new bp(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var BP=(()=>{let e=class e{constructor(){this.zone=F(we),this.changeDetectionScheduler=F(mo),this.applicationRef=F(ci)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$P=new $("",{factory:()=>!1});function _D({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new we(ue(k({},wD()),{scheduleInRootZone:n})),[{provide:we,useFactory:t},{provide:uo,multi:!0,useFactory:()=>{let r=F(BP,{optional:!0});return()=>r.initialize()}},{provide:uo,multi:!0,useFactory:()=>{let r=F(HP);return()=>{r.initialize()}}},e===!0?{provide:oD,useValue:!0}:[],{provide:sD,useValue:n??pE}]}function ID(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=_D({ngZoneFactory:()=>{let i=wD(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&ca("NgZone_CoalesceEvent"),new we(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return un([{provide:$P,useValue:!0},{provide:rg,useValue:!1},r])}function wD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var HP=(()=>{let e=class e{constructor(){this.subscription=new Ne,this.initialized=!1,this.zone=F(we),this.pendingTasks=F(Co)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var zP=(()=>{let e=class e{constructor(){this.appRef=F(ci),this.taskService=F(Co),this.ngZone=F(we),this.zonelessEnabled=F(rg),this.disableScheduling=F(oD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ne,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Xu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(F(sD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof sp||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?$w:mE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Xu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,$w(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function qP(){return typeof $localize<"u"&&$localize.locale||al}var ug=new $("",{providedIn:"root",factory:()=>F(ug,oe.Optional|oe.SkipSelf)||qP()});var ED=new $("");function Pu(t){return!!t.platformInjector}function GP(t){let e=Pu(t)?t.r3Injector:t.moduleRef.injector,n=e.get(we);return n.run(()=>{Pu(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Sn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Pu(t)){let o=()=>e.destroy(),s=t.platformInjector.get(ED);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else t.moduleRef.onDestroy(()=>{Lu(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return jP(r,n,()=>{let o=e.get(vD);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(ug,al);if(CP(s||al),Pu(t)){let a=e.get(ci);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return WP(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function WP(t,e){let n=t.injector.get(ci);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new z(-403,!1);e.push(t)}var Vu=null;function KP(t=[],e){return _t.create({name:e,providers:[{provide:dl,useValue:"platform"},{provide:ED,useValue:new Set([()=>Vu=null])},...t]})}function QP(t=[]){if(Vu)return Vu;let e=KP(t);return Vu=e,FP(),YP(e),e}function YP(t){t.get(zp,null)?.forEach(n=>n())}var ui=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=ZP;let t=e;return t})();function ZP(t){return JP(mt(),be(),(t&16)===16)}function JP(t,e,n){if(fl(t)&&!n){let r=mr(t.index,e);return new ei(r,r)}else if(t.type&175){let r=e[an];return new ei(r,e)}return null}function DD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=QP(r),o=[_D({}),{provide:mo,useExisting:zP},...n||[]],s=new ol({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return GP({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var bD=new $("");function Ir(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function pa(t,e){ca("NgSignals");let n=WI(t);return e?.equal&&(n[Dn].equal=e.equal),n}function Fn(t){let e=ye(null);try{return t()}finally{ye(e)}}var MD=null;function Ln(){return MD}function RD(t){MD??=t}var Sl=class{};var Tt=new $(""),xD=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>F(XP),providedIn:"platform"});let t=e;return t})();var XP=(()=>{let e=class e extends xD{constructor(){super(),this._doc=F(Tt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ln().getBaseHref(this._doc)}onPopState(r){let i=Ln().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Ln().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function ND(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function CD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function li(t){return t&&t[0]!=="?"?"?"+t:t}var Ao=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>F(PD),providedIn:"root"});let t=e;return t})(),eO=new $(""),PD=(()=>{let e=class e extends Ao{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??F(Tt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return ND(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+li(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+li(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+li(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(se(xD),se(eO,8))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ga=(()=>{let e=class e{constructor(r){this._subject=new Fe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=rO(CD(TD(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+li(i))}normalize(r){return e.stripTrailingSlash(nO(this._basePath,TD(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+li(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+li(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=li,e.joinWithSlash=ND,e.stripTrailingSlash=CD,e.\u0275fac=function(i){return new(i||e)(se(Ao))},e.\u0275prov=W({token:e,factory:()=>tO(),providedIn:"root"});let t=e;return t})();function tO(){return new ga(se(Ao))}function nO(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function TD(t){return t.replace(/\/index.html$/,"")}function rO(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function OD(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var dg=/\s+/,SD=[],kD=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=SD,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(dg):SD}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(dg):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(dg).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(Z(Pn),Z(_r))},e.\u0275dir=Je({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Ml=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new hg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){AD("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){AD("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Z(aa),Z(ng))},e.\u0275dir=Je({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),hg=class{constructor(){this.$implicit=null,this.ngIf=null}};function AD(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${pt(e)}'.`)}var fg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ii({type:e}),e.\u0275inj=ri({});let t=e;return t})(),FD="browser",iO="server";function pg(t){return t===iO}var Al=class{};var yg=class extends Sl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},vg=class t extends yg{static makeCurrent(){RD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=oO();return n==null?null:sO(n)}resetBaseElement(){ma=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return OD(document.cookie,e)}},ma=null;function oO(){return ma=ma||document.querySelector("base"),ma?ma.getAttribute("href"):null}function sO(t){return new URL(t,document.baseURI).pathname}var aO=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),Rl=new $(""),BD=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new z(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(se(Rl),se(we))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),ya=class{constructor(e){this._doc=e}},gg="ng-app-id",$D=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=pg(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${gg}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(gg),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(gg,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(se(Tt),se(Hp),se(qp,8),se(yr))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),mg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ig=/%COMP%/g,HD="%COMP%",cO=`_nghost-${HD}`,uO=`_ngcontent-${HD}`,lO=!0,dO=new $("",{providedIn:"root",factory:()=>lO});function hO(t){return uO.replace(Ig,t)}function fO(t){return cO.replace(Ig,t)}function zD(t,e){return e.map(n=>n.replace(Ig,t))}var VD=(()=>{let e=class e{constructor(r,i,o,s,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=pg(u),this.defaultRenderer=new va(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===on.ShadowDom&&(i=ue(k({},i),{encapsulation:on.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof xl?o.applyToHost(r):o instanceof _a&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case on.Emulated:s=new xl(l,h,i,this.appId,p,a,u,m);break;case on.ShadowDom:return new _g(l,h,r,i,a,u,this.nonce,m);default:s=new _a(l,h,i,p,a,u,m);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(se(BD),se($D),se(Hp),se(dO),se(Tt),se(yr),se(we),se(qp))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),va=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(mg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(jD(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(jD(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new z(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=mg[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=mg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(An.DashCase|An.Important)?e.style.setProperty(n,r,i&An.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&An.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Ln().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function jD(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var _g=class extends va{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=zD(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},_a=class extends va{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?zD(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},xl=class extends _a{constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=hO(l),this.hostAttr=fO(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},pO=(()=>{let e=class e extends ya{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(se(Tt))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),gO=(()=>{let e=class e extends ya{constructor(r){super(r),this.delegate=F(bD,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,o){return this.delegate.addEventListener(r,i,o)}removeEventListener(r,i,o){return this.delegate.removeEventListener(r,i,o)}};e.\u0275fac=function(i){return new(i||e)(se(Tt))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),UD=["alt","control","meta","shift"],mO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},vO=(()=>{let e=class e extends ya{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ln().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),UD.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=mO[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),UD.forEach(a=>{if(a!==o){let u=yO[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(se(Tt))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})();function qD(t,e){return DD(k({rootComponent:t},_O(e)))}function _O(t){return{appProviders:[...bO,...t?.providers??[]],platformProviders:DO}}function IO(){vg.makeCurrent()}function wO(){return new Sn}function EO(){return DE(document),document}var DO=[{provide:yr,useValue:FD},{provide:zp,useValue:IO,multi:!0},{provide:Tt,useFactory:EO,deps:[]}];var bO=[{provide:dl,useValue:"root"},{provide:Sn,useFactory:wO,deps:[]},{provide:Rl,useClass:pO,multi:!0,deps:[Tt,we,yr]},{provide:Rl,useClass:vO,multi:!0,deps:[Tt]},{provide:Rl,useClass:gO,multi:!0},VD,$D,BD,{provide:vo,useExisting:VD},{provide:Al,useClass:aO,deps:[]},[]];var GD=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(se(Tt))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var re="primary",ka=Symbol("RouteTitle"),Cg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Oo(t){return new Cg(t)}function TO(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function SO(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ln(t[n],e[n]))return!1;return!0}function ln(t,e){let n=t?Tg(t):void 0,r=e?Tg(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!eb(t[i],e[i]))return!1;return!0}function Tg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function eb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function tb(t){return t.length>0?t[t.length-1]:null}function Er(t){return Ef(t)?t:ai(t)?Pe(Promise.resolve(t)):te(t)}var AO={exact:rb,subset:ib},nb={exact:MO,subset:RO,ignored:()=>!0};function WD(t,e,n){return AO[n.paths](t.root,e.root,n.matrixParams)&&nb[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function MO(t,e){return ln(t,e)}function rb(t,e,n){if(!hi(t.segments,e.segments)||!Ol(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!rb(t.children[r],e.children[r],n))return!1;return!0}function RO(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>eb(t[n],e[n]))}function ib(t,e,n){return ob(t,e,e.segments,n)}function ob(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!hi(i,n)||e.hasChildren()||!Ol(i,n,r))}else if(t.segments.length===n.length){if(!hi(t.segments,n)||!Ol(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!ib(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!hi(t.segments,i)||!Ol(t.segments,i,r)||!t.children[re]?!1:ob(t.children[re],e,o,r)}}function Ol(t,e,n){return e.every((r,i)=>nb[n](t[i].parameters,r.parameters))}var jn=class{constructor(e=new Ie([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Oo(this.queryParams),this._queryParamMap}toString(){return PO.serialize(this)}},Ie=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kl(this)}},di=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Oo(this.parameters),this._parameterMap}toString(){return ab(this)}};function xO(t,e){return hi(t,e)&&t.every((n,r)=>ln(n.parameters,e[r].parameters))}function hi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function NO(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===re&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==re&&(n=n.concat(e(i,r)))}),n}var Jg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>new Ta,providedIn:"root"});let t=e;return t})(),Ta=class{parse(e){let n=new Ag(e);return new jn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ia(e.root,!0)}`,r=FO(e.queryParams),i=typeof e.fragment=="string"?`#${OO(e.fragment)}`:"";return`${n}${r}${i}`}},PO=new Ta;function kl(t){return t.segments.map(e=>ab(e)).join("/")}function Ia(t,e){if(!t.hasChildren())return kl(t);if(e){let n=t.children[re]?Ia(t.children[re],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==re&&r.push(`${i}:${Ia(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=NO(t,(r,i)=>i===re?[Ia(t.children[re],!1)]:[`${i}:${Ia(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[re]!=null?`${kl(t)}/${n[0]}`:`${kl(t)}/(${n.join("//")})`}}function sb(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nl(t){return sb(t).replace(/%3B/gi,";")}function OO(t){return encodeURI(t)}function Sg(t){return sb(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fl(t){return decodeURIComponent(t)}function KD(t){return Fl(t.replace(/\+/g,"%20"))}function ab(t){return`${Sg(t.path)}${kO(t.parameters)}`}function kO(t){return Object.entries(t).map(([e,n])=>`;${Sg(e)}=${Sg(n)}`).join("")}function FO(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Nl(n)}=${Nl(i)}`).join("&"):`${Nl(n)}=${Nl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var LO=/^[^\/()?;#]+/;function wg(t){let e=t.match(LO);return e?e[0]:""}var VO=/^[^\/()?;=#]+/;function jO(t){let e=t.match(VO);return e?e[0]:""}var UO=/^[^=?&#]+/;function BO(t){let e=t.match(UO);return e?e[0]:""}var $O=/^[^&#]+/;function HO(t){let e=t.match($O);return e?e[0]:""}var Ag=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[re]=new Ie(e,n)),r}parseSegment(){let e=wg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new z(4009,!1);return this.capture(e),new di(Fl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=jO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=wg(this.remaining);i&&(r=i,this.capture(r))}e[Fl(n)]=Fl(r)}parseQueryParam(e){let n=BO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=HO(this.remaining);s&&(r=s,this.capture(r))}let i=KD(n),o=KD(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=wg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new z(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=re);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[re]:new Ie([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new z(4011,!1)}};function cb(t){return t.segments.length>0?new Ie([],{[re]:t}):t}function ub(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=ub(i);if(r===re&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Ie(t.segments,e);return zO(n)}function zO(t){if(t.numberOfChildren===1&&t.children[re]){let e=t.children[re];return new Ie(t.segments.concat(e.segments),e.children)}return t}function fi(t){return t instanceof jn}function qO(t,e,n=null,r=null){let i=lb(t);return db(i,e,n,r)}function lb(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new Ie(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=cb(r);return e??i}function db(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Eg(i,i,i,n,r);let o=GO(e);if(o.toRoot())return Eg(i,i,new Ie([],{}),n,r);let s=WO(o,i,t),a=s.processChildren?Da(s.segmentGroup,s.index,o.commands):fb(s.segmentGroup,s.index,o.commands);return Eg(i,s.segmentGroup,a,n,r)}function Ll(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Sa(t){return typeof t=="object"&&t!=null&&t.outlets}function Eg(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=hb(t,e,n);let a=cb(ub(s));return new jn(a,o,i)}function hb(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=hb(o,e,n)}),new Ie(t.segments,r)}var Vl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ll(r[0]))throw new z(4003,!1);let i=r.find(Sa);if(i&&i!==tb(r))throw new z(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function GO(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Vl(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Vl(n,e,r)}var xo=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function WO(t,e,n){if(t.isAbsolute)return new xo(e,!0,0);if(!n)return new xo(e,!1,NaN);if(n.parent===null)return new xo(n,!0,0);let r=Ll(t.commands[0])?0:1,i=n.segments.length-1+r;return KO(n,i,t.numberOfDoubleDots)}function KO(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new z(4005,!1);i=r.segments.length}return new xo(r,!1,i-o)}function QO(t){return Sa(t[0])?t[0].outlets:{[re]:t}}function fb(t,e,n){if(t??=new Ie([],{}),t.segments.length===0&&t.hasChildren())return Da(t,e,n);let r=YO(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Ie(t.segments.slice(0,r.pathIndex),{});return o.children[re]=new Ie(t.segments.slice(r.pathIndex),t.children),Da(o,0,i)}else return r.match&&i.length===0?new Ie(t.segments,{}):r.match&&!t.hasChildren()?Mg(t,e,n):r.match?Da(t,0,i):Mg(t,e,n)}function Da(t,e,n){if(n.length===0)return new Ie(t.segments,{});{let r=QO(n),i={};if(Object.keys(r).some(o=>o!==re)&&t.children[re]&&t.numberOfChildren===1&&t.children[re].segments.length===0){let o=Da(t.children[re],e,n);return new Ie(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=fb(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ie(t.segments,i)}}function YO(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Sa(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!YD(u,l,s))return o;r+=2}else{if(!YD(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Mg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Sa(o)){let u=ZO(o.outlets);return new Ie(r,u)}if(i===0&&Ll(n[0])){let u=t.segments[e];r.push(new di(u.path,QD(n[0]))),i++;continue}let s=Sa(o)?o.outlets[re]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Ll(a)?(r.push(new di(s,QD(a))),i+=2):(r.push(new di(s,{})),i++)}return new Ie(r,{})}function ZO(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Mg(new Ie([],{}),0,r))}),e}function QD(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function YD(t,e,n){return t==n.path&&ln(e,n.parameters)}var ba="imperative",Xe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Xe||{}),jt=class{constructor(e,n){this.id=e,this.url=n}},Aa=class extends jt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Xe.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},wr=class extends jt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Xe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},At=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(At||{}),Rg=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Rg||{}),Vn=class extends jt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Xe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},pi=class extends jt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Xe.NavigationSkipped}},Ma=class extends jt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Xe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},jl=class extends jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Xe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xg=class extends jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Xe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ng=class extends jt{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Xe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Pg=class extends jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Xe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Og=class extends jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Xe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kg=class{constructor(e){this.route=e,this.type=Xe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Fg=class{constructor(e){this.route=e,this.type=Xe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Lg=class{constructor(e){this.snapshot=e,this.type=Xe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vg=class{constructor(e){this.snapshot=e,this.type=Xe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jg=class{constructor(e){this.snapshot=e,this.type=Xe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ug=class{constructor(e){this.snapshot=e,this.type=Xe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ra=class{},ko=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function JO(t,e){return t.providers&&!t._injector&&(t._injector=og(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Qt(t){return t.outlet||re}function XO(t,e){let n=t.filter(r=>Qt(r)===e);return n.push(...t.filter(r=>Qt(r)!==e)),n}function Fa(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Bg=class{get injector(){return Fa(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Gl(this.rootInjector),this.attachRef=null}},Gl=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Bg(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(se(Lt))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ul=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=$g(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=$g(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Hg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Hg(e,this._root).map(n=>n.value)}};function $g(t,e){if(t===e.value)return e;for(let n of e.children){let r=$g(t,n);if(r)return r}return null}function Hg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Hg(t,n);if(r.length)return r.unshift(e),r}return[]}var St=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ro(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Bl=class extends Ul{constructor(e,n){super(e),this.snapshot=n,Xg(this,e)}toString(){return this.snapshot.toString()}};function pb(t){let e=ek(t),n=new Be([new di("",{})]),r=new Be({}),i=new Be({}),o=new Be({}),s=new Be(""),a=new gi(n,r,o,s,i,re,t,e.root);return a.snapshot=e.root,new Bl(new St(a,[]),e)}function ek(t){let e={},n={},r={},i="",o=new No([],e,r,i,n,re,t,null,{});return new Hl("",new St(o,[]))}var gi=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ie(l=>l[ka]))??te(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(e=>Oo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(e=>Oo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function $l(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),t.params),data:k(k({},e.data),t.data),resolve:k(k(k(k({},t.data),e.data),i?.data),t._resolvedData)}:r={params:k({},t.params),data:k({},t.data),resolve:k(k({},t.data),t._resolvedData??{})},i&&mb(i)&&(r.resolve[ka]=i.title),r}var No=class{get title(){return this.data?.[ka]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Oo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Oo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Hl=class extends Ul{constructor(e,n){super(n),this.url=e,Xg(this,n)}toString(){return gb(this._root)}};function Xg(t,e){e.value._routerState=t,e.children.forEach(n=>Xg(t,n))}function gb(t){let e=t.children.length>0?` { ${t.children.map(gb).join(", ")} } `:"";return`${t.value}${e}`}function Dg(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ln(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ln(e.params,n.params)||t.paramsSubject.next(n.params),SO(e.url,n.url)||t.urlSubject.next(n.url),ln(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function zg(t,e){let n=ln(t.params,e.params)&&xO(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||zg(t.parent,e.parent))}function mb(t){return typeof t.title=="string"||t.title===null}var em=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=re,this.activateEvents=new Fe,this.deactivateEvents=new Fe,this.attachEvents=new Fe,this.detachEvents=new Fe,this.parentContexts=F(Gl),this.location=F(aa),this.changeDetector=F(ui),this.inputBinder=F(tm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new z(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new z(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new qg(r,u,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Je({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[gr]});let t=e;return t})(),qg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===gi?this.route:e===Gl?this.childContexts:this.parent.get(e,n)}},tm=new $("");function tk(t,e,n){let r=xa(t,e._root,n?n._root:void 0);return new Bl(r,e)}function xa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=nk(t,e,n);return new St(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>xa(t,a)),s}}let r=rk(e.value),i=e.children.map(o=>xa(t,o));return new St(r,i)}}function nk(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return xa(t,r,i);return xa(t,r)})}function rk(t){return new gi(new Be(t.url),new Be(t.params),new Be(t.queryParams),new Be(t.fragment),new Be(t.data),t.outlet,t.component,t)}var Na=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},yb="ngNavigationCancelingError";function zl(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=fi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=vb(!1,At.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function vb(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[yb]=!0,n.cancellationCode=e,n}function ik(t){return _b(t)&&fi(t.url)}function _b(t){return!!t&&t[yb]}var ok=(t,e,n,r)=>ie(i=>(new Gg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Gg=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Dg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ro(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ro(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ro(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ro(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Ug(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Vg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Dg(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Dg(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},ql=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Po=class{constructor(e,n){this.component=e,this.route=n}};function sk(t,e,n){let r=t._root,i=e?e._root:null;return wa(r,i,n,[r.value])}function ak(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Lo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!l0(t)?t:e.get(t):r}function wa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ro(e);return t.children.forEach(s=>{ck(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ca(a,n.getContext(s),i)),i}function ck(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=uk(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new ql(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?wa(t,e,a?a.children:null,r,i):wa(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Po(a.outlet.component,s))}else s&&Ca(e,a,i),i.canActivateChecks.push(new ql(r)),o.component?wa(t,null,a?a.children:null,r,i):wa(t,null,n,r,i);return i}function uk(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!hi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!hi(t.url,e.url)||!ln(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zg(t,e)||!ln(t.queryParams,e.queryParams);case"paramsChange":default:return!zg(t,e)}}function Ca(t,e,n){let r=Ro(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ca(s,e.children.getContext(o),n):Ca(s,null,n):Ca(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Po(e.outlet.component,i)):n.canDeactivateChecks.push(new Po(null,i)):n.canDeactivateChecks.push(new Po(null,i))}function La(t){return typeof t=="function"}function lk(t){return typeof t=="boolean"}function dk(t){return t&&La(t.canLoad)}function hk(t){return t&&La(t.canActivate)}function fk(t){return t&&La(t.canActivateChild)}function pk(t){return t&&La(t.canDeactivate)}function gk(t){return t&&La(t.canMatch)}function Ib(t){return t instanceof bn||t?.name==="EmptyError"}var Pl=Symbol("INITIAL_VALUE");function Fo(){return zt(t=>bu(t.map(e=>e.pipe(Cn(1),Au(Pl)))).pipe(ie(e=>{for(let n of e)if(n!==!0){if(n===Pl)return Pl;if(n===!1||mk(n))return n}return!0}),Nt(e=>e!==Pl),Cn(1)))}function mk(t){return fi(t)||t instanceof Na}function yk(t,e){return $e(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?te(ue(k({},n),{guardsResult:!0})):vk(s,r,i,t).pipe($e(a=>a&&lk(a)?_k(r,o,t,e):te(a)),ie(a=>ue(k({},n),{guardsResult:a})))})}function vk(t,e,n,r){return Pe(t).pipe($e(i=>bk(i.component,i.route,n,e,r)),tn(i=>i!==!0,!0))}function _k(t,e,n,r){return Pe(e).pipe(eo(i=>Xi(wk(i.route.parent,r),Ik(i.route,r),Dk(t,i.path,n),Ek(t,i.route,n))),tn(i=>i!==!0,!0))}function Ik(t,e){return t!==null&&e&&e(new jg(t)),te(!0)}function wk(t,e){return t!==null&&e&&e(new Lg(t)),te(!0)}function Ek(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return te(!0);let i=r.map(o=>Cu(()=>{let s=Fa(e)??n,a=Lo(o,s),u=hk(a)?a.canActivate(e,t):Rn(s,()=>a(e,t));return Er(u).pipe(tn())}));return te(i).pipe(Fo())}function Dk(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>ak(s)).filter(s=>s!==null).map(s=>Cu(()=>{let a=s.guards.map(u=>{let l=Fa(s.node)??n,h=Lo(u,l),p=fk(h)?h.canActivateChild(r,t):Rn(l,()=>h(r,t));return Er(p).pipe(tn())});return te(a).pipe(Fo())}));return te(o).pipe(Fo())}function bk(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return te(!0);let s=o.map(a=>{let u=Fa(e)??i,l=Lo(a,u),h=pk(l)?l.canDeactivate(t,e,n,r):Rn(u,()=>l(t,e,n,r));return Er(h).pipe(tn())});return te(s).pipe(Fo())}function Ck(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return te(!0);let o=i.map(s=>{let a=Lo(s,t),u=dk(a)?a.canLoad(e,n):Rn(t,()=>a(e,n));return Er(u)});return te(o).pipe(Fo(),wb(r))}function wb(t){return ou(He(e=>{if(typeof e!="boolean")throw zl(t,e)}),ie(e=>e===!0))}function Tk(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return te(!0);let o=i.map(s=>{let a=Lo(s,t),u=gk(a)?a.canMatch(e,n):Rn(t,()=>a(e,n));return Er(u)});return te(o).pipe(Fo(),wb(r))}var Pa=class{constructor(e){this.segmentGroup=e||null}},Oa=class extends Error{constructor(e){super(),this.urlTree=e}};function Mo(t){return Ji(new Pa(t))}function Sk(t){return Ji(new z(4e3,!1))}function Ak(t){return Ji(vb(!1,At.GuardRejected))}var Wg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return te(r);if(i.numberOfChildren>1||!i.children[re])return Sk(`${e.redirectTo}`);i=i.children[re]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:v,data:S,title:x}=i,M=Rn(o,()=>a({params:v,data:S,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:x}));if(M instanceof jn)throw new Oa(M);n=M}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Oa(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new jn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Ie(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new z(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Kg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Mk(t,e,n,r,i){let o=Eb(t,e,n);return o.matched?(r=JO(e,r),Tk(r,e,n,i).pipe(ie(s=>s===!0?o:k({},Kg)))):te(o)}function Eb(t,e,n){if(e.path==="**")return Rk(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?k({},Kg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||TO)(n,t,e);if(!i)return k({},Kg);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?k(k({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Rk(t){return{matched:!0,parameters:t.length>0?tb(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function ZD(t,e,n,r){return n.length>0&&Pk(t,n,r)?{segmentGroup:new Ie(e,Nk(r,new Ie(n,t.children))),slicedSegments:[]}:n.length===0&&Ok(t,n,r)?{segmentGroup:new Ie(t.segments,xk(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ie(t.segments,t.children),slicedSegments:n}}function xk(t,e,n,r){let i={};for(let o of n)if(Wl(t,e,o)&&!r[Qt(o)]){let s=new Ie([],{});i[Qt(o)]=s}return k(k({},r),i)}function Nk(t,e){let n={};n[re]=e;for(let r of t)if(r.path===""&&Qt(r)!==re){let i=new Ie([],{});n[Qt(r)]=i}return n}function Pk(t,e,n){return n.some(r=>Wl(t,e,r)&&Qt(r)!==re)}function Ok(t,e,n){return n.some(r=>Wl(t,e,r))}function Wl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function kk(t,e,n){return e.length===0&&!t.children[n]}var Qg=class{};function Fk(t,e,n,r,i,o,s="emptyOnly"){return new Yg(t,e,n,r,i,s,o).recognize()}var Lk=31,Yg=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Wg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new z(4002,`'${e.segmentGroup}'`)}recognize(){let e=ZD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ie(({children:n,rootSnapshot:r})=>{let i=new St(r,n),o=new Hl("",i),s=qO(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new No([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),re,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,re,n).pipe(ie(r=>({children:r,rootSnapshot:n})),ar(r=>{if(r instanceof Oa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Pa?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(ie(s=>s instanceof St?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Pe(o).pipe(eo(s=>{let a=r.children[s],u=XO(n,s);return this.processSegmentGroup(e,u,a,s,i)}),Su((s,a)=>(s.push(...a),s)),cr(null),Tf(),$e(s=>{if(s===null)return Mo(r);let a=Db(s);return Vk(a),te(a)}))}processSegment(e,n,r,i,o,s,a){return Pe(n).pipe(eo(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(ar(l=>{if(l instanceof Pa)return te(null);throw l}))),tn(u=>!!u),ar(u=>{if(Ib(u))return kk(r,i,o)?te(new Qg):Mo(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return Qt(r)!==s&&(s===re||!Wl(i,o,r))?Mo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):Mo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=Eb(n,i,o);if(!u)return Mo(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Lk&&(this.allowRedirects=!1));let v=new No(o,l,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,JD(i),Qt(i),i.component??i._loadedComponent??null,i,XD(i)),S=$l(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(S.params),v.data=Object.freeze(S.data);let x=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,v,e);return this.applyRedirects.lineralizeSegments(i,x).pipe($e(M=>this.processSegment(e,r,n,M.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=Mk(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(zt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(zt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:v}=u,S=new No(m,p,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,JD(r),Qt(r),r.component??r._loadedComponent??null,r,XD(r)),x=$l(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(x.params),S.data=Object.freeze(x.data);let{segmentGroup:M,slicedSegments:L}=ZD(n,m,v,l);if(L.length===0&&M.hasChildren())return this.processChildren(h,l,M,S).pipe(ie(G=>new St(S,G)));if(l.length===0&&L.length===0)return te(new St(S,[]));let H=Qt(r)===o;return this.processSegment(h,l,M,L,H?re:o,!0,S).pipe(ie(G=>new St(S,G instanceof St?[G]:[])))}))):Mo(n)))}getChildConfig(e,n,r){return n.children?te({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?te({routes:n._loadedRoutes,injector:n._loadedInjector}):Ck(e,n,r,this.urlSerializer).pipe($e(i=>i?this.configLoader.loadChildren(e,n).pipe(He(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Ak(n))):te({routes:[],injector:e})}};function Vk(t){t.sort((e,n)=>e.value.outlet===re?-1:n.value.outlet===re?1:e.value.outlet.localeCompare(n.value.outlet))}function jk(t){let e=t.value.routeConfig;return e&&e.path===""}function Db(t){let e=[],n=new Set;for(let r of t){if(!jk(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Db(r.children);e.push(new St(r.value,i))}return e.filter(r=>!n.has(r))}function JD(t){return t.data||{}}function XD(t){return t.resolve||{}}function Uk(t,e,n,r,i,o){return $e(s=>Fk(t,e,n,r,s.extractedUrl,i,o).pipe(ie(({state:a,tree:u})=>ue(k({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function Bk(t,e){return $e(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return te(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of bb(u))s.add(l);let a=0;return Pe(s).pipe(eo(u=>o.has(u)?$k(u,r,t,e):(u.data=$l(u,u.parent,t).resolve,te(void 0))),He(()=>a++),to(1),$e(u=>a===s.size?te(n):Dt))})}function bb(t){let e=t.children.map(n=>bb(n)).flat();return[t,...e]}function $k(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!mb(i)&&(o[ka]=i.title),Hk(o,t,e,r).pipe(ie(s=>(t._resolvedData=s,t.data=$l(t,t.parent,n).resolve,null)))}function Hk(t,e,n,r){let i=Tg(t);if(i.length===0)return te({});let o={};return Pe(i).pipe($e(s=>zk(t[s],e,n,r).pipe(tn(),He(a=>{if(a instanceof Na)throw zl(new Ta,a);o[s]=a}))),to(1),Cf(o),ar(s=>Ib(s)?Dt:Ji(s)))}function zk(t,e,n,r){let i=Fa(e)??r,o=Lo(t,i),s=o.resolve?o.resolve(e,n):Rn(i,()=>o(e,n));return Er(s)}function bg(t){return zt(e=>{let n=t(e);return n?Pe(n).pipe(ie(()=>e)):te(e)})}var Cb=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===re);return i}getResolvedTitleForRoute(r){return r.data[ka]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>F(qk),providedIn:"root"});let t=e;return t})(),qk=(()=>{let e=class e extends Cb{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(se(GD))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nm=new $("",{providedIn:"root",factory:()=>({})}),Gk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ot({type:e,selectors:[["ng-component"]],standalone:!0,features:[st],decls:1,vars:0,template:function(i,o){i&1&&Ke(0,"router-outlet")},dependencies:[em],encapsulation:2});let t=e;return t})();function rm(t){let e=t.children&&t.children.map(rm),n=e?ue(k({},t),{children:e}):k({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==re&&(n.component=Gk),n}var im=new $(""),Wk=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=F(cg)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return te(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Er(r.loadComponent()).pipe(ie(Tb),He(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Gs(()=>{this.componentLoaders.delete(r)})),o=new Ki(i,()=>new We).pipe(Wi());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return te({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=Kk(i,this.compiler,r,this.onLoadEndListener).pipe(Gs(()=>{this.childrenLoaders.delete(i)})),a=new Ki(s,()=>new We).pipe(Wi());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Kk(t,e,n,r){return Er(t.loadChildren()).pipe(ie(Tb),$e(i=>i instanceof ta||Array.isArray(i)?te(i):Pe(e.compileModuleAsync(i))),ie(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(im,[],{optional:!0,self:!0}).flat()),{routes:s.map(rm),injector:o}}))}function Qk(t){return t&&typeof t=="object"&&"default"in t}function Tb(t){return Qk(t)?t.default:t}var om=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>F(Yk),providedIn:"root"});let t=e;return t})(),Yk=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Zk=new $("");var Jk=new $(""),Xk=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new We,this.transitionAbortSubject=new We,this.configLoader=F(Wk),this.environmentInjector=F(Lt),this.urlSerializer=F(Jg),this.rootContexts=F(Gl),this.location=F(ga),this.inputBindingEnabled=F(tm,{optional:!0})!==null,this.titleStrategy=F(Cb),this.options=F(nm,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=F(om),this.createViewTransition=F(Zk,{optional:!0}),this.navigationErrorHandler=F(Jk,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>te(void 0),this.rootComponentType=null;let r=o=>this.events.next(new kg(o)),i=o=>this.events.next(new Fg(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ue(k(k({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Be({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ba,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Nt(s=>s.id!==0),ie(s=>ue(k({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),zt(s=>{let a=!1,u=!1;return te(s).pipe(zt(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",At.SupersededByNewNavigation),Dt;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ue(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let m="";return this.events.next(new pi(l.id,this.urlSerializer.serialize(l.rawUrl),m,Rg.IgnoredSameUrlNavigation)),l.resolve(!1),Dt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return te(l).pipe(zt(m=>{let v=this.transitions?.getValue();return this.events.next(new Aa(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),v!==this.transitions?.getValue()?Dt:Promise.resolve(m)}),Uk(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),He(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=ue(k({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let v=new jl(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:v,source:S,restoredState:x,extras:M}=l,L=new Aa(m,this.urlSerializer.serialize(v),S,x);this.events.next(L);let H=pb(this.rootComponentType).snapshot;return this.currentTransition=s=ue(k({},l),{targetSnapshot:H,urlAfterRedirects:v,extras:ue(k({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,te(s)}else{let m="";return this.events.next(new pi(l.id,this.urlSerializer.serialize(l.extractedUrl),m,Rg.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Dt}}),He(l=>{let h=new xg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),ie(l=>(this.currentTransition=s=ue(k({},l),{guards:sk(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),yk(this.environmentInjector,l=>this.events.next(l)),He(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw zl(this.urlSerializer,l.guardsResult);let h=new Ng(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Nt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",At.GuardRejected),!1)),bg(l=>{if(l.guards.canActivateChecks.length)return te(l).pipe(He(h=>{let p=new Pg(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),zt(h=>{let p=!1;return te(h).pipe(Bk(this.paramsInheritanceStrategy,this.environmentInjector),He({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",At.NoDataFromResolver)}}))}),He(h=>{let p=new Og(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),bg(l=>{let h=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(He(v=>{p.component=v}),ie(()=>{})));for(let v of p.children)m.push(...h(v));return m};return bu(h(l.targetSnapshot.root)).pipe(cr(null),Cn(1))}),bg(()=>this.afterPreactivation()),zt(()=>{let{currentSnapshot:l,targetSnapshot:h}=s,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?Pe(p).pipe(ie(()=>s)):te(s)}),ie(l=>{let h=tk(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=ue(k({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),He(()=>{this.events.next(new Ra)}),ok(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Cn(1),He({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new wr(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Sf(this.transitionAbortSubject.pipe(He(l=>{throw l}))),Gs(()=>{!a&&!u&&this.cancelNavigationTransition(s,"",At.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),ar(l=>{if(u=!0,_b(l))this.events.next(new Vn(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),ik(l)?this.events.next(new ko(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let h=new Ma(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let p=Rn(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(p instanceof Na){let{message:m,cancellationCode:v}=zl(this.urlSerializer,p);this.events.next(new Vn(s.id,this.urlSerializer.serialize(s.extractedUrl),m,v)),this.events.next(new ko(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(h);let m=r.errorHandler(l);s.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(p)}}return Dt}))}))}cancelNavigationTransition(r,i,o){let s=new Vn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function eF(t){return t!==ba}var tF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>F(nF),providedIn:"root"});let t=e;return t})(),Zg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},nF=(()=>{let e=class e extends Zg{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=bo(e)))(o||e)}})(),e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Sb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>F(rF),providedIn:"root"});let t=e;return t})(),rF=(()=>{let e=class e extends Sb{constructor(){super(...arguments),this.location=F(ga),this.urlSerializer=F(Jg),this.options=F(nm,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=F(om),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new jn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=pb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Aa)this.stateMemento=this.createStateMemento();else if(r instanceof pi)this.rawUrlTree=i.initialUrl;else if(r instanceof jl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??o,i)}}else r instanceof Ra?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof Vn&&(r.code===At.GuardRejected||r.code===At.NoDataFromResolver)?this.restoreHistory(i):r instanceof Ma?this.restoreHistory(i,!0):r instanceof wr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=r instanceof jn?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=k(k({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=k(k({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=bo(e)))(o||e)}})(),e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ea=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ea||{});function iF(t,e){t.events.pipe(Nt(n=>n instanceof wr||n instanceof Vn||n instanceof Ma||n instanceof pi),ie(n=>n instanceof wr||n instanceof pi?Ea.COMPLETE:(n instanceof Vn?n.code===At.Redirect||n.code===At.SupersededByNewNavigation:!1)?Ea.REDIRECTING:Ea.FAILED),Nt(n=>n!==Ea.REDIRECTING),Cn(1)).subscribe(()=>{e()})}function oF(t){throw t}var sF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},aF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Yt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=F(Tl),this.stateManager=F(Sb),this.options=F(nm,{optional:!0})||{},this.pendingTasks=F(Co),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=F(Xk),this.urlSerializer=F(Jg),this.location=F(ga),this.urlHandlingStrategy=F(om),this._events=new We,this.errorHandler=this.options.errorHandler||oF,this.navigated=!1,this.routeReuseStrategy=F(tF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=F(im,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!F(tm,{optional:!0}),this.eventsSubscription=new Ne,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof Vn&&i.code!==At.Redirect&&i.code!==At.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof wr)this.navigated=!0;else if(i instanceof ko){let a=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l=k({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||eF(o.source)},a);this.scheduleNavigation(u,ba,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}uF(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ba,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=k({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(rm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":p=k(k({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let v=o?o.snapshot:this.routerState.snapshot.root;m=lb(v)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),m=this.currentUrlTree.root}return db(m,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=fi(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,ba,null,i)}navigate(r,i={skipLocationChange:!1}){return cF(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=k({},sF):i===!1?o=k({},aF):o=i,fi(r))return WD(this.currentUrlTree,r,o);let s=this.parseUrl(r);return WD(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,v)=>{u=m,l=v});let p=this.pendingTasks.add();return iF(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function cF(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new z(4008,!1)}function uF(t){return!(t instanceof Ra)&&!(t instanceof ko)}var Kl=(()=>{let e=class e{constructor(r,i,o,s,a,u){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=u,this.href=null,this.onChanges=new We,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof wr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(fi(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,o,s,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:TE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.routerLinkInput===null?null:fi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(Z(Yt),Z(gi),Up("tabindex"),Z(_r),Z(Pn),Z(Ao))},e.\u0275dir=Je({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&yt("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&da("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ir],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ir],replaceUrl:[2,"replaceUrl","replaceUrl",Ir],routerLink:"routerLink"},standalone:!0,features:[ig,gr]});let t=e;return t})();var lF=new $("");function Ab(t,...e){return un([{provide:im,multi:!0,useValue:t},[],{provide:gi,useFactory:dF,deps:[Yt]},{provide:ag,multi:!0,useFactory:hF},e.map(n=>n.\u0275providers)])}function dF(t){return t.routerState.root}function hF(){let t=F(_t);return e=>{let n=t.get(ci);if(e!==n.components[0])return;let r=t.get(Yt),i=t.get(fF);t.get(pF)===1&&r.initialNavigation(),t.get(gF,null,oe.Optional)?.setUpPreloading(),t.get(lF,null,oe.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var fF=new $("",{factory:()=>new We}),pF=new $("",{providedIn:"root",factory:()=>1});var gF=new $("");var Dr=class t{userSubject=new Be(this.isLoggedIn());user$=this.userSubject.asObservable();isLoggedIn(){return!!localStorage.getItem("user")}login(){this.userSubject.next(!0)}logout(){localStorage.removeItem("user"),this.userSubject.next(!1)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})};var Mb=()=>["/juego1"],Rb=()=>["/juego2"],xb=()=>["/juego3"],Nb=()=>["/juego4"],Yl=class t{constructor(e,n){this.router=e;this.userService=n;this.userService.user$.subscribe(r=>{if(this.userInLocalStorage=r,r){let o=JSON.parse(localStorage.getItem("user")).email.split("@")[0];this.title=`\xA1Bienvenido 
 ${o}!`}})}title="\xA1Bienvenido!";email;userInLocalStorage=!1;logOut(){localStorage.removeItem("user"),console.log("Usuario deslogueado"),this.router.navigate(["/login"])}static \u0275fac=function(n){return new(n||t)(Z(Yt),Z(Dr))};static \u0275cmp=ot({type:t,selectors:[["app-home"]],standalone:!0,features:[st],decls:27,vars:17,consts:[[1,"bienvenido-section"],[1,"bienvenido-container"],[1,"juegos-container"],[1,"juego"],[3,"routerLink"],["src","/preguntados.jpg","alt","Juego 1",1,"juego-imagen"],[1,"accion-boton","btn_juegos",3,"routerLink"],["src","/ahorcado.png","alt","Juego 2",1,"juego-imagen"],["src","/mayor_menor.jpg","alt","Juego 3",1,"juego-imagen"],["src","/rayo.png","alt","Juego 4",1,"juego-imagen"]],template:function(n,r){n&1&&(j(0,"section",0)(1,"div",1)(2,"h1"),B(3),O(),j(4,"h2"),B(5,"Lista de juegos"),O(),j(6,"div",2)(7,"div",3)(8,"a",4),Ke(9,"img",5),O(),j(10,"button",6),B(11,"Preguntados"),O()(),j(12,"div",3)(13,"a",4),Ke(14,"img",7),O(),j(15,"button",6),B(16,"Ahorcado"),O()(),j(17,"div",3)(18,"a",4),Ke(19,"img",8),O(),j(20,"button",6),B(21,"Mayor o Menor"),O()(),j(22,"div",3)(23,"a",4),Ke(24,"img",9),O(),j(25,"button",6),B(26,"Tiempo de Reacci\xF3n"),O()()()()()),n&2&&(Se(3),ha(r.title),Se(5),qe("routerLink",kn(9,Mb)),Se(2),qe("routerLink",kn(10,Mb)),Se(3),qe("routerLink",kn(11,Rb)),Se(2),qe("routerLink",kn(12,Rb)),Se(3),qe("routerLink",kn(13,xb)),Se(2),qe("routerLink",kn(14,xb)),Se(3),qe("routerLink",kn(15,Nb)),Se(2),qe("routerLink",kn(16,Nb)))},dependencies:[Kl],styles:[`.bienvenido-section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-image:url("data:image/svg+xml,%3Csvg width='42' height='44' viewBox='0 0 42 44' xmlns='http://www.w3.org/2000/svg'%3E%3Cg id='Page-1' fill='none' fill-rule='evenodd'%3E%3Cg id='brick-wall' fill='%23ffffff' fill-opacity='1'%3E%3Cpath d='M0 0h42v44H0V0zm1 1h40v20H1V1zM0 23h20v20H0V23zm22 0h20v20H22V23z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");background-size:80px;background-repeat:repeat;background-position:center;background-color:#f16a0c}.bienvenido-container[_ngcontent-%COMP%]{background:linear-gradient(#fff,#fffc);padding:8rem;border-radius:10px;box-shadow:0 8px 20px #00000026;max-width:600px;width:100%;text-align:center}h1[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:2.5rem;color:#343a40}h2[_ngcontent-%COMP%]{margin:2rem 0 1rem;font-size:1.8rem;color:#343a40}.acciones-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.juegos-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem}.juego[_ngcontent-%COMP%]{text-align:center}.juego-imagen[_ngcontent-%COMP%]{width:150px;height:150px;object-fit:cover;border-radius:5px;margin-bottom:.5rem}.accion-boton[_ngcontent-%COMP%]{color:#fff;border:none;padding:1rem;border-radius:5px;cursor:pointer;font-size:1rem;transition:background-color .3s,transform .2s;width:100%}.accion-boton[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.btn_quiensoy[_ngcontent-%COMP%]{background-color:#28a745}.btn_login[_ngcontent-%COMP%]{background-color:#000;color:#fff}.btn_login[_ngcontent-%COMP%]:hover{background-color:#333}.btn_registro[_ngcontent-%COMP%]{background-color:#fff;color:#000;border:1px solid #ccc}.btn_registro[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;border-color:#999}.btn_juegos[_ngcontent-%COMP%]{background-color:#ffc107}.btn_logout[_ngcontent-%COMP%]{background-color:#dc3545}.accion-boton[_ngcontent-%COMP%]:hover{opacity:.9}@media (max-width: 768px){.bienvenido-container[_ngcontent-%COMP%]{padding:4rem 2rem}h1[_ngcontent-%COMP%]{font-size:2rem}h2[_ngcontent-%COMP%]{font-size:1.5rem}.accion-boton[_ngcontent-%COMP%]{font-size:1rem;padding:1rem}}@media (max-width: 480px){.bienvenido-container[_ngcontent-%COMP%]{padding:4rem 1rem}h1[_ngcontent-%COMP%]{font-size:1.8rem}h2[_ngcontent-%COMP%]{font-size:1.3rem}.accion-boton[_ngcontent-%COMP%]{font-size:.9rem;padding:.9rem}}`]})};var Bb=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(Z(_r),Z(Pn))},e.\u0275dir=Je({type:e});let t=e;return t})(),mF=(()=>{let e=class e extends Bb{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=bo(e)))(o||e)}})(),e.\u0275dir=Je({type:e,features:[On]});let t=e;return t})(),$b=new $("");var yF={provide:$b,useExisting:ni(()=>Ho),multi:!0};function vF(){let t=Ln()?Ln().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var _F=new $(""),Ho=(()=>{let e=class e extends Bb{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!vF())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(Z(_r),Z(Pn),Z(_F,8))},e.\u0275dir=Je({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&yt("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[fa([yF]),On]});let t=e;return t})();function IF(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var cm=new $(""),Hb=new $("");function wF(t){return IF(t.value)?{required:!0}:null}function Pb(t){return null}function zb(t){return t!=null}function qb(t){return ai(t)?Pe(t):t}function Gb(t){let e={};return t.forEach(n=>{e=n!=null?k(k({},e),n):e}),Object.keys(e).length===0?null:e}function Wb(t,e){return e.map(n=>n(t))}function EF(t){return!t.validate}function Kb(t){return t.map(e=>EF(e)?e:n=>e.validate(n))}function DF(t){if(!t)return null;let e=t.filter(zb);return e.length==0?null:function(n){return Gb(Wb(n,e))}}function um(t){return t!=null?DF(Kb(t)):null}function bF(t){if(!t)return null;let e=t.filter(zb);return e.length==0?null:function(n){let r=Wb(n,e).map(qb);return bf(r).pipe(ie(Gb))}}function lm(t){return t!=null?bF(Kb(t)):null}function Ob(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function CF(t){return t._rawValidators}function TF(t){return t._rawAsyncValidators}function am(t){return t?Array.isArray(t)?t:[t]:[]}function Jl(t,e){return Array.isArray(t)?t.includes(e):t===e}function kb(t,e){let n=am(e);return am(t).forEach(i=>{Jl(n,i)||n.push(i)}),n}function Fb(t,e){return am(e).filter(n=>!Jl(t,n))}var Xl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=um(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=lm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Bo=class extends Xl{get formDirective(){return null}get path(){return null}},Ha=class extends Xl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},ed=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},SF={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},h5=ue(k({},SF),{"[class.ng-submitted]":"isSubmitted"}),id=(()=>{let e=class e extends ed{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(Z(Ha,2))},e.\u0275dir=Je({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Dl("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[On]});let t=e;return t})(),od=(()=>{let e=class e extends ed{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(Z(Bo,10))},e.\u0275dir=Je({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&Dl("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[On]});let t=e;return t})();var Va="VALID",Zl="INVALID",jo="PENDING",ja="DISABLED",$o=class{},td=class extends $o{constructor(e,n){super(),this.value=e,this.source=n}},Ba=class extends $o{constructor(e,n){super(),this.pristine=e,this.source=n}},$a=class extends $o{constructor(e,n){super(),this.touched=e,this.source=n}},Uo=class extends $o{constructor(e,n){super(),this.status=e,this.source=n}};function Qb(t){return(sd(t)?t.validators:t)||null}function AF(t){return Array.isArray(t)?um(t):t||null}function Yb(t,e){return(sd(e)?e.asyncValidators:t)||null}function MF(t){return Array.isArray(t)?lm(t):t||null}function sd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function RF(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new z(1e3,"");if(!r[n])throw new z(1001,"")}function xF(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new z(1002,"")})}var nd=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=pa(()=>this.statusReactive()),this.statusReactive=ua(void 0),this._pristine=pa(()=>this.pristineReactive()),this.pristineReactive=ua(!0),this._touched=pa(()=>this.touchedReactive()),this.touchedReactive=ua(!1),this._events=new We,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Fn(this.statusReactive)}set status(e){Fn(()=>this.statusReactive.set(e))}get valid(){return this.status===Va}get invalid(){return this.status===Zl}get pending(){return this.status==jo}get disabled(){return this.status===ja}get enabled(){return this.status!==ja}get pristine(){return Fn(this.pristineReactive)}set pristine(e){Fn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Fn(this.touchedReactive)}set touched(e){Fn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(kb(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(kb(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Fb(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Fb(e,this._rawAsyncValidators))}hasValidator(e){return Jl(this._rawValidators,e)}hasAsyncValidator(e){return Jl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ue(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new $a(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new $a(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ue(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ba(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ba(!0,r))}markAsPending(e={}){this.status=jo;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Uo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ue(k({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ja,this.errors=null,this._forEachChild(i=>{i.disable(ue(k({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new td(this.value,r)),this._events.next(new Uo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ue(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Va,this._forEachChild(r=>{r.enable(ue(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ue(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Va||this.status===jo)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new td(this.value,n)),this._events.next(new Uo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ue(k({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ja:Va}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=jo,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=qb(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Uo(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Fe,this.statusChanges=new Fe}_calculateStatus(){return this._allControlsDisabled()?ja:this.errors?Zl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(jo)?jo:this._anyControlsHaveStatus(Zl)?Zl:Va}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Ba(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new $a(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){sd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=AF(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=MF(this._rawAsyncValidators)}},rd=class extends nd{constructor(e,n,r){super(Qb(n),Yb(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){xF(this,!0,e),Object.keys(e).forEach(r=>{RF(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var dm=new $("CallSetDisabledState",{providedIn:"root",factory:()=>hm}),hm="always";function NF(t,e){return[...e.path,t]}function Zb(t,e,n=hm){Jb(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),OF(t,e),FF(t,e),kF(t,e),PF(t,e)}function Lb(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function PF(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Jb(t,e){let n=CF(t);e.validator!==null?t.setValidators(Ob(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=TF(t);e.asyncValidator!==null?t.setAsyncValidators(Ob(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Lb(e._rawValidators,i),Lb(e._rawAsyncValidators,i)}function OF(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Xb(t,e)})}function kF(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Xb(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Xb(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function FF(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function LF(t,e){t==null,Jb(t,e)}function VF(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function jF(t){return Object.getPrototypeOf(t.constructor)===mF}function UF(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function BF(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Ho?n=o:jF(o)?r=o:i=o}),i||r||n||null}var $F={provide:Bo,useExisting:ni(()=>za)},Ua=Promise.resolve(),za=(()=>{let e=class e extends Bo{get submitted(){return Fn(this.submittedReactive)}constructor(r,i,o){super(),this.callSetDisabledState=o,this._submitted=pa(()=>this.submittedReactive()),this.submittedReactive=ua(!1),this._directives=new Set,this.ngSubmit=new Fe,this.form=new rd({},um(r),lm(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Ua.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),Zb(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Ua.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Ua.then(()=>{let i=this._findContainer(r.path),o=new rd({});LF(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Ua.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Ua.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submittedReactive.set(!0),UF(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(Z(cm,10),Z(Hb,10),Z(dm,8))},e.\u0275dir=Je({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&yt("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[fa([$F]),On]});let t=e;return t})();function Vb(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function jb(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var HF=class extends nd{constructor(e=null,n,r){super(Qb(n),Yb(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),sd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(jb(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Vb(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Vb(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){jb(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var zF={provide:Ha,useExisting:ni(()=>qa)},Ub=Promise.resolve(),qa=(()=>{let e=class e extends Ha{constructor(r,i,o,s,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new HF,this._registered=!1,this.name="",this.update=new Fe,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=BF(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),VF(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Zb(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){Ub.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&Ir(i);Ub.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?NF(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(Z(Bo,9),Z(cm,10),Z(Hb,10),Z($b,10),Z(ui,8),Z(dm,8))},e.\u0275dir=Je({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[fa([zF]),On,gr]});let t=e;return t})(),ad=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Je({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var qF=(()=>{let e=class e{constructor(){this._validator=Pb}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Pb,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Je({type:e,features:[gr]});let t=e;return t})();var GF={provide:cm,useExisting:ni(()=>Ga),multi:!0};var Ga=(()=>{let e=class e extends qF{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ir,this.createValidator=r=>wF}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=bo(e)))(o||e)}})(),e.\u0275dir=Je({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&da("required",o._enabled?"":null)},inputs:{required:"required"},features:[fa([GF]),On]});let t=e;return t})();var WF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ii({type:e}),e.\u0275inj=ri({});let t=e;return t})();var cd=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:dm,useValue:r.callSetDisabledState??hm}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ii({type:e}),e.\u0275inj=ri({imports:[WF]});let t=e;return t})();var zo=class{email;password;constructor(e,n){this.email=e,this.password=n}getEmail(){return this.email}getPassword(){return this.password}};var nC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},KF=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},rC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,v=l&63;u||(v=64,s||(m=64)),r.push(n[h],n[p],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(nC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):KF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new pm;let m=o<<2|a>>4;if(r.push(m),l!==64){let v=a<<4&240|l>>2;if(r.push(v),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},pm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},QF=function(t){let e=nC(t);return rC.encodeByteArray(e,!0)},Wa=function(t){return QF(t).replace(/\./g,"")},mm=function(t){try{return rC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function YF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var ZF=()=>YF().__FIREBASE_DEFAULTS__,JF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},XF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&mm(t[1]);return e&&JSON.parse(e)},ld=()=>{try{return ZF()||JF()||XF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ym=t=>{var e,n;return(n=(e=ld())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},iC=t=>{let e=ym(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},vm=()=>{var t;return(t=ld())===null||t===void 0?void 0:t.config},_m=t=>{var e;return(e=ld())===null||e===void 0?void 0:e[`_${t}`]};var ud=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function oC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Wa(JSON.stringify(n)),Wa(JSON.stringify(s)),""].join(".")}function Qe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qe())}function eL(){var t;let e=(t=ld())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uC(){let t=Qe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function lC(){return!eL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Im(){try{return typeof indexedDB=="object"}catch{return!1}}function dC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var tL="FirebaseError",Mt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=tL,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Un.prototype.create)}},Un=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?nL(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Mt(i,a,r)}};function nL(t,e){return t.replace(rL,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var rL=/\{\$([^}]+)}/g;function hC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(tC(o)&&tC(s)){if(!mi(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function tC(t){return t!==null&&typeof t=="object"}function Ka(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function qo(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Go(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function fC(t,e){let n=new gm(t,e);return n.subscribe.bind(n)}var gm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");iL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=fm),i.error===void 0&&(i.error=fm),i.complete===void 0&&(i.complete=fm);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function iL(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function fm(){}var m5=4*60*60*1e3;function at(t){return t&&t._delegate?t._delegate:t}var Ut=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var yi="[DEFAULT]";var wm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new ud;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sL(e))try{this.getOrInitializeService({instanceIdentifier:yi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=yi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=yi){return this.instances.has(e)}getOptions(e=yi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=yi){return this.component?this.component.multipleInstances?e:yi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function oL(t){return t===yi?void 0:t}function sL(t){return t.instantiationMode==="EAGER"}var dd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new wm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var aL=[],fe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(fe||{}),cL={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},uL=fe.INFO,lL={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},dL=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=lL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},br=class{constructor(e){this.name=e,this._logLevel=uL,this._logHandler=dL,this._userLogHandler=null,aL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}};var hL=(t,e)=>e.some(n=>t instanceof n),pC,gC;function fL(){return pC||(pC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pL(){return gC||(gC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var mC=new WeakMap,Dm=new WeakMap,yC=new WeakMap,Em=new WeakMap,Cm=new WeakMap;function gL(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(dn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&mC.set(n,t)}).catch(()=>{}),Cm.set(e,t),e}function mL(t){if(Dm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Dm.set(t,e)}var bm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Dm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function vC(t){bm=t(bm)}function yL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(hd(this),e,...n);return yC.set(r,e.sort?e.sort():[e]),dn(r)}:pL().includes(t)?function(...e){return t.apply(hd(this),e),dn(mC.get(this))}:function(...e){return dn(t.apply(hd(this),e))}}function vL(t){return typeof t=="function"?yL(t):(t instanceof IDBTransaction&&mL(t),hL(t,fL())?new Proxy(t,bm):t)}function dn(t){if(t instanceof IDBRequest)return gL(t);if(Em.has(t))return Em.get(t);let e=vL(t);return e!==t&&(Em.set(t,e),Cm.set(e,t)),e}var hd=t=>Cm.get(t);function IC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=dn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(dn(s.result),u.oldVersion,u.newVersion,dn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var _L=["get","getKey","getAll","getAllKeys","count"],IL=["put","add","delete","clear"],Tm=new Map;function _C(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Tm.get(e))return Tm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=IL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||_L.includes(n)))return;let o=function(s,...a){return w(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Tm.set(e,o),o}vC(t=>ue(k({},t),{get:(e,n,r)=>_C(e,n)||t.get(e,n,r),has:(e,n)=>!!_C(e,n)||t.has(e,n)}));var Am=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wL(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function wL(t){let e=t.getComponent();return e?.type==="VERSION"}var Mm="@firebase/app",wC="0.10.10";var Bn=new br("@firebase/app"),EL="@firebase/app-compat",DL="@firebase/analytics-compat",bL="@firebase/analytics",CL="@firebase/app-check-compat",TL="@firebase/app-check",SL="@firebase/auth",AL="@firebase/auth-compat",ML="@firebase/database",RL="@firebase/database-compat",xL="@firebase/functions",NL="@firebase/functions-compat",PL="@firebase/installations",OL="@firebase/installations-compat",kL="@firebase/messaging",FL="@firebase/messaging-compat",LL="@firebase/performance",VL="@firebase/performance-compat",jL="@firebase/remote-config",UL="@firebase/remote-config-compat",BL="@firebase/storage",$L="@firebase/storage-compat",HL="@firebase/firestore",zL="@firebase/vertexai-preview",qL="@firebase/firestore-compat",GL="firebase",WL="10.13.1";var Rm="[DEFAULT]",KL={[Mm]:"fire-core",[EL]:"fire-core-compat",[bL]:"fire-analytics",[DL]:"fire-analytics-compat",[TL]:"fire-app-check",[CL]:"fire-app-check-compat",[SL]:"fire-auth",[AL]:"fire-auth-compat",[ML]:"fire-rtdb",[RL]:"fire-rtdb-compat",[xL]:"fire-fn",[NL]:"fire-fn-compat",[PL]:"fire-iid",[OL]:"fire-iid-compat",[kL]:"fire-fcm",[FL]:"fire-fcm-compat",[LL]:"fire-perf",[VL]:"fire-perf-compat",[jL]:"fire-rc",[UL]:"fire-rc-compat",[BL]:"fire-gcs",[$L]:"fire-gcs-compat",[HL]:"fire-fst",[qL]:"fire-fst-compat",[zL]:"fire-vertex","fire-js":"fire-js",[GL]:"fire-js-all"};var Qa=new Map,QL=new Map,xm=new Map;function EC(t,e){try{t.container.addComponent(e)}catch(n){Bn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Tr(t){let e=t.name;if(xm.has(e))return Bn.debug(`There were multiple attempts to register component ${e}.`),!1;xm.set(e,t);for(let n of Qa.values())EC(n,t);for(let n of QL.values())EC(n,t);return!0}function Za(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Zt(t){return t.settings!==void 0}var YL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cr=new Un("app","Firebase",YL);var Nm=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ut("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cr.create("app-deleted",{appName:this._name})}};var Sr=WL;function km(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Rm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Cr.create("bad-app-name",{appName:String(i)});if(n||(n=vm()),!n)throw Cr.create("no-options");let o=Qa.get(i);if(o){if(mi(n,o.options)&&mi(r,o.config))return o;throw Cr.create("duplicate-app",{appName:i})}let s=new dd(i);for(let u of xm.values())s.addComponent(u);let a=new Nm(n,r,s);return Qa.set(i,a),a}function Wo(t=Rm){let e=Qa.get(t);if(!e&&t===Rm&&vm())return km();if(!e)throw Cr.create("no-app",{appName:t});return e}function fd(){return Array.from(Qa.values())}function Ge(t,e,n){var r;let i=(r=KL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bn.warn(a.join(" "));return}Tr(new Ut(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var ZL="firebase-heartbeat-database",JL=1,Ya="firebase-heartbeat-store",Sm=null;function TC(){return Sm||(Sm=IC(ZL,JL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ya)}catch(n){console.warn(n)}}}}).catch(t=>{throw Cr.create("idb-open",{originalErrorMessage:t.message})})),Sm}function XL(t){return w(this,null,function*(){try{let n=(yield TC()).transaction(Ya),r=yield n.objectStore(Ya).get(SC(t));return yield n.done,r}catch(e){if(e instanceof Mt)Bn.warn(e.message);else{let n=Cr.create("idb-get",{originalErrorMessage:e?.message});Bn.warn(n.message)}}})}function DC(t,e){return w(this,null,function*(){try{let r=(yield TC()).transaction(Ya,"readwrite");yield r.objectStore(Ya).put(e,SC(t)),yield r.done}catch(n){if(n instanceof Mt)Bn.warn(n.message);else{let r=Cr.create("idb-set",{originalErrorMessage:n?.message});Bn.warn(r.message)}}})}function SC(t){return`${t.name}!${t.options.appId}`}var eV=1024,tV=30*24*60*60*1e3,Pm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Om(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=bC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=tV}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Bn.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=bC(),{heartbeatsToSend:r,unsentEntries:i}=nV(this._heartbeatsCache.heartbeats),o=Wa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Bn.warn(n),""}})}};function bC(){return new Date().toISOString().substring(0,10)}function nV(t,e=eV){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),CC(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),CC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Om=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return Im()?dC().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield XL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return DC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return DC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function CC(t){return Wa(JSON.stringify({version:2,heartbeats:t})).length}function rV(t){Tr(new Ut("platform-logger",e=>new Am(e),"PRIVATE")),Tr(new Ut("heartbeat",e=>new Pm(e),"PRIVATE")),Ge(Mm,wC,t),Ge(Mm,wC,"esm2017"),Ge("fire-js","")}rV("");var iV="firebase",oV="10.13.1";Ge(iV,oV,"app");var _i=new Mn("ANGULARFIRE2_VERSION");function gd(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ja=(t,e)=>{let n=e?[e]:fd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Qo=class{constructor(){return Ja(sV)}},sV="app-check";function Ko(){}var pd=class{zone;delegate;constructor(e,n=If){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Fm=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ko,{},Ko,Ko)),n.pipe(He({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Yo=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new pd(Zone.current)),this.insideAngular=n.run(()=>new pd(Zone.current,_f)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(se(we))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function md(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function aV(t){return md().ngZone.runOutsideAngular(()=>t())}function vi(t){return md().ngZone.run(()=>t())}function cV(t){return uV(md())(t)}function uV(t){return function(n){return n=n.lift(new Fm(t.ngZone)),n.pipe(sr(t.outsideAngular),or(t.insideAngular))}}var lV=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),vi(()=>t.apply(void 0,r))},Bt=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=vi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ko,{},Ko,Ko))),r[o]=lV(r[o],n));let i=aV(()=>t.apply(this,r));if(!e)if(i instanceof le){let o=md();return i.pipe(sr(o.outsideAngular),or(o.insideAngular))}else return vi(()=>i);return i instanceof le?i.pipe(cV):i instanceof Promise?vi(()=>new Promise((o,s)=>i.then(a=>vi(()=>o(a)),a=>vi(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:vi(()=>i)};var $n=class{constructor(e){return e}},Ii=class{constructor(){return fd()}};function dV(t){return t&&t.length===1?t[0]:new $n(Wo())}var Lm=new $("angularfire2._apps"),hV={provide:$n,useFactory:dV,deps:[[new It,Lm]]},fV={provide:Ii,deps:[[new It,Lm]]};function pV(t){return(e,n)=>{let r=n.get(yr);Ge("angularfire",_i.full,"core"),Ge("angularfire",_i.full,"app"),Ge("angular",pD.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new $n(i)}}function AC(t,...e){return un([hV,fV,{provide:Lm,useFactory:pV(t),multi:!0,deps:[we,_t,Yo,...e]}])}var MC=Bt(km,!0);function GC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var WC=GC,KC=new Un("auth","Firebase",GC());var Ed=new br("@firebase/auth");function gV(t,...e){Ed.logLevel<=fe.WARN&&Ed.warn(`Auth (${Sr}): ${t}`,...e)}function vd(t,...e){Ed.logLevel<=fe.ERROR&&Ed.error(`Auth (${Sr}): ${t}`,...e)}function fn(t,...e){throw sy(t,...e)}function wi(t,...e){return sy(t,...e)}function QC(t,e,n){let r=Object.assign(Object.assign({},WC()),{[e]:n});return new Un("auth","Firebase",r).create(e,{appName:t.name})}function qn(t){return QC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sy(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return KC.create(t,...e)}function K(t,e,...n){if(!t)throw sy(e,...n)}function Hn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw vd(e),new Error(e)}function Mr(t,e){t||Hn(e)}function Bm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function mV(){return RC()==="http:"||RC()==="https:"}function RC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function yV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mV()||aC()||"connection"in navigator)?navigator.onLine:!0}function vV(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ei=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Mr(n>e,"Short delay should be less than long delay!"),this.isMobile=sC()||cC()}get(){return yV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function ay(t,e){Mr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Dd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var _V={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var IV=new Ei(3e4,6e4);function Rr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function xr(o,s,a,u){return w(this,arguments,function*(t,e,n,r,i={}){return YC(t,i,()=>w(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Ka(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),Dd.fetch()(ZC(t,t.config.apiHost,n,p),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},l))}))})}function YC(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},_V),e);try{let i=new $m(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw yd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw yd(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw yd(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw yd(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw QC(t,h,l);fn(t,h)}}catch(i){if(i instanceof Mt)throw i;fn(t,"network-request-failed",{message:String(i)})}})}function sc(o,s,a,u){return w(this,arguments,function*(t,e,n,r,i={}){let l=yield xr(t,e,n,r,i);return"mfaPendingCredential"in l&&fn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function ZC(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?ay(t.config,i):`${t.config.apiScheme}://${i}`}function wV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var $m=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(wi(this.auth,"network-request-failed")),IV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function yd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=wi(t,e,r);return i.customData._tokenResponse=n,i}function xC(t){return t!==void 0&&t.enterprise!==void 0}var Hm=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return wV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function EV(t,e){return w(this,null,function*(){return xr(t,"GET","/v2/recaptchaConfig",Rr(t,e))})}function DV(t,e){return w(this,null,function*(){return xr(t,"POST","/v1/accounts:delete",e)})}function JC(t,e){return w(this,null,function*(){return xr(t,"POST","/v1/accounts:lookup",e)})}function Xa(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function cy(t,e=!1){return w(this,null,function*(){let n=at(t),r=yield n.getIdToken(e),i=uy(r);K(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Xa(Vm(i.auth_time)),issuedAtTime:Xa(Vm(i.iat)),expirationTime:Xa(Vm(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Vm(t){return Number(t)*1e3}function uy(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vd("JWT malformed, contained fewer than 3 sections"),null;try{let i=mm(n);return i?JSON.parse(i):(vd("Failed to decode base64 JWT payload"),null)}catch(i){return vd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function NC(t){let e=uy(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function tc(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Mt&&bV(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function bV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var zm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var nc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xa(this.lastLoginAt),this.creationTime=Xa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function bd(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield tc(t,JC(n,{idToken:r}));K(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?XC(o.providerUserInfo):[],a=CV(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new nc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function ly(t){return w(this,null,function*(){let e=at(t);yield bd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function CV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function XC(t){return t.map(e=>{var{providerId:n}=e,r=wf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function TV(t,e){return w(this,null,function*(){let n=yield YC(t,{},()=>w(this,null,function*(){let r=Ka({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=ZC(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Dd.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function SV(t,e){return w(this,null,function*(){return xr(t,"POST","/v2/accounts:revokeToken",Rr(t,e))})}var ec=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):NC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){K(e.length!==0,"internal-error");let n=NC(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield TV(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(K(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(K(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(K(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Hn("not implemented")}};function Ar(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Zo=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=wf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new nc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield tc(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return cy(this,e)}reload(){return ly(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield bd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(Zt(this.auth.app))return Promise.reject(qn(this.auth));let e=yield this.getIdToken();return yield tc(this,DV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,v=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=n.photoURL)!==null&&s!==void 0?s:void 0,x=(a=n.tenantId)!==null&&a!==void 0?a:void 0,M=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,L=(l=n.createdAt)!==null&&l!==void 0?l:void 0,H=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:G,emailVerified:ce,isAnonymous:Re,providerData:X,stsTokenManager:D}=n;K(G&&D,e,"internal-error");let y=ec.fromJSON(this.name,D);K(typeof G=="string",e,"internal-error"),Ar(p,e.name),Ar(m,e.name),K(typeof ce=="boolean",e,"internal-error"),K(typeof Re=="boolean",e,"internal-error"),Ar(v,e.name),Ar(S,e.name),Ar(x,e.name),Ar(M,e.name),Ar(L,e.name),Ar(H,e.name);let _=new t({uid:G,auth:e,email:m,emailVerified:ce,displayName:p,isAnonymous:Re,photoURL:S,phoneNumber:v,tenantId:x,stsTokenManager:y,createdAt:L,lastLoginAt:H});return X&&Array.isArray(X)&&(_.providerData=X.map(E=>Object.assign({},E))),M&&(_._redirectEventId=M),_}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new ec;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield bd(o),o})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];K(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?XC(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new ec;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new nc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var PC=new Map;function zn(t){Mr(t instanceof Function,"Expected a class definition");let e=PC.get(t);return e?(Mr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,PC.set(t,e),e)}var AV=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),qm=AV;function _d(t,e,n){return`firebase:${t}:${e}:${n}`}var Cd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=_d(this.userKey,i.apiKey,o),this.fullPersistenceKey=_d("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Zo._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(zn(qm),e,r);let i=(yield Promise.all(n.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||zn(qm),s=_d(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p=Zo._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>w(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function OC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oT(e))return"Blackberry";if(sT(e))return"Webos";if(tT(e))return"Safari";if((e.includes("chrome/")||nT(e))&&!e.includes("edge/"))return"Chrome";if(iT(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function eT(t=Qe()){return/firefox\//i.test(t)}function tT(t=Qe()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nT(t=Qe()){return/crios\//i.test(t)}function rT(t=Qe()){return/iemobile/i.test(t)}function iT(t=Qe()){return/android/i.test(t)}function oT(t=Qe()){return/blackberry/i.test(t)}function sT(t=Qe()){return/webos/i.test(t)}function dy(t=Qe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function MV(t=Qe()){var e;return dy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function RV(){return uC()&&document.documentMode===10}function aT(t=Qe()){return dy(t)||iT(t)||sT(t)||oT(t)||/windows phone/i.test(t)||rT(t)}function cT(t,e=[]){let n;switch(t){case"Browser":n=OC(Qe());break;case"Worker":n=`${OC(Qe())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Sr}/${r}`}var Gm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function xV(n){return w(this,arguments,function*(t,e={}){return xr(t,"GET","/v2/passwordPolicy",Rr(t,e))})}var NV=6,Wm=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:NV,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Km=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Td(this),this.idTokenSubscription=new Td(this),this.beforeStateQueue=new Gm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zn(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Cd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield JC(this,{idToken:e}),r=yield Zo._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(Zt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield bd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=vV()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(Zt(this.app))return Promise.reject(qn(this));let n=e?at(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return Zt(this.app)?Promise.reject(qn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Zt(this.app)?Promise.reject(qn(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(zn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield xV(this),n=new Wm(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Un("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield SV(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&zn(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=yield Cd.create(this,[zn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&gV(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function bi(t){return at(t)}var Td=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=fC(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Pd={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PV(t){Pd=t}function uT(t){return Pd.loadJS(t)}function OV(){return Pd.recaptchaEnterpriseScript}function kV(){return Pd.gapiScript}function lT(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var FV="recaptcha-enterprise",LV="NO_RECAPTCHA",Qm=class{constructor(e){this.type=FV,this.auth=bi(e)}verify(e="verify",n=!1){return w(this,null,function*(){function r(o){return w(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>w(this,null,function*(){EV(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Hm(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;xC(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(LV)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&xC(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=OV();u.length!==0&&(u+=a),uT(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function kC(t,e,n,r=!1){return w(this,null,function*(){let i=new Qm(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function Ym(t,e,n,r){return w(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield kC(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>w(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield kC(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function hy(t,e){let n=Za(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(mi(o,e??{}))return i;fn(i,"already-initialized")}return n.initialize({options:e})}function VV(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(zn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function fy(t,e,n){let r=bi(t);K(r._canInitEmulator,r,"emulator-config-failed"),K(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=dT(e),{host:s,port:a}=jV(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||UV()}function dT(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function jV(t){let e=dT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:FC(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:FC(s)}}}function FC(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function UV(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var rc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hn("not implemented")}_getIdTokenResponse(e){return Hn("not implemented")}_linkToIdToken(e,n){return Hn("not implemented")}_getReauthenticationResolver(e){return Hn("not implemented")}};function BV(t,e){return w(this,null,function*(){return xr(t,"POST","/v1/accounts:signUp",e)})}function $V(t,e){return w(this,null,function*(){return sc(t,"POST","/v1/accounts:signInWithPassword",Rr(t,e))})}function HV(t,e){return w(this,null,function*(){return sc(t,"POST","/v1/accounts:signInWithEmailLink",Rr(t,e))})}function zV(t,e){return w(this,null,function*(){return sc(t,"POST","/v1/accounts:signInWithEmailLink",Rr(t,e))})}var ic=class t extends rc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ym(e,n,"signInWithPassword",$V);case"emailLink":return HV(e,{email:this._email,oobCode:this._password});default:fn(e,"internal-error")}})}_linkToIdToken(e,n){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ym(e,r,"signUpPassword",BV);case"emailLink":return zV(e,{idToken:n,email:this._email,oobCode:this._password});default:fn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function jm(t,e){return w(this,null,function*(){return sc(t,"POST","/v1/accounts:signInWithIdp",Rr(t,e))})}function qV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function GV(t){let e=qo(Go(t)).link,n=e?qo(Go(e)).deep_link_id:null,r=qo(Go(t)).deep_link_id;return(r?qo(Go(r)).link:null)||r||n||e||t}var Sd=class t{constructor(e){var n,r,i,o,s,a;let u=qo(Go(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=qV((i=u.mode)!==null&&i!==void 0?i:null);K(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=GV(e);try{return new t(n)}catch{return null}}};var hT=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return ic._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Sd.parseLink(r);return K(i,"argument-error"),ic._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Ad=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Zm=class extends Ad{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function WV(t,e){return w(this,null,function*(){return sc(t,"POST","/v1/accounts:signUp",Rr(t,e))})}var Jo=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let o=yield Zo._fromIdTokenResponse(e,r,i),s=LC(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=LC(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function LC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Jm=class t extends Mt{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function fT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Jm._fromErrorAndOperation(t,o,e,r):o})}function KV(t,e,n=!1){return w(this,null,function*(){let r=yield tc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Jo._forOperation(t,"link",r)})}function QV(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if(Zt(r.app))return Promise.reject(qn(r));let i="reauthenticate";try{let o=yield tc(t,fT(r,i,e,t),n);K(o.idToken,r,"internal-error");let s=uy(o.idToken);K(s,r,"internal-error");let{sub:a}=s;return K(t.uid===a,r,"user-mismatch"),Jo._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&fn(r,"user-mismatch"),o}})}function pT(t,e,n=!1){return w(this,null,function*(){if(Zt(t.app))return Promise.reject(qn(t));let r="signIn",i=yield fT(t,r,e),o=yield Jo._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function py(t,e){return w(this,null,function*(){return pT(bi(t),e)})}function gT(t){return w(this,null,function*(){let e=bi(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function gy(t,e,n){return w(this,null,function*(){if(Zt(t.app))return Promise.reject(qn(t));let r=bi(t),s=yield Ym(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",WV).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&gT(t),u}),a=yield Jo._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function my(t,e,n){return Zt(t.app)?Promise.reject(qn(t)):py(at(t),hT.credential(e,n)).catch(r=>w(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&gT(t),r}))}function yy(t,e,n,r){return at(t).onIdTokenChanged(e,n,r)}function vy(t,e,n){return at(t).beforeAuthStateChanged(e,n)}var Md="__sak";var Rd=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Md,"1"),this.storage.removeItem(Md),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var YV=1e3,ZV=10,JV=(()=>{class t extends Rd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aT(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);RV()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,ZV):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},YV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield rr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield rr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield rr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),mT=JV;var XV=(()=>{class t extends Rd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),_y=XV;function e2(t){return Promise.all(t.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var t2=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>w(this,null,function*(){return h(r.origin,s)})),l=yield e2(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function yT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Xm=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=yT("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function hn(){return window}function n2(t){hn().location.href=t}function vT(){return typeof hn().WorkerGlobalScope<"u"&&typeof hn().importScripts=="function"}function r2(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function i2(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function o2(){return vT()?self:null}var _T="firebaseLocalStorageDb",s2=1,xd="firebaseLocalStorage",IT="fbase_key",Di=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Od(t,e){return t.transaction([xd],e?"readwrite":"readonly").objectStore(xd)}function a2(){let t=indexedDB.deleteDatabase(_T);return new Di(t).toPromise()}function ey(){let t=indexedDB.open(_T,s2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(xd,{keyPath:IT})}catch(i){n(i)}}),t.addEventListener("success",()=>w(this,null,function*(){let r=t.result;r.objectStoreNames.contains(xd)?e(r):(r.close(),yield a2(),e(yield ey()))}))})}function VC(t,e,n){return w(this,null,function*(){let r=Od(t,!0).put({[IT]:e,value:n});return new Di(r).toPromise()})}function c2(t,e){return w(this,null,function*(){let n=Od(t,!1).get(e),r=yield new Di(n).toPromise();return r===void 0?null:r.value})}function jC(t,e){let n=Od(t,!0).delete(e);return new Di(n).toPromise()}var u2=800,l2=3,d2=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield ey(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>l2)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return vT()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=t2._getInstance(o2()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield r2(),!this.activeServiceWorker)return;this.sender=new Xm(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||i2()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield ey();return yield VC(n,Md,"1"),yield jC(n,Md),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>VC(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>c2(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>jC(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(o=>{let s=Od(o,!1).getAll();return new Di(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),u2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),wT=d2;var u9=lT("rcb"),l9=new Ei(3e4,6e4);function h2(t,e){return e?zn(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var oc=class extends rc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return jm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return jm(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function f2(t){return pT(t.auth,new oc(t),t.bypassAuthState)}function p2(t){let{auth:e,user:n}=t;return K(n,e,"internal-error"),QV(n,new oc(t),t.bypassAuthState)}function g2(t){return w(this,null,function*(){let{auth:e,user:n}=t;return K(n,e,"internal-error"),KV(n,new oc(t),t.bypassAuthState)})}var ty=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return f2;case"linkViaPopup":case"linkViaRedirect":return g2;case"reauthViaPopup":case"reauthViaRedirect":return p2;default:fn(this.auth,"internal-error")}}resolve(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var d9=new Ei(2e3,1e4);var m2="pendingRedirect",Id=new Map,ny=class t extends ty{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=Id.get(this.auth._key());if(!e){try{let r=(yield y2(this.resolver,this.auth))?yield rr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Id.set(this.auth._key(),e)}return this.bypassAuthState||Id.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return rr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,rr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function y2(t,e){return w(this,null,function*(){let n=I2(e),r=_2(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function v2(t,e){Id.set(t._key(),e)}function _2(t){return zn(t._redirectPersistence)}function I2(t){return _d(m2,t.config.apiKey,t.name)}function w2(t,e,n=!1){return w(this,null,function*(){if(Zt(t.app))return Promise.reject(qn(t));let r=bi(t),i=h2(r,e),s=yield new ny(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var E2=10*60*1e3,ry=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!D2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ET(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(wi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=E2&&this.cachedEventUids.clear(),this.cachedEventUids.has(UC(e))}saveEventToCache(e){this.cachedEventUids.add(UC(e)),this.lastProcessedEventTime=Date.now()}};function UC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ET({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function D2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ET(t);default:return!1}}function b2(n){return w(this,arguments,function*(t,e={}){return xr(t,"GET","/v1/projects",e)})}var C2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,T2=/^https?/;function S2(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield b2(t);for(let n of e)try{if(A2(n))return}catch{}fn(t,"unauthorized-domain")})}function A2(t){let e=Bm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!T2.test(n))return!1;if(C2.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var M2=new Ei(3e4,6e4);function BC(){let t=hn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function R2(t){return new Promise((e,n)=>{var r,i,o;function s(){BC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{BC(),n(wi(t,"network-request-failed"))},timeout:M2.get()})}if(!((i=(r=hn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=hn().gapi)===null||o===void 0)&&o.load)s();else{let a=lT("iframefcb");return hn()[a]=()=>{gapi.load?s():n(wi(t,"network-request-failed"))},uT(`${kV()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw wd=null,e})}var wd=null;function x2(t){return wd=wd||R2(t),wd}var N2=new Ei(5e3,15e3),P2="__/auth/iframe",O2="emulator/auth/iframe",k2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},F2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function L2(t){let e=t.config;K(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?ay(e,O2):`https://${t.config.authDomain}/${P2}`,r={apiKey:e.apiKey,appName:t.name,v:Sr},i=F2.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ka(r).slice(1)}`}function V2(t){return w(this,null,function*(){let e=yield x2(t),n=hn().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:L2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:k2,dontclear:!0},r=>new Promise((i,o)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=wi(t,"network-request-failed"),a=hn().setTimeout(()=>{o(s)},N2.get());function u(){hn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var j2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},U2=500,B2=600,$2="_blank",H2="http://localhost",Nd=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function z2(t,e,n,r=U2,i=B2){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},j2),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Qe().toLowerCase();n&&(a=nT(l)?$2:n),eT(l)&&(e=e||H2,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[v,S])=>`${m}${v}=${S},`,"");if(MV(l)&&a!=="_self")return q2(e||"",a),new Nd(null);let p=window.open(e||"",a,h);K(p,t,"popup-blocked");try{p.focus()}catch{}return new Nd(p)}function q2(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var G2="__/auth/handler",W2="emulator/auth/handler",K2=encodeURIComponent("fac");function $C(t,e,n,r,i,o){return w(this,null,function*(){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Sr,eventId:i};if(e instanceof Ad){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",hC(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof Zm){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${K2}=${encodeURIComponent(u)}`:"";return`${Q2(t)}?${Ka(a).slice(1)}${l}`})}function Q2({config:t}){return t.emulator?ay(t,W2):`https://${t.authDomain}/${G2}`}var Um="webStorageSupport",iy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_y,this._completeRedirectFn=w2,this._overrideRedirectResult=v2}_openPopup(e,n,r,i){return w(this,null,function*(){var o;Mr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield $C(e,n,r,Bm(),i);return z2(e,s,yT())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let o=yield $C(e,n,r,Bm(),i);return n2(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Mr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield V2(e),r=new ry(e);return n.register("authEvent",i=>(K(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Um,{type:Um},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Um];s!==void 0&&n(!!s),fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=S2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return aT()||tT()||dy()}},DT=iy;var HC="@firebase/auth",zC="1.7.8";var oy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Y2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Z2(t){Tr(new Ut("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;K(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cT(t)},l=new Km(r,i,o,u);return VV(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Tr(new Ut("auth-internal",e=>{let n=bi(e.getProvider("auth").getImmediate());return(r=>new oy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ge(HC,zC,Y2(t)),Ge(HC,zC,"esm2017")}var J2=5*60,X2=_m("authIdTokenMaxAge")||J2,qC=null,ej=t=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>X2)return;let i=n?.token;qC!==i&&(qC=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Iy(t=Wo()){let e=Za(t,"auth");if(e.isInitialized())return e.getImmediate();let n=hy(t,{popupRedirectResolver:DT,persistence:[wT,mT,_y]}),r=_m("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=ej(o.toString());vy(n,s,()=>s(n.currentUser)),yy(n,a=>s(a))}}let i=ym("auth");return i&&fy(n,`http://${i}`),n}function tj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}PV({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=wi("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",tj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Z2("Browser");var bT="auth",Gn=class{constructor(e){return e}},ac=class{constructor(){return Ja(bT)}};var wy=new $("angularfire2.auth-instances");function Gj(t,e){let n=gd(bT,t,e);return n&&new Gn(n)}function Wj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Gn(r)}}var Kj={provide:ac,deps:[[new It,wy]]},Qj={provide:Gn,useFactory:Gj,deps:[[new It,wy],$n]};function CT(t,...e){return Ge("angularfire",_i.full,"auth"),un([Qj,Kj,{provide:wy,useFactory:Wj(t),multi:!0,deps:[we,_t,Yo,Ii,[new It,Qo],...e]}])}var TT=Bt(gy,!0);var ST=Bt(Iy,!0);var AT=Bt(my,!0);var RT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xT={};var Nr,Ey;(function(){var t;function e(D,y){function _(){}_.prototype=y.prototype,D.D=y.prototype,D.prototype=new _,D.prototype.constructor=D,D.C=function(E,b,T){for(var I=Array(arguments.length-2),In=2;In<arguments.length;In++)I[In-2]=arguments[In];return y.prototype[b].apply(E,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,y,_){_||(_=0);var E=Array(16);if(typeof y=="string")for(var b=0;16>b;++b)E[b]=y.charCodeAt(_++)|y.charCodeAt(_++)<<8|y.charCodeAt(_++)<<16|y.charCodeAt(_++)<<24;else for(b=0;16>b;++b)E[b]=y[_++]|y[_++]<<8|y[_++]<<16|y[_++]<<24;y=D.g[0],_=D.g[1],b=D.g[2];var T=D.g[3],I=y+(T^_&(b^T))+E[0]+3614090360&4294967295;y=_+(I<<7&4294967295|I>>>25),I=T+(b^y&(_^b))+E[1]+3905402710&4294967295,T=y+(I<<12&4294967295|I>>>20),I=b+(_^T&(y^_))+E[2]+606105819&4294967295,b=T+(I<<17&4294967295|I>>>15),I=_+(y^b&(T^y))+E[3]+3250441966&4294967295,_=b+(I<<22&4294967295|I>>>10),I=y+(T^_&(b^T))+E[4]+4118548399&4294967295,y=_+(I<<7&4294967295|I>>>25),I=T+(b^y&(_^b))+E[5]+1200080426&4294967295,T=y+(I<<12&4294967295|I>>>20),I=b+(_^T&(y^_))+E[6]+2821735955&4294967295,b=T+(I<<17&4294967295|I>>>15),I=_+(y^b&(T^y))+E[7]+4249261313&4294967295,_=b+(I<<22&4294967295|I>>>10),I=y+(T^_&(b^T))+E[8]+1770035416&4294967295,y=_+(I<<7&4294967295|I>>>25),I=T+(b^y&(_^b))+E[9]+2336552879&4294967295,T=y+(I<<12&4294967295|I>>>20),I=b+(_^T&(y^_))+E[10]+4294925233&4294967295,b=T+(I<<17&4294967295|I>>>15),I=_+(y^b&(T^y))+E[11]+2304563134&4294967295,_=b+(I<<22&4294967295|I>>>10),I=y+(T^_&(b^T))+E[12]+1804603682&4294967295,y=_+(I<<7&4294967295|I>>>25),I=T+(b^y&(_^b))+E[13]+4254626195&4294967295,T=y+(I<<12&4294967295|I>>>20),I=b+(_^T&(y^_))+E[14]+2792965006&4294967295,b=T+(I<<17&4294967295|I>>>15),I=_+(y^b&(T^y))+E[15]+1236535329&4294967295,_=b+(I<<22&4294967295|I>>>10),I=y+(b^T&(_^b))+E[1]+4129170786&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^b&(y^_))+E[6]+3225465664&4294967295,T=y+(I<<9&4294967295|I>>>23),I=b+(y^_&(T^y))+E[11]+643717713&4294967295,b=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(b^T))+E[0]+3921069994&4294967295,_=b+(I<<20&4294967295|I>>>12),I=y+(b^T&(_^b))+E[5]+3593408605&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^b&(y^_))+E[10]+38016083&4294967295,T=y+(I<<9&4294967295|I>>>23),I=b+(y^_&(T^y))+E[15]+3634488961&4294967295,b=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(b^T))+E[4]+3889429448&4294967295,_=b+(I<<20&4294967295|I>>>12),I=y+(b^T&(_^b))+E[9]+568446438&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^b&(y^_))+E[14]+3275163606&4294967295,T=y+(I<<9&4294967295|I>>>23),I=b+(y^_&(T^y))+E[3]+4107603335&4294967295,b=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(b^T))+E[8]+1163531501&4294967295,_=b+(I<<20&4294967295|I>>>12),I=y+(b^T&(_^b))+E[13]+2850285829&4294967295,y=_+(I<<5&4294967295|I>>>27),I=T+(_^b&(y^_))+E[2]+4243563512&4294967295,T=y+(I<<9&4294967295|I>>>23),I=b+(y^_&(T^y))+E[7]+1735328473&4294967295,b=T+(I<<14&4294967295|I>>>18),I=_+(T^y&(b^T))+E[12]+2368359562&4294967295,_=b+(I<<20&4294967295|I>>>12),I=y+(_^b^T)+E[5]+4294588738&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^b)+E[8]+2272392833&4294967295,T=y+(I<<11&4294967295|I>>>21),I=b+(T^y^_)+E[11]+1839030562&4294967295,b=T+(I<<16&4294967295|I>>>16),I=_+(b^T^y)+E[14]+4259657740&4294967295,_=b+(I<<23&4294967295|I>>>9),I=y+(_^b^T)+E[1]+2763975236&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^b)+E[4]+1272893353&4294967295,T=y+(I<<11&4294967295|I>>>21),I=b+(T^y^_)+E[7]+4139469664&4294967295,b=T+(I<<16&4294967295|I>>>16),I=_+(b^T^y)+E[10]+3200236656&4294967295,_=b+(I<<23&4294967295|I>>>9),I=y+(_^b^T)+E[13]+681279174&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^b)+E[0]+3936430074&4294967295,T=y+(I<<11&4294967295|I>>>21),I=b+(T^y^_)+E[3]+3572445317&4294967295,b=T+(I<<16&4294967295|I>>>16),I=_+(b^T^y)+E[6]+76029189&4294967295,_=b+(I<<23&4294967295|I>>>9),I=y+(_^b^T)+E[9]+3654602809&4294967295,y=_+(I<<4&4294967295|I>>>28),I=T+(y^_^b)+E[12]+3873151461&4294967295,T=y+(I<<11&4294967295|I>>>21),I=b+(T^y^_)+E[15]+530742520&4294967295,b=T+(I<<16&4294967295|I>>>16),I=_+(b^T^y)+E[2]+3299628645&4294967295,_=b+(I<<23&4294967295|I>>>9),I=y+(b^(_|~T))+E[0]+4096336452&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~b))+E[7]+1126891415&4294967295,T=y+(I<<10&4294967295|I>>>22),I=b+(y^(T|~_))+E[14]+2878612391&4294967295,b=T+(I<<15&4294967295|I>>>17),I=_+(T^(b|~y))+E[5]+4237533241&4294967295,_=b+(I<<21&4294967295|I>>>11),I=y+(b^(_|~T))+E[12]+1700485571&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~b))+E[3]+2399980690&4294967295,T=y+(I<<10&4294967295|I>>>22),I=b+(y^(T|~_))+E[10]+4293915773&4294967295,b=T+(I<<15&4294967295|I>>>17),I=_+(T^(b|~y))+E[1]+2240044497&4294967295,_=b+(I<<21&4294967295|I>>>11),I=y+(b^(_|~T))+E[8]+1873313359&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~b))+E[15]+4264355552&4294967295,T=y+(I<<10&4294967295|I>>>22),I=b+(y^(T|~_))+E[6]+2734768916&4294967295,b=T+(I<<15&4294967295|I>>>17),I=_+(T^(b|~y))+E[13]+1309151649&4294967295,_=b+(I<<21&4294967295|I>>>11),I=y+(b^(_|~T))+E[4]+4149444226&4294967295,y=_+(I<<6&4294967295|I>>>26),I=T+(_^(y|~b))+E[11]+3174756917&4294967295,T=y+(I<<10&4294967295|I>>>22),I=b+(y^(T|~_))+E[2]+718787259&4294967295,b=T+(I<<15&4294967295|I>>>17),I=_+(T^(b|~y))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+y&4294967295,D.g[1]=D.g[1]+(b+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+b&4294967295,D.g[3]=D.g[3]+T&4294967295}r.prototype.u=function(D,y){y===void 0&&(y=D.length);for(var _=y-this.blockSize,E=this.B,b=this.h,T=0;T<y;){if(b==0)for(;T<=_;)i(this,D,T),T+=this.blockSize;if(typeof D=="string"){for(;T<y;)if(E[b++]=D.charCodeAt(T++),b==this.blockSize){i(this,E),b=0;break}}else for(;T<y;)if(E[b++]=D[T++],b==this.blockSize){i(this,E),b=0;break}}this.h=b,this.o+=y},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var y=1;y<D.length-8;++y)D[y]=0;var _=8*this.o;for(y=D.length-8;y<D.length;++y)D[y]=_&255,_/=256;for(this.u(D),D=Array(16),y=_=0;4>y;++y)for(var E=0;32>E;E+=8)D[_++]=this.g[y]>>>E&255;return D};function o(D,y){var _=a;return Object.prototype.hasOwnProperty.call(_,D)?_[D]:_[D]=y(D)}function s(D,y){this.h=y;for(var _=[],E=!0,b=D.length-1;0<=b;b--){var T=D[b]|0;E&&T==y||(_[b]=T,E=!1)}this.g=_}var a={};function u(D){return-128<=D&&128>D?o(D,function(y){return new s([y|0],0>y?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return M(l(-D));for(var y=[],_=1,E=0;D>=_;E++)y[E]=D/_|0,_*=4294967296;return new s(y,0)}function h(D,y){if(D.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(D.charAt(0)=="-")return M(h(D.substring(1),y));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(y,8)),E=p,b=0;b<D.length;b+=8){var T=Math.min(8,D.length-b),I=parseInt(D.substring(b,b+T),y);8>T?(T=l(Math.pow(y,T)),E=E.j(T).add(l(I))):(E=E.j(_),E=E.add(l(I)))}return E}var p=u(0),m=u(1),v=u(16777216);t=s.prototype,t.m=function(){if(x(this))return-M(this).m();for(var D=0,y=1,_=0;_<this.g.length;_++){var E=this.i(_);D+=(0<=E?E:4294967296+E)*y,y*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(x(this))return"-"+M(this).toString(D);for(var y=l(Math.pow(D,6)),_=this,E="";;){var b=ce(_,y).g;_=L(_,b.j(y));var T=((0<_.g.length?_.g[0]:_.h)>>>0).toString(D);if(_=b,S(_))return T+E;for(;6>T.length;)T="0"+T;E=T+E}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var y=0;y<D.g.length;y++)if(D.g[y]!=0)return!1;return!0}function x(D){return D.h==-1}t.l=function(D){return D=L(this,D),x(D)?-1:S(D)?0:1};function M(D){for(var y=D.g.length,_=[],E=0;E<y;E++)_[E]=~D.g[E];return new s(_,~D.h).add(m)}t.abs=function(){return x(this)?M(this):this},t.add=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0,b=0;b<=y;b++){var T=E+(this.i(b)&65535)+(D.i(b)&65535),I=(T>>>16)+(this.i(b)>>>16)+(D.i(b)>>>16);E=I>>>16,T&=65535,I&=65535,_[b]=I<<16|T}return new s(_,_[_.length-1]&-2147483648?-1:0)};function L(D,y){return D.add(M(y))}t.j=function(D){if(S(this)||S(D))return p;if(x(this))return x(D)?M(this).j(M(D)):M(M(this).j(D));if(x(D))return M(this.j(M(D)));if(0>this.l(v)&&0>D.l(v))return l(this.m()*D.m());for(var y=this.g.length+D.g.length,_=[],E=0;E<2*y;E++)_[E]=0;for(E=0;E<this.g.length;E++)for(var b=0;b<D.g.length;b++){var T=this.i(E)>>>16,I=this.i(E)&65535,In=D.i(b)>>>16,Ds=D.i(b)&65535;_[2*E+2*b]+=I*Ds,H(_,2*E+2*b),_[2*E+2*b+1]+=T*Ds,H(_,2*E+2*b+1),_[2*E+2*b+1]+=I*In,H(_,2*E+2*b+1),_[2*E+2*b+2]+=T*In,H(_,2*E+2*b+2)}for(E=0;E<y;E++)_[E]=_[2*E+1]<<16|_[2*E];for(E=y;E<2*y;E++)_[E]=0;return new s(_,0)};function H(D,y){for(;(D[y]&65535)!=D[y];)D[y+1]+=D[y]>>>16,D[y]&=65535,y++}function G(D,y){this.g=D,this.h=y}function ce(D,y){if(S(y))throw Error("division by zero");if(S(D))return new G(p,p);if(x(D))return y=ce(M(D),y),new G(M(y.g),M(y.h));if(x(y))return y=ce(D,M(y)),new G(M(y.g),y.h);if(30<D.g.length){if(x(D)||x(y))throw Error("slowDivide_ only works with positive integers.");for(var _=m,E=y;0>=E.l(D);)_=Re(_),E=Re(E);var b=X(_,1),T=X(E,1);for(E=X(E,2),_=X(_,2);!S(E);){var I=T.add(E);0>=I.l(D)&&(b=b.add(_),T=I),E=X(E,1),_=X(_,1)}return y=L(D,b.j(y)),new G(b,y)}for(b=p;0<=D.l(y);){for(_=Math.max(1,Math.floor(D.m()/y.m())),E=Math.ceil(Math.log(_)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),T=l(_),I=T.j(y);x(I)||0<I.l(D);)_-=E,T=l(_),I=T.j(y);S(T)&&(T=m),b=b.add(T),D=L(D,I)}return new G(b,D)}t.A=function(D){return ce(this,D).h},t.and=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)&D.i(E);return new s(_,this.h&D.h)},t.or=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)|D.i(E);return new s(_,this.h|D.h)},t.xor=function(D){for(var y=Math.max(this.g.length,D.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)^D.i(E);return new s(_,this.h^D.h)};function Re(D){for(var y=D.g.length+1,_=[],E=0;E<y;E++)_[E]=D.i(E)<<1|D.i(E-1)>>>31;return new s(_,D.h)}function X(D,y){var _=y>>5;y%=32;for(var E=D.g.length-_,b=[],T=0;T<E;T++)b[T]=0<y?D.i(T+_)>>>y|D.i(T+_+1)<<32-y:D.i(T+_);return new s(b,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ey=xT.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Nr=xT.Integer=s}).apply(typeof RT<"u"?RT:typeof self<"u"?self:typeof window<"u"?window:{});var kd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Wn={};var Dy,by,Xo,Cy,cc,Fd,Ty,Sy,Ay;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof kd=="object"&&kd];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var C=c[g];if(!(C in f))break e;f=f[C]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,C={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function v(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,C,A){for(var P=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)P[Ee-2]=arguments[Ee];return d.prototype[C].apply(g,P)}}function x(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function M(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let C=c.length||0,A=g.length||0;c.length=C+A;for(let P=0;P<A;P++)c[C+P]=g[P]}else c.push(g)}}class L{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function H(c){return/^[\s\xa0]*$/.test(c)}function G(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ce(c){return ce[" "](c),c}ce[" "]=function(){};var Re=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function X(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function y(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let f,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(f in g)c[f]=g[f];for(let A=0;A<_.length;A++)f=_[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function b(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function T(c){a.setTimeout(()=>{throw c},0)}function I(){var c=xh;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class In{constructor(){this.h=this.g=null}add(d,f){let g=Ds.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Ds=new L(()=>new FA,c=>c.reset());class FA{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let bs,Cs=!1,xh=new In,F_=()=>{let c=a.Promise.resolve(void 0);bs=()=>{c.then(LA)}};var LA=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){T(f)}var d=Ds;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Cs=!1};function Xn(){this.s=this.s,this.C=this.C}Xn.prototype.s=!1,Xn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Xn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var VA=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Ts(c,d){if(tt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Re){e:{try{ce(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:jA[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ts.aa.h.call(this)}}S(Ts,tt);var jA={2:"touch",3:"pen",4:"mouse"};Ts.prototype.h=function(){Ts.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ss="closure_listenable_"+(1e6*Math.random()|0),UA=0;function BA(c,d,f,g,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=C,this.key=++UA,this.da=this.fa=!1}function Nc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Pc(c){this.src=c,this.g={},this.h=0}Pc.prototype.add=function(c,d,f,g,C){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var P=Ph(c,d,g,C);return-1<P?(d=c[P],f||(d.fa=!1)):(d=new BA(d,this.src,A,!!g,C),d.fa=f,c.push(d)),d};function Nh(c,d){var f=d.type;if(f in c.g){var g=c.g[f],C=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=C)&&Array.prototype.splice.call(g,C,1),A&&(Nc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Ph(c,d,f,g){for(var C=0;C<c.length;++C){var A=c[C];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return C}return-1}var Oh="closure_lm_"+(1e6*Math.random()|0),kh={};function L_(c,d,f,g,C){if(g&&g.once)return j_(c,d,f,g,C);if(Array.isArray(d)){for(var A=0;A<d.length;A++)L_(c,d[A],f,g,C);return null}return f=jh(f),c&&c[Ss]?c.K(d,f,l(g)?!!g.capture:!!g,C):V_(c,d,f,!1,g,C)}function V_(c,d,f,g,C,A){if(!d)throw Error("Invalid event type");var P=l(C)?!!C.capture:!!C,Ee=Lh(c);if(Ee||(c[Oh]=Ee=new Pc(c)),f=Ee.add(d,f,g,P,A),f.proxy)return f;if(g=$A(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)VA||(C=P),C===void 0&&(C=!1),c.addEventListener(d.toString(),g,C);else if(c.attachEvent)c.attachEvent(B_(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function $A(){function c(f){return d.call(c.src,c.listener,f)}let d=HA;return c}function j_(c,d,f,g,C){if(Array.isArray(d)){for(var A=0;A<d.length;A++)j_(c,d[A],f,g,C);return null}return f=jh(f),c&&c[Ss]?c.L(d,f,l(g)?!!g.capture:!!g,C):V_(c,d,f,!0,g,C)}function U_(c,d,f,g,C){if(Array.isArray(d))for(var A=0;A<d.length;A++)U_(c,d[A],f,g,C);else g=l(g)?!!g.capture:!!g,f=jh(f),c&&c[Ss]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=Ph(A,f,g,C),-1<f&&(Nc(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=Lh(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Ph(d,f,g,C)),(f=-1<c?d[c]:null)&&Fh(f))}function Fh(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Ss])Nh(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(B_(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Lh(d))?(Nh(f,c),f.h==0&&(f.src=null,d[Oh]=null)):Nc(c)}}}function B_(c){return c in kh?kh[c]:kh[c]="on"+c}function HA(c,d){if(c.da)c=!0;else{d=new Ts(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Fh(c),c=f.call(g,d)}return c}function Lh(c){return c=c[Oh],c instanceof Pc?c:null}var Vh="__closure_events_fn_"+(1e9*Math.random()>>>0);function jh(c){return typeof c=="function"?c:(c[Vh]||(c[Vh]=function(d){return c.handleEvent(d)}),c[Vh])}function nt(){Xn.call(this),this.i=new Pc(this),this.M=this,this.F=null}S(nt,Xn),nt.prototype[Ss]=!0,nt.prototype.removeEventListener=function(c,d,f,g){U_(this,c,d,f,g)};function dt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new tt(d,c);else if(d instanceof tt)d.target=d.target||c;else{var C=d;d=new tt(g,c),E(d,C)}if(C=!0,f)for(var A=f.length-1;0<=A;A--){var P=d.g=f[A];C=Oc(P,g,!0,d)&&C}if(P=d.g=c,C=Oc(P,g,!0,d)&&C,C=Oc(P,g,!1,d)&&C,f)for(A=0;A<f.length;A++)P=d.g=f[A],C=Oc(P,g,!1,d)&&C}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Nc(f[g]);delete c.g[d],c.h--}}this.F=null},nt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},nt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Oc(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,A=0;A<d.length;++A){var P=d[A];if(P&&!P.da&&P.capture==f){var Ee=P.listener,Ze=P.ha||P.src;P.fa&&Nh(c.i,P),C=Ee.call(Ze,g)!==!1&&C}}return C&&!g.defaultPrevented}function $_(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function H_(c){c.g=$_(()=>{c.g=null,c.i&&(c.i=!1,H_(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class zA extends Xn{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:H_(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function As(c){Xn.call(this),this.h=c,this.g={}}S(As,Xn);var z_=[];function q_(c){X(c.g,function(d,f){this.g.hasOwnProperty(f)&&Fh(d)},c),c.g={}}As.prototype.N=function(){As.aa.N.call(this),q_(this)},As.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Uh=a.JSON.stringify,qA=a.JSON.parse,GA=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Bh(){}Bh.prototype.h=null;function G_(c){return c.h||(c.h=c.i())}function W_(){}var Ms={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $h(){tt.call(this,"d")}S($h,tt);function Hh(){tt.call(this,"c")}S(Hh,tt);var Lr={},K_=null;function kc(){return K_=K_||new nt}Lr.La="serverreachability";function Q_(c){tt.call(this,Lr.La,c)}S(Q_,tt);function Rs(c){let d=kc();dt(d,new Q_(d))}Lr.STAT_EVENT="statevent";function Y_(c,d){tt.call(this,Lr.STAT_EVENT,c),this.stat=d}S(Y_,tt);function ht(c){let d=kc();dt(d,new Y_(d,c))}Lr.Ma="timingevent";function Z_(c,d){tt.call(this,Lr.Ma,c),this.size=d}S(Z_,tt);function xs(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Ns(){this.g=!0}Ns.prototype.xa=function(){this.g=!1};function WA(c,d,f,g,C,A){c.info(function(){if(c.g)if(A)for(var P="",Ee=A.split("&"),Ze=0;Ze<Ee.length;Ze++){var ve=Ee[Ze].split("=");if(1<ve.length){var rt=ve[0];ve=ve[1];var it=rt.split("_");P=2<=it.length&&it[1]=="type"?P+(rt+"="+ve+"&"):P+(rt+"=redacted&")}}else P=null;else P=A;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+f+`
`+P})}function KA(c,d,f,g,C,A,P){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+f+`
`+A+" "+P})}function Vi(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+YA(c,f)+(g?" "+g:"")})}function QA(c,d){c.info(function(){return"TIMEOUT: "+d})}Ns.prototype.info=function(){};function YA(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var A=C[0];if(A!="noop"&&A!="stop"&&A!="close")for(var P=1;P<C.length;P++)C[P]=""}}}}return Uh(f)}catch{return d}}var Fc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},J_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zh;function Lc(){}S(Lc,Bh),Lc.prototype.g=function(){return new XMLHttpRequest},Lc.prototype.i=function(){return{}},zh=new Lc;function er(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new As(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new X_}function X_(){this.i=null,this.g="",this.h=!1}var eI={},qh={};function Gh(c,d,f){c.L=1,c.v=Bc(wn(d)),c.m=f,c.P=!0,tI(c,null)}function tI(c,d){c.F=Date.now(),Vc(c),c.A=wn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),gI(f.i,"t",g),c.C=0,f=c.j.J,c.h=new X_,c.g=PI(c.j,f?d:null,!c.m),0<c.O&&(c.M=new zA(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(z_[0]=C.toString()),C=z_);for(var A=0;A<C.length;A++){var P=L_(f,C[A],g||d.handleEvent,!1,d.h||d);if(!P)break;d.g[P.key]=P}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Rs(),WA(c.i,c.u,c.A,c.l,c.R,c.m)}er.prototype.ca=function(c){c=c.target;let d=this.M;d&&En(c)==3?d.j():this.Y(c)},er.prototype.Y=function(c){try{if(c==this.g)e:{let it=En(this.g);var d=this.g.Ba();let Bi=this.g.Z();if(!(3>it)&&(it!=3||this.g&&(this.h.h||this.g.oa()||EI(this.g)))){this.J||it!=4||d==7||(d==8||0>=Bi?Rs(3):Rs(2)),Wh(this);var f=this.g.Z();this.X=f;t:if(nI(this)){var g=EI(this.g);c="";var C=g.length,A=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vr(this),Ps(this);var P="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==C-1)});g.length=0,this.h.g+=c,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=f==200,KA(this.i,this.u,this.A,this.l,this.R,it,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ee,Ze=this.g;if((Ee=Ze.g?Ze.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Ee)){var ve=Ee;break t}}ve=null}if(f=ve)Vi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kh(this,f);else{this.o=!1,this.s=3,ht(12),Vr(this),Ps(this);break e}}if(this.P){f=!0;let $t;for(;!this.J&&this.C<P.length;)if($t=ZA(this,P),$t==qh){it==4&&(this.s=4,ht(14),f=!1),Vi(this.i,this.l,null,"[Incomplete Response]");break}else if($t==eI){this.s=4,ht(15),Vi(this.i,this.l,P,"[Invalid Chunk]"),f=!1;break}else Vi(this.i,this.l,$t,null),Kh(this,$t);if(nI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),it!=4||P.length!=0||this.h.h||(this.s=1,ht(16),f=!1),this.o=this.o&&f,!f)Vi(this.i,this.l,P,"[Invalid Chunked Response]"),Vr(this),Ps(this);else if(0<P.length&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.ba&&!rt.M&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),ef(rt),rt.M=!0,ht(11))}}else Vi(this.i,this.l,P,null),Kh(this,P);it==4&&Vr(this),this.o&&!this.J&&(it==4?MI(this.j,this):(this.o=!1,Vc(this)))}else pM(this.g),f==400&&0<P.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),Vr(this),Ps(this)}}}catch{}finally{}};function nI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ZA(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?qh:(f=Number(d.substring(f,g)),isNaN(f)?eI:(g+=1,g+f>d.length?qh:(d=d.slice(g,g+f),c.C=g+f,d)))}er.prototype.cancel=function(){this.J=!0,Vr(this)};function Vc(c){c.S=Date.now()+c.I,rI(c,c.I)}function rI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=xs(m(c.ba,c),d)}function Wh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}er.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(QA(this.i,this.A),this.L!=2&&(Rs(),ht(17)),Vr(this),this.s=2,Ps(this)):rI(this,this.S-c)};function Ps(c){c.j.G==0||c.J||MI(c.j,c)}function Vr(c){Wh(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,q_(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Kh(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Qh(f.h,c))){if(!c.K&&Qh(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Gc(f),zc(f);else break e;Xh(f),ht(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=xs(m(f.Za,f),6e3));if(1>=sI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ur(f,11)}else if((c.K||f.g==c)&&Gc(f),!H(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let ve=C[d];if(f.T=ve[0],ve=ve[1],f.G==2)if(ve[0]=="c"){f.K=ve[1],f.ia=ve[2];let rt=ve[3];rt!=null&&(f.la=rt,f.j.info("VER="+f.la));let it=ve[4];it!=null&&(f.Aa=it,f.j.info("SVER="+f.Aa));let Bi=ve[5];Bi!=null&&typeof Bi=="number"&&0<Bi&&(g=1.5*Bi,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let $t=c.g;if($t){let Kc=$t.g?$t.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kc){var A=g.h;A.g||Kc.indexOf("spdy")==-1&&Kc.indexOf("quic")==-1&&Kc.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Yh(A,A.h),A.h=null))}if(g.D){let tf=$t.g?$t.g.getResponseHeader("X-HTTP-Session-Id"):null;tf&&(g.ya=tf,Te(g.I,g.D,tf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var P=c;if(g.qa=NI(g,g.J?g.ia:null,g.W),P.K){aI(g.h,P);var Ee=P,Ze=g.L;Ze&&(Ee.I=Ze),Ee.B&&(Wh(Ee),Vc(Ee)),g.g=P}else SI(g);0<f.i.length&&qc(f)}else ve[0]!="stop"&&ve[0]!="close"||Ur(f,7);else f.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?Ur(f,7):Jh(f):ve[0]!="noop"&&f.l&&f.l.ta(ve),f.v=0)}}Rs(4)}catch{}}var JA=class{constructor(c,d){this.g=c,this.map=d}};function iI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function oI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function sI(c){return c.h?1:c.g?c.g.size:0}function Qh(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Yh(c,d){c.g?c.g.add(d):c.h=d}function aI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}iI.prototype.cancel=function(){if(this.i=cI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function cI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return x(c.i)}function XA(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function eM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function uI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=eM(c),g=XA(c),C=g.length,A=0;A<C;A++)d.call(void 0,g[A],f&&f[A],c)}var lI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tM(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),C=null;if(0<=g){var A=c[f].substring(0,g);C=c[f].substring(g+1)}else A=c[f];d(A,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function jr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof jr){this.h=c.h,jc(this,c.j),this.o=c.o,this.g=c.g,Uc(this,c.s),this.l=c.l;var d=c.i,f=new Fs;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),dI(this,f),this.m=c.m}else c&&(d=String(c).match(lI))?(this.h=!1,jc(this,d[1]||"",!0),this.o=Os(d[2]||""),this.g=Os(d[3]||"",!0),Uc(this,d[4]),this.l=Os(d[5]||"",!0),dI(this,d[6]||"",!0),this.m=Os(d[7]||"")):(this.h=!1,this.i=new Fs(null,this.h))}jr.prototype.toString=function(){var c=[],d=this.j;d&&c.push(ks(d,hI,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(ks(d,hI,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(ks(f,f.charAt(0)=="/"?iM:rM,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",ks(f,sM)),c.join("")};function wn(c){return new jr(c)}function jc(c,d,f){c.j=f?Os(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Uc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function dI(c,d,f){d instanceof Fs?(c.i=d,aM(c.i,c.h)):(f||(d=ks(d,oM)),c.i=new Fs(d,c.h))}function Te(c,d,f){c.i.set(d,f)}function Bc(c){return Te(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Os(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ks(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,nM),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function nM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var hI=/[#\/\?@]/g,rM=/[#\?:]/g,iM=/[#\?]/g,oM=/[#\?@]/g,sM=/#/g;function Fs(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function tr(c){c.g||(c.g=new Map,c.h=0,c.i&&tM(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Fs.prototype,t.add=function(c,d){tr(this),this.i=null,c=ji(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function fI(c,d){tr(c),d=ji(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function pI(c,d){return tr(c),d=ji(c,d),c.g.has(d)}t.forEach=function(c,d){tr(this),this.g.forEach(function(f,g){f.forEach(function(C){c.call(d,C,g,this)},this)},this)},t.na=function(){tr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let C=c[g];for(let A=0;A<C.length;A++)f.push(d[g])}return f},t.V=function(c){tr(this);let d=[];if(typeof c=="string")pI(this,c)&&(d=d.concat(this.g.get(ji(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return tr(this),this.i=null,c=ji(this,c),pI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function gI(c,d,f){fI(c,d),0<f.length&&(c.i=null,c.g.set(ji(c,d),x(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),P=this.V(g);for(g=0;g<P.length;g++){var C=A;P[g]!==""&&(C+="="+encodeURIComponent(String(P[g]))),c.push(C)}}return this.i=c.join("&")};function ji(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function aM(c,d){d&&!c.j&&(tr(c),c.i=null,c.g.forEach(function(f,g){var C=g.toLowerCase();g!=C&&(fI(this,g),gI(this,C,f))},c)),c.j=d}function cM(c,d){let f=new Ns;if(a.Image){let g=new Image;g.onload=v(nr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=v(nr,f,"TestLoadImage: error",!1,d,g),g.onabort=v(nr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=v(nr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function uM(c,d){let f=new Ns,g=new AbortController,C=setTimeout(()=>{g.abort(),nr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(C),A.ok?nr(f,"TestPingServer: ok",!0,d):nr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),nr(f,"TestPingServer: error",!1,d)})}function nr(c,d,f,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(f)}catch{}}function lM(){this.g=new GA}function dM(c,d,f){let g=f||"";try{uI(c,function(C,A){let P=C;l(C)&&(P=Uh(C)),d.push(g+A+"="+encodeURIComponent(P))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function Ls(c){this.l=c.Ub||null,this.j=c.eb||!1}S(Ls,Bh),Ls.prototype.g=function(){return new $c(this.l,this.j)},Ls.prototype.i=function(c){return function(){return c}}({});function $c(c,d){nt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S($c,nt),t=$c.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,js(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vs(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,js(this)),this.g&&(this.readyState=3,js(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function mI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Vs(this):js(this),this.readyState==3&&mI(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Vs(this))},t.Qa=function(c){this.g&&(this.response=c,Vs(this))},t.ga=function(){this.g&&Vs(this)};function Vs(c){c.readyState=4,c.l=null,c.j=null,c.v=null,js(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function js(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty($c.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function yI(c){let d="";return X(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Zh(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=yI(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Te(c,d,f))}function xe(c){nt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(xe,nt);var hM=/^https?$/i,fM=["POST","PUT"];t=xe.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zh.g(),this.v=this.o?G_(this.o):G_(zh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){vI(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)f.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(fM,d,void 0))||g||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,P]of f)this.g.setRequestHeader(A,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wI(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){vI(this,A)}};function vI(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,_I(c),Hc(c)}function _I(c){c.A||(c.A=!0,dt(c,"complete"),dt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,dt(this,"complete"),dt(this,"abort"),Hc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hc(this,!0)),xe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?II(this):this.bb())},t.bb=function(){II(this)};function II(c){if(c.h&&typeof s<"u"&&(!c.v[1]||En(c)!=4||c.Z()!=2)){if(c.u&&En(c)==4)$_(c.Ea,0,c);else if(dt(c,"readystatechange"),En(c)==4){c.h=!1;try{let P=c.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=P===0){var C=String(c.D).match(lI)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),g=!hM.test(C?C.toLowerCase():"")}f=g}if(f)dt(c,"complete"),dt(c,"success");else{c.m=6;try{var A=2<En(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",_I(c)}}finally{Hc(c)}}}}function Hc(c,d){if(c.g){wI(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||dt(c,"ready");try{f.onreadystatechange=g}catch{}}}function wI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function En(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),qA(d)}};function EI(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function pM(c){let d={};c=(c.g&&2<=En(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(H(c[g]))continue;var f=b(c[g]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[C]||[];d[C]=A,A.push(f)}D(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Us(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function DI(c){this.Aa=0,this.i=[],this.j=new Ns,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Us("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Us("baseRetryDelayMs",5e3,c),this.cb=Us("retryDelaySeedMs",1e4,c),this.Wa=Us("forwardChannelMaxRetries",2,c),this.wa=Us("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new iI(c&&c.concurrentRequestLimit),this.Da=new lM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=DI.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){ht(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=NI(this,null,this.W),qc(this)};function Jh(c){if(bI(c),c.G==3){var d=c.U++,f=wn(c.I);if(Te(f,"SID",c.K),Te(f,"RID",d),Te(f,"TYPE","terminate"),Bs(c,f),d=new er(c,c.j,d),d.L=2,d.v=Bc(wn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=PI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Vc(d)}xI(c)}function zc(c){c.g&&(ef(c),c.g.cancel(),c.g=null)}function bI(c){zc(c),c.u&&(a.clearTimeout(c.u),c.u=null),Gc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function qc(c){if(!oI(c.h)&&!c.s){c.s=!0;var d=c.Ga;bs||F_(),Cs||(bs(),Cs=!0),xh.add(d,c),c.B=0}}function gM(c,d){return sI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=xs(m(c.Ga,c,d),RI(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new er(this,this.j,c),A=this.o;if(this.S&&(A?(A=y(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(C.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=TI(this,C,d),f=wn(this.I),Te(f,"RID",c),Te(f,"CVER",22),this.D&&Te(f,"X-HTTP-Session-Id",this.D),Bs(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(yI(A)))+"&"+d:this.m&&Zh(f,this.m,A)),Yh(this.h,C),this.Ua&&Te(f,"TYPE","init"),this.P?(Te(f,"$req",d),Te(f,"SID","null"),C.T=!0,Gh(C,f,null)):Gh(C,f,d),this.G=2}}else this.G==3&&(c?CI(this,c):this.i.length==0||oI(this.h)||CI(this))};function CI(c,d){var f;d?f=d.l:f=c.U++;let g=wn(c.I);Te(g,"SID",c.K),Te(g,"RID",f),Te(g,"AID",c.T),Bs(c,g),c.m&&c.o&&Zh(g,c.m,c.o),f=new er(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=TI(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Yh(c.h,f),Gh(f,g,d)}function Bs(c,d){c.H&&X(c.H,function(f,g){Te(d,g,f)}),c.l&&uI({},function(f,g){Te(d,g,f)})}function TI(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var C=c.i;let A=-1;for(;;){let P=["count="+f];A==-1?0<f?(A=C[0].g,P.push("ofs="+A)):A=0:P.push("ofs="+A);let Ee=!0;for(let Ze=0;Ze<f;Ze++){let ve=C[Ze].g,rt=C[Ze].map;if(ve-=A,0>ve)A=Math.max(0,C[Ze].g-100),Ee=!1;else try{dM(rt,P,"req"+ve+"_")}catch{g&&g(rt)}}if(Ee){g=P.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function SI(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;bs||F_(),Cs||(bs(),Cs=!0),xh.add(d,c),c.v=0}}function Xh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=xs(m(c.Fa,c),RI(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,AI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=xs(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),zc(this),AI(this))};function ef(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function AI(c){c.g=new er(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=wn(c.qa);Te(d,"RID","rpc"),Te(d,"SID",c.K),Te(d,"AID",c.T),Te(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Te(d,"TO",c.ja),Te(d,"TYPE","xmlhttp"),Bs(c,d),c.m&&c.o&&Zh(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Bc(wn(d)),f.m=null,f.P=!0,tI(f,c)}t.Za=function(){this.C!=null&&(this.C=null,zc(this),Xh(this),ht(19))};function Gc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function MI(c,d){var f=null;if(c.g==d){Gc(c),ef(c),c.g=null;var g=2}else if(Qh(c.h,d))f=d.D,aI(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;g=kc(),dt(g,new Z_(g,f)),qc(c)}else SI(c);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&gM(c,d)||g==2&&Xh(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:Ur(c,5);break;case 4:Ur(c,10);break;case 3:Ur(c,6);break;default:Ur(c,2)}}}function RI(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Ur(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let C=!g;g=new jr(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||jc(g,"https"),Bc(g),C?cM(g.toString(),f):uM(g.toString(),f)}else ht(2);c.G=0,c.l&&c.l.sa(d),xI(c),bI(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function xI(c){if(c.G=0,c.ka=[],c.l){let d=cI(c.h);(d.length!=0||c.i.length!=0)&&(M(c.ka,d),M(c.ka,c.i),c.h.i.length=0,x(c.i),c.i.length=0),c.l.ra()}}function NI(c,d,f){var g=f instanceof jr?wn(f):new jr(f);if(g.g!="")d&&(g.g=d+"."+g.g),Uc(g,g.s);else{var C=a.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var A=new jr(null);g&&jc(A,g),d&&(A.g=d),C&&Uc(A,C),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Te(g,f,d),Te(g,"VER",c.la),Bs(c,g),g}function PI(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new xe(new Ls({eb:f})):new xe(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function OI(){}t=OI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Wc(){}Wc.prototype.g=function(c,d){return new wt(c,d)};function wt(c,d){nt.call(this),this.g=new DI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!H(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!H(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Ui(this)}S(wt,nt),wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wt.prototype.close=function(){Jh(this.g)},wt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Uh(c),c=f);d.i.push(new JA(d.Ya++,c)),d.G==3&&qc(d)},wt.prototype.N=function(){this.g.l=null,delete this.j,Jh(this.g),delete this.g,wt.aa.N.call(this)};function kI(c){$h.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(kI,$h);function FI(){Hh.call(this),this.status=1}S(FI,Hh);function Ui(c){this.g=c}S(Ui,OI),Ui.prototype.ua=function(){dt(this.g,"a")},Ui.prototype.ta=function(c){dt(this.g,new kI(c))},Ui.prototype.sa=function(c){dt(this.g,new FI)},Ui.prototype.ra=function(){dt(this.g,"b")},Wc.prototype.createWebChannel=Wc.prototype.g,wt.prototype.send=wt.prototype.o,wt.prototype.open=wt.prototype.m,wt.prototype.close=wt.prototype.close,Ay=Wn.createWebChannelTransport=function(){return new Wc},Sy=Wn.getStatEventTarget=function(){return kc()},Ty=Wn.Event=Lr,Fd=Wn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fc.NO_ERROR=0,Fc.TIMEOUT=8,Fc.HTTP_ERROR=6,cc=Wn.ErrorCode=Fc,J_.COMPLETE="complete",Cy=Wn.EventType=J_,W_.EventType=Ms,Ms.OPEN="a",Ms.CLOSE="b",Ms.ERROR="c",Ms.MESSAGE="d",nt.prototype.listen=nt.prototype.K,Xo=Wn.WebChannel=W_,by=Wn.FetchXmlHttpFactory=Ls,xe.prototype.listenOnce=xe.prototype.L,xe.prototype.getLastError=xe.prototype.Ka,xe.prototype.getLastErrorCode=xe.prototype.Ba,xe.prototype.getStatus=xe.prototype.Z,xe.prototype.getResponseJson=xe.prototype.Oa,xe.prototype.getResponseText=xe.prototype.oa,xe.prototype.send=xe.prototype.ea,xe.prototype.setWithCredentials=xe.prototype.Ha,Dy=Wn.XhrIo=xe}).apply(typeof kd<"u"?kd:typeof self<"u"?self:typeof window<"u"?window:{});var NT="@firebase/firestore";var Ye=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");var Is="10.13.1";var Mi=new br("@firebase/firestore");function uc(){return Mi.logLevel}function U(t,...e){if(Mi.logLevel<=fe.DEBUG){let n=e.map(g_);Mi.debug(`Firestore (${Is}): ${t}`,...n)}}function Qn(t,...e){if(Mi.logLevel<=fe.ERROR){let n=e.map(g_);Mi.error(`Firestore (${Is}): ${t}`,...n)}}function ss(t,...e){if(Mi.logLevel<=fe.WARN){let n=e.map(g_);Mi.warn(`Firestore (${Is}): ${t}`,...n)}}function g_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Q(t="Unexpected state"){let e=`FIRESTORE (${Is}) INTERNAL ASSERTION FAILED: `+t;throw Qn(e),new Error(e)}function Ce(t,e){t||Q()}function J(t,e){return t}var R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=class extends Mt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Kn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Bd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Py=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ye.UNAUTHENTICATED))}shutdown(){}},Oy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},ky=class{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Kn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Kn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Kn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string"),new Bd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string"),new Ye(e)}},Fy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Ly=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Fy(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Vy=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},jy=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ce(typeof n.token=="string"),this.R=n.token,new Vy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function Yj(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var $d=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=Yj(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function _e(t,e){return t<e?-1:t>e?1:0}function as(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var et=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new V(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new V(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new V(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ne=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new et(0,0))}static max(){return new t(new et(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Hd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(),r===void 0?r=e.length-n:r>e.length-n&&Q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Me=class t extends Hd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new V(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},Zj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Rt=class t extends Hd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return Zj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new V(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new V(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new V(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new V(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var q=class t{constructor(e){this.path=e}static fromPath(e){return new t(Me.fromString(e))}static fromName(e){return new t(Me.fromString(e).popFirst(5))}static empty(){return new t(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Me(e.slice()))}};var Uy=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Uy.UNKNOWN_ID=-1;function Jj(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new et(n+1,0):new et(n,r));return new Ri(i,q.empty(),e)}function Xj(t){return new Ri(t.readTime,t.key,-1)}var Ri=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ne.min(),q.empty(),-1)}static max(){return new t(ne.max(),q.empty(),-1)}};function eU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}var tU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",By=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ac(t){return w(this,null,function*(){if(t.code!==R.FAILED_PRECONDITION||t.message!==tU)throw t;U("LocalStore","Unexpectedly lost primary lease")})}var N=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function nU(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mc(t){return t.name==="IndexedDbTransactionError"}var fS=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function yh(t){return t==null}function mc(t){return t===0&&1/t==-1/0}function rU(t){return typeof t=="number"&&Number.isInteger(t)&&!mc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var iU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],sG=[...iU,"documentOverlays"],oU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],sU=oU,aU=[...sU,"indexConfiguration","indexState","indexEntries"];var aG=[...aU,"globals"];function PT(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ws(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Oe=class t{constructor(e,n){this.comparator=e,this.root=n||mn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rs(this.root,e,this.comparator,!1)}getReverseIterator(){return new rs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rs(this.root,e,this.comparator,!0)}},rs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},mn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();let e=this.left.check();if(e!==this.right.check())throw Q();return e+(this.isRed()?0:1)}};mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(e,n,r,i,o){return this}insert(e,n,r){return new mn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ut=class t{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zd(this.data.getIterator())}getIteratorFrom(e){return new zd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},zd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var gn=class t{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new t([])}unionWith(e){let n=new ut(Rt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return as(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var qd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var lt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new qd("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};lt.EMPTY_BYTE_STRING=new lt("");var cU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yn(t){if(Ce(!!t),typeof t=="string"){let e=0,n=cU.exec(t);if(Ce(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ae(t.seconds),nanos:Ae(t.nanos)}}function Ae(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Or(t){return typeof t=="string"?lt.fromBase64String(t):lt.fromUint8Array(t)}function m_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function y_(t){let e=t.mapValue.fields.__previous_value__;return m_(e)?y_(e):e}function yc(t){let e=Yn(t.mapValue.fields.__local_write_time__.timestampValue);return new et(e.seconds,e.nanos)}var $y=class{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Gd=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Ld={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function xi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?m_(t)?4:mS(t)?9007199254740991:gS(t)?10:11:Q()}function _n(t,e){if(t===e)return!0;let n=xi(t);if(n!==xi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yc(t).isEqual(yc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Yn(i.timestampValue),a=Yn(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Or(i.bytesValue).isEqual(Or(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ae(i.geoPointValue.latitude)===Ae(o.geoPointValue.latitude)&&Ae(i.geoPointValue.longitude)===Ae(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ae(i.integerValue)===Ae(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ae(i.doubleValue),a=Ae(o.doubleValue);return s===a?mc(s)===mc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return as(t.arrayValue.values||[],e.arrayValue.values||[],_n);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(PT(s)!==PT(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!_n(s[u],a[u])))return!1;return!0}(t,e);default:return Q()}}function vc(t,e){return(t.values||[]).find(n=>_n(n,e))!==void 0}function cs(t,e){if(t===e)return 0;let n=xi(t),r=xi(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ae(o.integerValue||o.doubleValue),u=Ae(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return OT(t.timestampValue,e.timestampValue);case 4:return OT(yc(t),yc(e));case 5:return _e(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Or(o),u=Or(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=_e(a[l],u[l]);if(h!==0)return h}return _e(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=_e(Ae(o.latitude),Ae(s.latitude));return a!==0?a:_e(Ae(o.longitude),Ae(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return kT(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},v=(a=p.value)===null||a===void 0?void 0:a.arrayValue,S=(u=m.value)===null||u===void 0?void 0:u.arrayValue,x=_e(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return x!==0?x:kT(v,S)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Ld.mapValue&&s===Ld.mapValue)return 0;if(o===Ld.mapValue)return 1;if(s===Ld.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=_e(u[p],h[p]);if(m!==0)return m;let v=cs(a[u[p]],l[h[p]]);if(v!==0)return v}return _e(u.length,h.length)}(t.mapValue,e.mapValue);default:throw Q()}}function OT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);let n=Yn(t),r=Yn(e),i=_e(n.seconds,r.seconds);return i!==0?i:_e(n.nanos,r.nanos)}function kT(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=cs(n[i],r[i]);if(o)return o}return _e(n.length,r.length)}function us(t){return Hy(t)}function Hy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Yn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Or(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Hy(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Hy(n.fields[s])}`;return i+"}"}(t.mapValue):Q()}function FT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function zy(t){return!!t&&"integerValue"in t}function v_(t){return!!t&&"arrayValue"in t}function LT(t){return!!t&&"nullValue"in t}function VT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jd(t){return!!t&&"mapValue"in t}function gS(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function dc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return ws(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=dc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=dc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function mS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Jt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!jd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=dc(n)}setAll(e){let n=Rt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=dc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());jd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _n(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];jd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ws(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(dc(this.value))}};function yS(t){let e=[];return ws(t.fields,(n,r)=>{let i=new Rt([n]);if(jd(r)){let o=yS(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new gn(e)}var Xt=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ne.min(),ne.min(),ne.min(),Jt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ne.min(),ne.min(),Jt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ne.min(),ne.min(),Jt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ls=class{constructor(e,n){this.position=e,this.inclusive=n}};function jT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=q.comparator(q.fromName(s.referenceValue),n.key):r=cs(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function UT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_n(t.position[n],e.position[n]))return!1;return!0}var ds=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function uU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Wd=class{},je=class t extends Wd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Gy(e,n,r):n==="array-contains"?new Qy(e,r):n==="in"?new Yy(e,r):n==="not-in"?new Zy(e,r):n==="array-contains-any"?new Jy(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Wy(e,r):new Ky(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(cs(n,this.value)):n!==null&&xi(this.value)===xi(n)&&this.matchesComparison(cs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},en=class t extends Wd{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return vS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function vS(t){return t.op==="and"}function _S(t){return lU(t)&&vS(t)}function lU(t){for(let e of t.filters)if(e instanceof en)return!1;return!0}function qy(t){if(t instanceof je)return t.field.canonicalString()+t.op.toString()+us(t.value);if(_S(t))return t.filters.map(e=>qy(e)).join(",");{let e=t.filters.map(n=>qy(n)).join(",");return`${t.op}(${e})`}}function IS(t,e){return t instanceof je?function(r,i){return i instanceof je&&r.op===i.op&&r.field.isEqual(i.field)&&_n(r.value,i.value)}(t,e):t instanceof en?function(r,i){return i instanceof en&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&IS(s,i.filters[a]),!0):!1}(t,e):void Q()}function wS(t){return t instanceof je?function(n){return`${n.field.canonicalString()} ${n.op} ${us(n.value)}`}(t):t instanceof en?function(n){return n.op.toString()+" {"+n.getFilters().map(wS).join(" ,")+"}"}(t):"Filter"}var Gy=class extends je{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){let n=q.comparator(e.key,this.key);return this.matchesComparison(n)}},Wy=class extends je{constructor(e,n){super(e,"in",n),this.keys=ES("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Ky=class extends je{constructor(e,n){super(e,"not-in",n),this.keys=ES("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function ES(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}var Qy=class extends je{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return v_(n)&&vc(n.arrayValue,this.value)}},Yy=class extends je{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&vc(this.value.arrayValue,n)}},Zy=class extends je{constructor(e,n){super(e,"not-in",n)}matches(e){if(vc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!vc(this.value.arrayValue,n)}},Jy=class extends je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!v_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>vc(this.value.arrayValue,r))}};var Xy=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function BT(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Xy(t,e,n,r,i,o,s)}function __(t){let e=J(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>qy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),yh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>us(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>us(r)).join(",")),e.ue=n}return e.ue}function I_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!uU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!IS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!UT(t.startAt,e.startAt)&&UT(t.endAt,e.endAt)}function ev(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ni=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function dU(t,e,n,r,i,o,s,a){return new Ni(t,e,n,r,i,o,s,a)}function w_(t){return new Ni(t)}function $T(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function DS(t){return t.collectionGroup!==null}function hc(t){let e=J(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ut(Rt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new ds(o,r))}),n.has(Rt.keyField().canonicalString())||e.ce.push(new ds(Rt.keyField(),r))}return e.ce}function yn(t){let e=J(t);return e.le||(e.le=hU(e,hc(t))),e.le}function hU(t,e){if(t.limitType==="F")return BT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ds(i.field,o)});let n=t.endAt?new ls(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ls(t.startAt.position,t.startAt.inclusive):null;return BT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function tv(t,e){let n=t.filters.concat([e]);return new Ni(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function nv(t,e,n){return new Ni(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vh(t,e){return I_(yn(t),yn(e))&&t.limitType===e.limitType}function bS(t){return`${__(yn(t))}|lt:${t.limitType}`}function es(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>wS(i)).join(", ")}]`),yh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>us(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>us(i)).join(",")),`Target(${r})`}(yn(t))}; limitType=${t.limitType})`}function _h(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):q.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of hc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=jT(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,hc(r),i)||r.endAt&&!function(s,a,u){let l=jT(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,hc(r),i))}(t,e)}function fU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function CS(t){return(e,n)=>{let r=!1;for(let i of hc(t)){let o=pU(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function pU(t,e,n){let r=t.field.isKeyField()?q.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?cs(u,l):Q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}var kr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ws(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return pS(this.inner)}size(){return this.innerSize}};var gU=new Oe(q.comparator);function Zn(){return gU}var TS=new Oe(q.comparator);function lc(...t){let e=TS;for(let n of t)e=e.insert(n.key,n);return e}function SS(t){let e=TS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ci(){return fc()}function AS(){return fc()}function fc(){return new kr(t=>t.toString(),(t,e)=>t.isEqual(e))}var mU=new Oe(q.comparator),yU=new ut(q.comparator);function pe(...t){let e=yU;for(let n of t)e=e.add(n);return e}var vU=new ut(_e);function _U(){return vU}function E_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mc(e)?"-0":e}}function MS(t){return{integerValue:""+t}}function IU(t,e){return rU(e)?MS(e):E_(t,e)}var hs=class{constructor(){this._=void 0}};function wU(t,e,n){return t instanceof fs?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&m_(o)&&(o=y_(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Pi?xS(t,e):t instanceof Oi?NS(t,e):function(i,o){let s=RS(i,o),a=HT(s)+HT(i.Pe);return zy(s)&&zy(i.Pe)?MS(a):E_(i.serializer,a)}(t,e)}function EU(t,e,n){return t instanceof Pi?xS(t,e):t instanceof Oi?NS(t,e):n}function RS(t,e){return t instanceof ps?function(r){return zy(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var fs=class extends hs{},Pi=class extends hs{constructor(e){super(),this.elements=e}};function xS(t,e){let n=PS(e);for(let r of t.elements)n.some(i=>_n(i,r))||n.push(r);return{arrayValue:{values:n}}}var Oi=class extends hs{constructor(e){super(),this.elements=e}};function NS(t,e){let n=PS(e);for(let r of t.elements)n=n.filter(i=>!_n(i,r));return{arrayValue:{values:n}}}var ps=class extends hs{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function HT(t){return Ae(t.integerValue||t.doubleValue)}function PS(t){return v_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function DU(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Pi&&i instanceof Pi||r instanceof Oi&&i instanceof Oi?as(r.elements,i.elements,_n):r instanceof ps&&i instanceof ps?_n(r.Pe,i.Pe):r instanceof fs&&i instanceof fs}(t.transform,e.transform)}var rv=class{constructor(e,n){this.version=e,this.transformResults=n}},Ai=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Ud(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var gs=class{};function OS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Kd(t.key,Ai.none()):new ki(t.key,t.data,Ai.none());{let n=t.data,r=Jt.empty(),i=new ut(Rt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Jn(t.key,r,new gn(i.toArray()),Ai.none())}}function bU(t,e,n){t instanceof ki?function(i,o,s){let a=i.value.clone(),u=qT(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Jn?function(i,o,s){if(!Ud(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=qT(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(kS(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function pc(t,e,n,r){return t instanceof ki?function(o,s,a,u){if(!Ud(o.precondition,s))return a;let l=o.value.clone(),h=GT(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Jn?function(o,s,a,u){if(!Ud(o.precondition,s))return a;let l=GT(o.fieldTransforms,u,s),h=s.data;return h.setAll(kS(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return Ud(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function CU(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=RS(r.transform,i||null);o!=null&&(n===null&&(n=Jt.empty()),n.set(r.field,o))}return n||null}function zT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&as(r,i,(o,s)=>DU(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ki=class extends gs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Jn=class extends gs{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function kS(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function qT(t,e,n){let r=new Map;Ce(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,EU(s,a,n[i]))}return r}function GT(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,wU(o,s,e))}return r}var Kd=class extends gs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},iv=class extends gs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var ov=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&bU(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=pc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=pc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=AS();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=OS(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&as(this.mutations,e.mutations,(n,r)=>zT(n,r))&&as(this.baseMutations,e.baseMutations,(n,r)=>zT(n,r))}},sv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ce(e.mutations.length===r.length);let i=function(){return mU}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var av=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var cv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Le,me;function TU(t){switch(t){default:return Q();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function FS(t){if(t===void 0)return Qn("GRPC error has no .code"),R.UNKNOWN;switch(t){case Le.OK:return R.OK;case Le.CANCELLED:return R.CANCELLED;case Le.UNKNOWN:return R.UNKNOWN;case Le.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case Le.INTERNAL:return R.INTERNAL;case Le.UNAVAILABLE:return R.UNAVAILABLE;case Le.UNAUTHENTICATED:return R.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case Le.NOT_FOUND:return R.NOT_FOUND;case Le.ALREADY_EXISTS:return R.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return R.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case Le.ABORTED:return R.ABORTED;case Le.OUT_OF_RANGE:return R.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return R.UNIMPLEMENTED;case Le.DATA_LOSS:return R.DATA_LOSS;default:return Q()}}(me=Le||(Le={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";var WT=null;function SU(){return new TextEncoder}var AU=new Nr([4294967295,4294967295],0);function KT(t){let e=SU().encode(t),n=new Ey;return n.update(e),new Uint8Array(n.digest())}function QT(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Nr([n,r],0),new Nr([i,o],0)]}var uv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ti(`Invalid padding: ${n}`);if(r<0)throw new Ti(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ti(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ti(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Nr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Nr.fromNumber(r)));return i.compare(AU)===1&&(i=new Nr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=KT(e),[r,i]=QT(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=KT(e),[r,i]=QT(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Ti=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Qd=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,_c.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ne.min(),i,new Oe(_e),Zn(),pe())}},_c=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,pe(),pe(),pe())}};var is=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Yd=class{constructor(e,n){this.targetId=e,this.me=n}},Zd=class{constructor(e,n,r=lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Jd=class{constructor(){this.fe=0,this.ge=ZT(),this.pe=lt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=pe(),n=pe(),r=pe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q()}}),new _c(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=ZT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ce(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},lv=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Zn(),this.qe=YT(),this.Qe=new Oe(_e)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(ev(o))if(r===0){let s=new q(o.path);this.Ue(n,s,Xt.newNoDocument(s,ne.min()))}else Ce(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}WT?.et(function(h,p,m,v,S){var x,M,L,H,G,ce;let Re={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},X=p.unchangedNames;return X&&(Re.bloomFilter={applied:S===0,hashCount:(x=X?.hashCount)!==null&&x!==void 0?x:0,bitmapLength:(H=(L=(M=X?.bits)===null||M===void 0?void 0:M.bitmap)===null||L===void 0?void 0:L.length)!==null&&H!==void 0?H:0,padding:(ce=(G=X?.bits)===null||G===void 0?void 0:G.padding)!==null&&ce!==void 0?ce:0,mightContain:D=>{var y;return(y=v?.mightContain(D))!==null&&y!==void 0&&y}}),Re}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Or(r).toUint8Array()}catch(u){if(u instanceof qd)return ss("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new uv(s,i,o)}catch(u){return ss(u instanceof Ti?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&ev(a.target)){let u=new q(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Xt.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=pe();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new Qd(e,n,this.Qe,this.ke,r);return this.ke=Zn(),this.qe=YT(),this.Qe=new Oe(_e),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Jd,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ut(_e),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||U("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Jd),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function YT(){return new Oe(q.comparator)}function ZT(){return new Oe(q.comparator)}var MU={asc:"ASCENDING",desc:"DESCENDING"},RU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xU={and:"AND",or:"OR"},dv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function hv(t,e){return t.useProto3Json||yh(e)?e:{value:e}}function Xd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function NU(t,e){return Xd(t,e.toTimestamp())}function vn(t){return Ce(!!t),ne.fromTimestamp(function(n){let r=Yn(n);return new et(r.seconds,r.nanos)}(t))}function D_(t,e){return fv(t,e).canonicalString()}function fv(t,e){let n=function(i){return new Me(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function VS(t){let e=Me.fromString(t);return Ce(HS(e)),e}function pv(t,e){return D_(t.databaseId,e.path)}function My(t,e){let n=VS(e);if(n.get(1)!==t.databaseId.projectId)throw new V(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new V(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(US(n))}function jS(t,e){return D_(t.databaseId,e)}function PU(t){let e=VS(t);return e.length===4?Me.emptyPath():US(e)}function gv(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function US(t){return Ce(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function JT(t,e,n){return{name:pv(t,e),fields:n.value.mapValue.fields}}function OU(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Q()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Ce(h===void 0||typeof h=="string"),lt.fromBase64String(h||"")):(Ce(h===void 0||h instanceof Buffer||h instanceof Uint8Array),lt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?R.UNKNOWN:FS(l.code);return new V(h,l.message||"")}(s);n=new Zd(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=My(t,r.document.name),o=vn(r.document.updateTime),s=r.document.createTime?vn(r.document.createTime):ne.min(),a=new Jt({mapValue:{fields:r.document.fields}}),u=Xt.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new is(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=My(t,r.document),o=r.readTime?vn(r.readTime):ne.min(),s=Xt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new is([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=My(t,r.document),o=r.removedTargetIds||[];n=new is([],o,i,null)}else{if(!("filter"in e))return Q();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new cv(i,o),a=r.targetId;n=new Yd(a,s)}}return n}function kU(t,e){let n;if(e instanceof ki)n={update:JT(t,e.key,e.value)};else if(e instanceof Kd)n={delete:pv(t,e.key)};else if(e instanceof Jn)n={update:JT(t,e.key,e.data),updateMask:zU(e.fieldMask)};else{if(!(e instanceof iv))return Q();n={verify:pv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof fs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Pi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Oi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ps)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:NU(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Q()}(t,e.precondition)),n}function FU(t,e){return t&&t.length>0?(Ce(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?vn(i.updateTime):vn(o);return s.isEqual(ne.min())&&(s=vn(o)),new rv(s,i.transformResults||[])}(n,e))):[]}function LU(t,e){return{documents:[jS(t,e.path)]}}function VU(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=jS(t,i);let o=function(l){if(l.length!==0)return $S(en.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:ts(m.field),direction:BU(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=hv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function jU(t){let e=PU(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ce(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=BS(p);return m instanceof en&&_S(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(S){return new ds(ns(S.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,yh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,v=p.values||[];return new ls(v,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,v=p.values||[];return new ls(v,m)}(n.endAt)),dU(e,i,s,o,a,"F",u,l)}function UU(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=ns(n.unaryFilter.field);return je.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ns(n.unaryFilter.field);return je.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ns(n.unaryFilter.field);return je.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ns(n.unaryFilter.field);return je.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(t):t.fieldFilter!==void 0?function(n){return je.create(ns(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return en.create(n.compositeFilter.filters.map(r=>BS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q()}}(n.compositeFilter.op))}(t):Q()}function BU(t){return MU[t]}function $U(t){return RU[t]}function HU(t){return xU[t]}function ts(t){return{fieldPath:t.canonicalString()}}function ns(t){return Rt.fromServerFormat(t.fieldPath)}function $S(t){return t instanceof je?function(n){if(n.op==="=="){if(VT(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NAN"}};if(LT(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(VT(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NOT_NAN"}};if(LT(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ts(n.field),op:$U(n.op),value:n.value}}}(t):t instanceof en?function(n){let r=n.getFilters().map(i=>$S(i));return r.length===1?r[0]:{compositeFilter:{op:HU(n.op),filters:r}}}(t):Q()}function zU(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function HS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Ic=class t{constructor(e,n,r,i,o=ne.min(),s=ne.min(),a=lt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var mv=class{constructor(e){this.ct=e}};function qU(t){let e=jU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?nv(e,e.limit,"L"):e}var eh=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ae(e.integerValue));else if("doubleValue"in e){let r=Ae(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),mc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Yn(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Or(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?mS(e)?this.dt(n,Number.MAX_SAFE_INTEGER):gS(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Q()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Ae(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),q.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};eh.vt=new eh;var yv=class{constructor(){this.un=new vv}addToCollectionParentIndex(e,n){return this.un.add(n),N.resolve()}getCollectionParents(e,n){return N.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return N.resolve()}deleteFieldIndex(e,n){return N.resolve()}deleteAllFieldIndexes(e){return N.resolve()}createTargetIndexes(e,n){return N.resolve()}getDocumentsMatchingTarget(e,n){return N.resolve(null)}getIndexType(e,n){return N.resolve(0)}getFieldIndexes(e,n){return N.resolve([])}getNextCollectionGroupToUpdate(e){return N.resolve(null)}getMinOffset(e,n){return N.resolve(Ri.min())}getMinOffsetFromCollectionGroup(e,n){return N.resolve(Ri.min())}updateCollectionGroup(e,n,r){return N.resolve()}updateIndexEntries(e,n){return N.resolve()}},vv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ut(Me.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ut(Me.comparator)).toArray()}};var uG=new Uint8Array(0);var pn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(41943040,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);var wc=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var _v=class{constructor(){this.changes=new kr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?N.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Iv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var wv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&pc(r.mutation,i,gn.empty(),et.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){let i=Ci();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=lc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Ci();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Zn(),s=fc(),a=function(){return fc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Jn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),pc(h.mutation,l,h.mutation.getFieldMask(),et.now())):s.set(l.key,gn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new Iv(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=fc(),i=new Oe((s,a)=>s-a),o=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||gn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||pe()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=AS();h.forEach(m=>{if(!o.has(m)){let v=OS(n.get(m),r.get(m));v!==null&&p.set(m,v),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return N.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return q.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):DS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):N.resolve(Ci()),a=-1,u=o;return s.next(l=>N.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?N.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,pe())).next(h=>({batchId:a,changes:SS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let i=lc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=lc();return this.indexManager.getCollectionParents(e,o).next(a=>N.forEach(a,u=>{let l=function(p,m){return new Ni(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Xt.newInvalidDocument(h)))});let a=lc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&pc(h.mutation,l,gn.empty(),et.now()),_h(n,l)&&(a=a.insert(u,l))}),a})}};var Ev=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return N.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:vn(i.createTime)}}(n)),N.resolve()}getNamedQuery(e,n){return N.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:qU(i.bundledQuery),readTime:vn(i.readTime)}}(n)),N.resolve()}};var Dv=class{constructor(){this.overlays=new Oe(q.comparator),this.Ir=new Map}getOverlay(e,n){return N.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ci();return N.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),N.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),N.resolve()}getOverlaysForCollection(e,n,r){let i=Ci(),o=n.length+1,s=new q(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return N.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Oe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Ci(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Ci(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return N.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new av(n,r));let o=this.Ir.get(n);o===void 0&&(o=pe(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var bv=class{constructor(){this.sessionToken=lt.EMPTY_BYTE_STRING}getSessionToken(e){return N.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,N.resolve()}};var Ec=class{constructor(){this.Tr=new ut(Ve.Er),this.dr=new ut(Ve.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Ve(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ve(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new q(new Me([])),r=new Ve(n,e),i=new Ve(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new q(new Me([])),r=new Ve(n,e),i=new Ve(n,e+1),o=pe();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Ve(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ve=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return q.comparator(e.key,n.key)||_e(e.wr,n.wr)}static Ar(e,n){return _e(e.wr,n.wr)||q.comparator(e.key,n.key)}};var Cv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ut(Ve.Er)}checkEmpty(e){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new ov(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new Ve(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return N.resolve(s)}lookupMutationBatch(e,n){return N.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return N.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ve(n,0),i=new Ve(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),N.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ut(_e);return n.forEach(i=>{let o=new Ve(i,0),s=new Ve(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),N.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;q.isDocumentKey(o)||(o=o.child(""));let s=new Ve(new q(o),0),a=new ut(_e);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),N.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ce(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return N.forEach(n.mutations,i=>{let o=new Ve(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Ve(n,0),i=this.br.firstAfterOrEqual(r);return N.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,N.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Tv=class{constructor(e){this.Mr=e,this.docs=function(){return new Oe(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return N.resolve(r?r.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let r=Zn();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Xt.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Zn(),s=n.path,a=new q(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||eU(Xj(h),r)<=0||(i.has(h.key)||_h(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return N.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Q()}Or(e,n){return N.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Sv(this)}getSize(e){return N.resolve(this.size)}},Sv=class extends _v{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),N.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Av=class{constructor(e){this.persistence=e,this.Nr=new kr(n=>__(n),I_),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ec,this.targetCount=0,this.kr=wc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),N.resolve()}getLastRemoteSnapshotVersion(e){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return N.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),N.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new wc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,N.resolve()}updateTargetData(e,n){return this.Kn(n),N.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),N.waitFor(o).next(()=>i)}getTargetCount(e){return N.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return N.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),N.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),N.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),N.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return N.resolve(r)}containsKey(e,n){return N.resolve(this.Br.containsKey(n))}};var Mv=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new fS(0),this.Kr=!1,this.Kr=!0,this.$r=new bv,this.referenceDelegate=e(this),this.Ur=new Av(this),this.indexManager=new yv,this.remoteDocumentCache=function(i){return new Tv(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new mv(n),this.Gr=new Ev(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Dv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Cv(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){U("MemoryPersistence","Starting transaction:",e);let i=new Rv(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return N.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Rv=class extends By{constructor(e){super(),this.currentSequenceNumber=e}},xv=class t{constructor(e){this.persistence=e,this.Jr=new Ec,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw Q()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),N.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),N.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),N.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Xr,r=>{let i=q.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,ne.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return N.or([()=>N.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var Nv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=pe(),i=pe();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Pv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Ov=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return lC()?8:nU(Qe())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Pv;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(uc()<=fe.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",es(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),N.resolve()):(uc()<=fe.DEBUG&&U("QueryEngine","Query:",es(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(uc()<=fe.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",es(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yn(n))):N.resolve())}Yi(e,n){if($T(n))return N.resolve(null);let r=yn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=nv(n,null,"F"),r=yn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=pe(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,s,u.readTime)?this.Yi(e,nv(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return $T(n)||i.isEqual(ne.min())?N.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?N.resolve(null):(uc()<=fe.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),es(n)),this.rs(e,s,n,Jj(i,-1)).next(a=>a))})}ts(e,n){let r=new ut(CS(e));return n.forEach((i,o)=>{_h(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return uc()<=fe.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",es(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ri.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var kv=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Oe(_e),this._s=new kr(o=>__(o),I_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function GU(t,e,n,r){return new kv(t,e,n,r)}function zS(t,e){return w(this,null,function*(){let n=J(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=pe();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function WU(t,e){let n=J(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),v=N.resolve();return m.forEach(S=>{v=v.next(()=>h.getEntry(u,S)).next(x=>{let M=l.docVersions.get(S);Ce(M!==null),x.version.compareTo(M)<0&&(p.applyToRemoteDocument(x,l),x.isValidDocument()&&(x.setReadTime(l.commitVersion),h.addEntry(x)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=pe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function qS(t){let e=J(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function KU(t,e){let n=J(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,p)));let v=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(lt.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),function(x,M,L){return x.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(m,v,h)&&a.push(n.Ur.updateTargetData(o,v))});let u=Zn(),l=pe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(QU(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(ne.min())){let h=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return N.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function QU(t,e,n){let r=pe(),i=pe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Zn();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ne.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):U("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function YU(t,e){let n=J(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ZU(t,e){let n=J(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,N.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Ic(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function Fv(t,e,n){return w(this,null,function*(){let r=J(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Mc(s))throw s;U("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function XT(t,e,n){let r=J(t),i=ne.min(),o=pe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=J(u),m=p._s.get(h);return m!==void 0?N.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,s,yn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:ne.min(),n?o:pe())).next(a=>(JU(r,fU(e),a),{documents:a,Ts:o})))}function JU(t,e,n){let r=t.us.get(e)||ne.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var th=class{constructor(){this.activeTargetIds=_U()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Lv=class{constructor(){this.so=new th,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new th,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Vv=class{_o(e){}shutdown(){}};var nh=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Vd=null;function Ry(){return Vd===null?Vd=function(){return 268435456+Math.round(2147483648*Math.random())}():Vd++,"0x"+Vd.toString(16)}var XU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var jv=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var ct="WebChannelConnection",Uv=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=Ry(),u=this.xo(n,r.toUriEncodedString());U("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(h=>(U("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw ss("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Is}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=XU[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=Ry();return new Promise((s,a)=>{let u=new Dy;u.setWithCredentials(!0),u.listenOnce(Cy.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case cc.NO_ERROR:let h=u.getResponseJson();U(ct,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case cc.TIMEOUT:U(ct,`RPC '${e}' ${o} timed out`),a(new V(R.DEADLINE_EXCEEDED,"Request time out"));break;case cc.HTTP_ERROR:let p=u.getStatus();if(U(ct,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let v=m?.error;if(v&&v.status&&v.message){let S=function(M){let L=M.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(L)>=0?L:R.UNKNOWN}(v.status);a(new V(S,v.message))}else a(new V(R.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new V(R.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{U(ct,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);U(ct,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Ry(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Ay(),a=Sy(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new by({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");U(ct,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),m=!1,v=!1,S=new jv({Io:M=>{v?U(ct,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(m||(U(ct,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),U(ct,`RPC '${e}' stream ${i} sending:`,M),p.send(M))},To:()=>p.close()}),x=(M,L,H)=>{M.listen(L,G=>{try{H(G)}catch(ce){setTimeout(()=>{throw ce},0)}})};return x(p,Xo.EventType.OPEN,()=>{v||(U(ct,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),x(p,Xo.EventType.CLOSE,()=>{v||(v=!0,U(ct,`RPC '${e}' stream ${i} transport closed`),S.So())}),x(p,Xo.EventType.ERROR,M=>{v||(v=!0,ss(ct,`RPC '${e}' stream ${i} transport errored:`,M),S.So(new V(R.UNAVAILABLE,"The operation could not be completed")))}),x(p,Xo.EventType.MESSAGE,M=>{var L;if(!v){let H=M.data[0];Ce(!!H);let G=H,ce=G.error||((L=G[0])===null||L===void 0?void 0:L.error);if(ce){U(ct,`RPC '${e}' stream ${i} received error:`,ce);let Re=ce.status,X=function(_){let E=Le[_];if(E!==void 0)return FS(E)}(Re),D=ce.message;X===void 0&&(X=R.INTERNAL,D="Unknown error status: "+Re+" with message "+ce.message),v=!0,S.So(new V(X,D)),p.close()}else U(ct,`RPC '${e}' stream ${i} received:`,H),S.bo(H)}}),x(a,Ty.STAT_EVENT,M=>{M.stat===Fd.PROXY?U(ct,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===Fd.NOPROXY&&U(ct,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function xy(){return typeof document<"u"?document:null}function Ih(t){return new dv(t,!0)}var rh=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var ih=class{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new rh(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(Qn(n.toString()),Qn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new V(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return U("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Bv=class extends ih{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=OU(this.serializer,e),r=function(o){if(!("targetChange"in o))return ne.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ne.min():s.readTime?vn(s.readTime):ne.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=gv(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=ev(u)?{documents:LU(o,u)}:{query:VU(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=LS(o,s.resumeToken);let l=hv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ne.min())>0){a.readTime=Xd(o,s.snapshotVersion.toTimestamp());let l=hv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=UU(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=gv(this.serializer),n.removeTarget=e,this.a_(n)}},$v=class extends ih{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=FU(e.writeResults,e.commitTime),r=vn(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=gv(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>kU(this.serializer,r))};this.a_(n)}};var Hv=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new V(R.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,fv(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(R.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,fv(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(R.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},zv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Qn(n),this.D_=!1):U("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var qv=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>w(this,null,function*(){Fi(this)&&(U("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=J(u);l.L_.add(4),yield Rc(l),l.q_.set("Unknown"),l.L_.delete(4),yield wh(l)})}(this))}))}),this.q_=new zv(r,i)}};function wh(t){return w(this,null,function*(){if(Fi(t))for(let e of t.B_)yield e(!0)})}function Rc(t){return w(this,null,function*(){for(let e of t.B_)yield e(!1)})}function GS(t,e){let n=J(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),S_(n)?T_(n):Es(n).r_()&&C_(n,e))}function b_(t,e){let n=J(t),r=Es(n);n.N_.delete(e),r.r_()&&WS(n,e),n.N_.size===0&&(r.r_()?r.o_():Fi(n)&&n.q_.set("Unknown"))}function C_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Es(t).A_(e)}function WS(t,e){t.Q_.xe(e),Es(t).R_(e)}function T_(t){t.Q_=new lv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Es(t).start(),t.q_.v_()}function S_(t){return Fi(t)&&!Es(t).n_()&&t.N_.size>0}function Fi(t){return J(t).L_.size===0}function KS(t){t.Q_=void 0}function e3(t){return w(this,null,function*(){t.q_.set("Online")})}function t3(t){return w(this,null,function*(){t.N_.forEach((e,n)=>{C_(t,e)})})}function n3(t,e){return w(this,null,function*(){KS(t),S_(t)?(t.q_.M_(e),T_(t)):t.q_.set("Unknown")})}function r3(t,e,n){return w(this,null,function*(){if(t.q_.set("Online"),e instanceof Zd&&e.state===2&&e.cause)try{yield function(i,o){return w(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){U("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield oh(t,r)}else if(e instanceof is?t.Q_.Ke(e):e instanceof Yd?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ne.min()))try{let r=yield qS(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(lt.EMPTY_BYTE_STRING,h.snapshotVersion)),WS(o,u);let p=new Ic(h.target,u,l,h.sequenceNumber);C_(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){U("RemoteStore","Failed to raise snapshot:",r),yield oh(t,r)}})}function oh(t,e,n){return w(this,null,function*(){if(!Mc(e))throw e;t.L_.add(1),yield Rc(t),t.q_.set("Offline"),n||(n=()=>qS(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){U("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield wh(t)}))})}function QS(t,e){return e().catch(n=>oh(t,n,e))}function Eh(t){return w(this,null,function*(){let e=J(t),n=Fr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;i3(e);)try{let i=yield YU(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,o3(e,i)}catch(i){yield oh(e,i)}YS(e)&&ZS(e)})}function i3(t){return Fi(t)&&t.O_.length<10}function o3(t,e){t.O_.push(e);let n=Fr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function YS(t){return Fi(t)&&!Fr(t).n_()&&t.O_.length>0}function ZS(t){Fr(t).start()}function s3(t){return w(this,null,function*(){Fr(t).p_()})}function a3(t){return w(this,null,function*(){let e=Fr(t);for(let n of t.O_)e.m_(n.mutations)})}function c3(t,e,n){return w(this,null,function*(){let r=t.O_.shift(),i=sv.from(r,e,n);yield QS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Eh(t)})}function u3(t,e){return w(this,null,function*(){e&&Fr(t).V_&&(yield function(r,i){return w(this,null,function*(){if(function(s){return TU(s)&&s!==R.ABORTED}(i.code)){let o=r.O_.shift();Fr(r).s_(),yield QS(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Eh(r)}})}(t,e)),YS(t)&&ZS(t)})}function eS(t,e){return w(this,null,function*(){let n=J(t);n.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");let r=Fi(n);n.L_.add(3),yield Rc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield wh(n)})}function l3(t,e){return w(this,null,function*(){let n=J(t);e?(n.L_.delete(2),yield wh(n)):e||(n.L_.add(2),yield Rc(n),n.q_.set("Unknown"))})}function Es(t){return t.K_||(t.K_=function(n,r,i){let o=J(n);return o.w_(),new Bv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:e3.bind(null,t),Ro:t3.bind(null,t),mo:n3.bind(null,t),d_:r3.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.K_.s_(),S_(t)?T_(t):t.q_.set("Unknown")):(yield t.K_.stop(),KS(t))}))),t.K_}function Fr(t){return t.U_||(t.U_=function(n,r,i){let o=J(n);return o.w_(),new $v(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:s3.bind(null,t),mo:u3.bind(null,t),f_:a3.bind(null,t),g_:c3.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.U_.s_(),yield Eh(t)):(yield t.U_.stop(),t.O_.length>0&&(U("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Gv=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Kn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function A_(t,e){if(Qn("AsyncQueue",`${e}: ${t}`),Mc(t))return new V(R.UNAVAILABLE,`${e}: ${t}`);throw t}var sh=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=lc(),this.sortedSet=new Oe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var ah=class{constructor(){this.W_=new Oe(q.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Q():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},ms=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,sh.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Wv=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Kv=class{constructor(){this.queries=tS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=J(n),o=i.queries;i.queries=tS(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new V(R.ABORTED,"Firestore shutting down"))}};function tS(){return new kr(t=>bS(t),vh)}function d3(t,e){return w(this,null,function*(){let n=J(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new Wv,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=A_(s,`Initialization of query '${es(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&M_(n)})}function h3(t,e){return w(this,null,function*(){let n=J(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function f3(t,e){let n=J(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&M_(n)}function p3(t,e,n){let r=J(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function M_(t){t.Y_.forEach(e=>{e.next()})}var Qv,nS;(nS=Qv||(Qv={})).ea="default",nS.Cache="cache";var Yv=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ms(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ms.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Qv.Cache}};var ch=class{constructor(e){this.key=e}},uh=class{constructor(e){this.key=e}},Zv=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=pe(),this.mutatedKeys=pe(),this.Aa=CS(e),this.Ra=new sh(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new ah,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),v=_h(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),x=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),M=!1;m&&v?m.data.isEqual(v.data)?S!==x&&(r.track({type:3,doc:v}),M=!0):this.ga(m,v)||(r.track({type:2,doc:v}),M=!0,(u&&this.Aa(v,u)>0||l&&this.Aa(v,l)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),M=!0):m&&!v&&(r.track({type:1,doc:m}),M=!0,(u||l)&&(a=!0)),M&&(v?(s=s.add(v),o=x?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(v,S){let x=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return x(v)-x(S)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new ms(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ah,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=pe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new uh(r))}),this.da.forEach(r=>{e.has(r)||n.push(new ch(r))}),n}ba(e){this.Ta=e.Ts,this.da=pe();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ms.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},Jv=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Xv=class{constructor(e){this.key=e,this.va=!1}},e_=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new kr(a=>bS(a),vh),this.Ma=new Map,this.xa=new Set,this.Oa=new Oe(q.comparator),this.Na=new Map,this.La=new Ec,this.Ba={},this.ka=new Map,this.qa=wc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function g3(t,e,n=!0){return w(this,null,function*(){let r=rA(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield JS(r,e,n,!0),i})}function m3(t,e){return w(this,null,function*(){let n=rA(t);yield JS(n,e,!0,!1)})}function JS(t,e,n,r){return w(this,null,function*(){let i=yield ZU(t.localStore,yn(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current",a;return r&&(a=yield y3(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&GS(t.remoteStore,i),a})}function y3(t,e,n,r,i){return w(this,null,function*(){t.Ka=(p,m,v)=>function(x,M,L,H){return w(this,null,function*(){let G=M.view.ma(L);G.ns&&(G=yield XT(x.localStore,M.query,!1).then(({documents:D})=>M.view.ma(D,G)));let ce=H&&H.targetChanges.get(M.targetId),Re=H&&H.targetMismatches.get(M.targetId)!=null,X=M.view.applyChanges(G,x.isPrimaryClient,ce,Re);return iS(x,M.targetId,X.wa),X.snapshot})}(t,p,m,v);let o=yield XT(t.localStore,e,!0),s=new Zv(e,o.Ts),a=s.ma(o.documents),u=_c.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);iS(t,n,l.wa);let h=new Jv(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function v3(t,e,n){return w(this,null,function*(){let r=J(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!vh(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Fv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&b_(r.remoteStore,i.targetId),t_(r,i.targetId)}).catch(Ac))):(t_(r,i.targetId),yield Fv(r.localStore,i.targetId,!0))})}function _3(t,e){return w(this,null,function*(){let n=J(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),b_(n.remoteStore,r.targetId))})}function I3(t,e,n){return w(this,null,function*(){let r=S3(t);try{let i=yield function(s,a){let u=J(s),l=et.now(),h=a.reduce((v,S)=>v.add(S.key),pe()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let S=Zn(),x=pe();return u.cs.getEntries(v,h).next(M=>{S=M,S.forEach((L,H)=>{H.isValidDocument()||(x=x.add(L))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,S)).next(M=>{p=M;let L=[];for(let H of a){let G=CU(H,p.get(H.key).overlayedDocument);G!=null&&L.push(new Jn(H.key,G,yS(G.value.mapValue),Ai.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,L,a)}).next(M=>{m=M;let L=M.applyToLocalDocumentSet(p,x);return u.documentOverlayCache.saveOverlays(v,M.batchId,L)})}).then(()=>({batchId:m.batchId,changes:SS(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new Oe(_e)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield xc(r,i.changes),yield Eh(r.remoteStore)}catch(i){let o=A_(i,"Failed to persist write");n.reject(o)}})}function XS(t,e){return w(this,null,function*(){let n=J(t);try{let r=yield KU(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Ce(s.va):i.removedDocuments.size>0&&(Ce(s.va),s.va=!1))}),yield xc(n,r,e)}catch(r){yield Ac(r)}})}function rS(t,e,n){let r=J(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=J(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&M_(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function w3(t,e,n){return w(this,null,function*(){let r=J(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Oe(q.comparator);s=s.insert(o,Xt.newNoDocument(o,ne.min()));let a=pe().add(o),u=new Qd(ne.min(),new Map,new Oe(_e),s,a);yield XS(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),R_(r)}else yield Fv(r.localStore,e,!1).then(()=>t_(r,e,n)).catch(Ac)})}function E3(t,e){return w(this,null,function*(){let n=J(t),r=e.batch.batchId;try{let i=yield WU(n.localStore,e);tA(n,r,null),eA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield xc(n,i)}catch(i){yield Ac(i)}})}function D3(t,e,n){return w(this,null,function*(){let r=J(t);try{let i=yield function(s,a){let u=J(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ce(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);tA(r,e,n),eA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield xc(r,i)}catch(i){yield Ac(i)}})}function eA(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function tA(t,e,n){let r=J(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function t_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||nA(t,r)})}function nA(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(b_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),R_(t))}function iS(t,e,n){for(let r of n)r instanceof ch?(t.La.addReference(r.key,e),b3(t,r)):r instanceof uh?(U("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||nA(t,r.key)):Q()}function b3(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(U("SyncEngine","New document in limbo: "+n),t.xa.add(r),R_(t))}function R_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new q(Me.fromString(e)),r=t.qa.next();t.Na.set(r,new Xv(n)),t.Oa=t.Oa.insert(n,r),GS(t.remoteStore,new Ic(yn(w_(n.path)),r,"TargetPurposeLimboResolution",fS.oe))}}function xc(t,e,n){return w(this,null,function*(){let r=J(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Nv.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let h=J(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>N.forEach(l,m=>N.forEach(m.$i,v=>h.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>N.forEach(m.Ui,v=>h.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!Mc(p))throw p;U("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let v=h.os.get(m),S=v.snapshotVersion,x=v.withLastLimboFreeSnapshotVersion(S);h.os=h.os.insert(m,x)}}})}(r.localStore,o))})}function C3(t,e){return w(this,null,function*(){let n=J(t);if(!n.currentUser.isEqual(e)){U("SyncEngine","User change. New user:",e.toKey());let r=yield zS(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new V(R.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield xc(n,r.hs)}})}function T3(t,e){let n=J(t),r=n.Na.get(e);if(r&&r.va)return pe().add(r.key);{let i=pe(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function rA(t){let e=J(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=T3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=w3.bind(null,e),e.Ca.d_=f3.bind(null,e.eventManager),e.Ca.$a=p3.bind(null,e.eventManager),e}function S3(t){let e=J(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=E3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=D3.bind(null,e),e}var lh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return w(this,null,function*(){this.serializer=Ih(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return GU(this.persistence,new Ov,e.initialUser,this.serializer)}createPersistence(e){return new Mv(xv.Zr,this.serializer)}createSharedClientState(e){return new Lv}terminate(){return w(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var n_=class{initialize(e,n){return w(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>rS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=C3.bind(null,this.syncEngine),yield l3(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Kv}()}createDatastore(e){let n=Ih(e.databaseInfo.databaseId),r=function(o){return new Uv(o)}(e.databaseInfo);return function(o,s,a,u){return new Hv(o,s,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new qv(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>rS(this.syncEngine,n,0),function(){return nh.D()?new nh:new Vv}())}createSyncEngine(e,n){return function(i,o,s,a,u,l,h){let p=new e_(i,o,s,a,u,l);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return w(this,null,function*(){var e,n;yield function(i){return w(this,null,function*(){let o=J(i);U("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Rc(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var r_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Qn("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var i_=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ye.UNAUTHENTICATED,this.clientId=$d.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>w(this,null,function*(){U("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(U("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new V(R.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Kn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=A_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Ny(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield zS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function oS(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield M3(t);U("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>eS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>eS(e.remoteStore,i)),t._onlineComponents=e})}function A3(t){return t.name==="FirebaseError"?t.code===R.FAILED_PRECONDITION||t.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function M3(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Ny(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!A3(n))throw n;ss("Error using user provided cache. Falling back to memory cache: "+n),yield Ny(t,new lh)}}else U("FirestoreClient","Using default OfflineComponentProvider"),yield Ny(t,new lh);return t._offlineComponents})}function iA(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),yield oS(t,t._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),yield oS(t,new n_))),t._onlineComponents})}function R3(t){return iA(t).then(e=>e.syncEngine)}function sS(t){return w(this,null,function*(){let e=yield iA(t),n=e.eventManager;return n.onListen=g3.bind(null,e.syncEngine),n.onUnlisten=v3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=m3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_3.bind(null,e.syncEngine),n})}function oA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var aS=new Map;function sA(t,e,n){if(!n)throw new V(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function x3(t,e,n,r){if(e===!0&&r===!0)throw new V(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function cS(t){if(!q.isDocumentKey(t))throw new V(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uS(t){if(q.isDocumentKey(t))throw new V(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Dh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q()}function gc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new V(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Dh(t);throw new V(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var dh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new V(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new V(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}x3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new V(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new V(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new V(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ys=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new V(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new V(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Py;switch(r.type){case"firstParty":return new Ly(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new V(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=aS.get(n);r&&(U("ComponentProvider","Removing Datastore"),aS.delete(n),r.terminate())}(this),Promise.resolve()}};function aA(t,e,n,r={}){var i;let o=(t=gc(t,ys))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ss("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Ye.MOCK_USER;else{a=oC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new V(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ye(l)}t._authCredentials=new Oy(new Bd(a,u))}}var vs=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},xt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Pr=class t extends vs{constructor(e,n,r){super(e,n,w_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new q(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function cA(t,e,...n){if(t=at(t),sA("collection","path",e),t instanceof ys){let r=Me.fromString(e,...n);return uS(r),new Pr(t,null,r)}{if(!(t instanceof xt||t instanceof Pr))throw new V(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Me.fromString(e,...n));return uS(r),new Pr(t.firestore,null,r)}}function uA(t,e,...n){if(t=at(t),arguments.length===1&&(e=$d.newId()),sA("doc","path",e),t instanceof ys){let r=Me.fromString(e,...n);return cS(r),new xt(t,null,new q(r))}{if(!(t instanceof xt||t instanceof Pr))throw new V(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Me.fromString(e,...n));return cS(r),new xt(t.firestore,t instanceof Pr?t.converter:null,new q(r))}}var o_=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new rh(this,"async_queue_retry"),this.Eu=()=>{let n=xy();n&&U("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=xy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=xy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new Kn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return w(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Mc(e))throw e;U("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Qn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=Gv.createAndSchedule(this,e,n,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&Q()}verifyOperationInProgress(){}mu(){return w(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};function lS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var _s=class extends ys{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new o_}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||hA(this),this._firestoreClient.terminate()}};function lA(t,e){let n=typeof t=="object"?t:Wo(),r=typeof t=="string"?t:e||"(default)",i=Za(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=iC("firestore");o&&aA(i,...o)}return i}function dA(t){return t._firestoreClient||hA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function hA(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new $y(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,oA(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new i_(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Dc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(lt.fromBase64String(e))}catch(n){throw new V(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var bc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new V(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var hh=class{constructor(e){this._methodName=e}};var Cc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new V(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new V(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}};var Tc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var N3=/^__.*__$/,s_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Jn(e,this.data,this.fieldMask,n,this.fieldTransforms):new ki(e,this.data,n,this.fieldTransforms)}};function fA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}var a_=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return fh(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(fA(this.wu)&&N3.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},c_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ih(e)}Nu(e,n,r,i=!1){return new a_({wu:e,methodName:n,Ou:r,path:Rt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function pA(t){let e=t._freezeSettings(),n=Ih(t._databaseId);return new c_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function P3(t,e,n,r,i,o={}){let s=t.Nu(o.merge||o.mergeFields?2:0,e,n,i);yA("Data must be an object, but it was:",s,r);let a=gA(r,s),u,l;if(o.merge)u=new gn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=k3(e,p,n);if(!s.contains(m))throw new V(R.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);L3(h,m)||h.push(m)}u=new gn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new s_(new Jt(a),u,l)}function O3(t,e,n,r=!1){return x_(n,t.Nu(r?4:3,e))}function x_(t,e){if(mA(t=at(t)))return yA("Unsupported field value:",e,t),gA(t,e);if(t instanceof hh)return function(r,i){if(!fA(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=x_(a,i.Fu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=at(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return IU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=et.fromDate(r);return{timestampValue:Xd(i.serializer,o)}}if(r instanceof et){let o=new et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xd(i.serializer,o)}}if(r instanceof Cc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Dc)return{bytesValue:LS(i.serializer,r._byteString)};if(r instanceof xt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:D_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Tc)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return E_(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Dh(r)}`)}(t,e)}function gA(t,e){let n={};return pS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ws(t,(r,i)=>{let o=x_(i,e.bu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function mA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof et||t instanceof Cc||t instanceof Dc||t instanceof xt||t instanceof hh||t instanceof Tc)}function yA(t,e,n){if(!mA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Dh(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function k3(t,e,n){if((e=at(e))instanceof bc)return e._internalPath;if(typeof e=="string")return vA(t,e);throw fh("Field path arguments must be of type string or ",t,!1,void 0,n)}var F3=new RegExp("[~\\*/\\[\\]]");function vA(t,e,n){if(e.search(F3)>=0)throw fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bc(...e.split("."))._internalPath}catch{throw fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fh(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new V(R.INVALID_ARGUMENT,a+t+u)}function L3(t,e){return t.some(n=>n.isEqual(e))}var ph=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new u_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(_A("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},u_=class extends ph{data(){return super.data()}};function _A(t,e){return typeof e=="string"?vA(t,e):e instanceof bc?e._internalPath:e._delegate._internalPath}function V3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new V(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Sc=class{},l_=class extends Sc{};function IA(t,e,...n){let r=[];e instanceof Sc&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof h_).length,a=o.filter(u=>u instanceof d_).length;if(s>1||s>0&&a>0)throw new V(R.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var d_=class t extends l_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return wA(e._query,n),new vs(e.firestore,e.converter,tv(e._query,n))}_parse(e){let n=pA(e.firestore);return function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new V(R.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){hS(p,h);let v=[];for(let S of p)v.push(dS(u,o,S));m={arrayValue:{values:v}}}else m=dS(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||hS(p,h),m=O3(a,s,p,h==="in"||h==="not-in");return je.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var h_=class t extends Sc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:en.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)wA(s,u),s=tv(s,u)}(e._query,n),new vs(e.firestore,e.converter,tv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function dS(t,e,n){if(typeof(n=at(n))=="string"){if(n==="")throw new V(R.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!DS(e)&&n.indexOf("/")!==-1)throw new V(R.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Me.fromString(n));if(!q.isDocumentKey(r))throw new V(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return FT(t,new q(r))}if(n instanceof xt)return FT(t,n._key);throw new V(R.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dh(n)}.`)}function hS(t,e){if(!Array.isArray(t)||t.length===0)throw new V(R.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wA(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new V(R.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new V(R.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var f_=class{convertValue(e,n="none"){switch(xi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ae(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Or(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return ws(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ae(s.doubleValue));return new Tc(o)}convertGeoPoint(e){return new Cc(Ae(e.latitude),Ae(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=y_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yc(e));default:return null}}convertTimestamp(e){let n=Yn(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Me.fromString(e);Ce(HS(r));let i=new Gd(r.get(1),r.get(3)),o=new q(r.popFirst(5));return i.isEqual(n)||Qn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function j3(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Si=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},gh=class extends ph{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new os(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(_A("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},os=class extends gh{data(e={}){return super.data(e)}},p_=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Si(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new os(this._firestore,this._userDataWriter,r.key,r,new Si(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new V(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new os(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Si(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new os(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Si(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:U3(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function U3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}var mh=class extends f_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,n)}};function EA(t,e){let n=gc(t.firestore,_s),r=uA(t),i=j3(t.converter,e);return B3(n,[P3(pA(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ai.exists(!1))]).then(()=>r)}function N_(t,...e){var n,r,i;t=at(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||lS(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(lS(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof xt)l=gc(t.firestore,_s),h=w_(t._key.path),u={next:p=>{e[s]&&e[s]($3(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=gc(t,vs);l=gc(p.firestore,_s),h=p._query;let m=new mh(l);u={next:v=>{e[s]&&e[s](new p_(l,m,p,v))},error:e[s+1],complete:e[s+2]},V3(t._query)}return function(m,v,S,x){let M=new r_(x),L=new Yv(v,M,S);return m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return d3(yield sS(m),L)})),()=>{M.za(),m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return h3(yield sS(m),L)}))}}(dA(l),h,a,u)}function B3(t,e){return function(r,i){let o=new Kn;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return I3(yield R3(r),i,o)})),o.promise}(dA(t),e)}function $3(t,e,n){let r=n.docs.get(e._key),i=new mh(t);return new gh(t,i,e._key,r,new Si(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Is=i})(Sr),Tr(new Ut("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new _s(new ky(r.getProvider("auth-internal")),new jy(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new V(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gd(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ge(NT,"4.7.1",e),Ge(NT,"4.7.1","esm2017")})();var bh=function(){return bh=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},bh.apply(this,arguments)};var q3={includeMetadataChanges:!1};function DA(t,e){return e===void 0&&(e=q3),new le(function(n){var r=N_(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function bA(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:bh(bh({},r),(n={},n[e.idField]=t.id,n))}function CA(t){return DA(t,{includeMetadataChanges:!0}).pipe(ie(function(e){return e.docs}))}function TA(t,e){return e===void 0&&(e={}),CA(t).pipe(ie(function(n){return n.map(function(r){return bA(r,e)})}))}var Li=class{constructor(e){return e}},SA="firestore",P_=class{constructor(){return Ja(SA)}};var O_=new $("angularfire2.firestore-instances");function G3(t,e){let n=gd(SA,t,e);return n&&new Li(n)}function W3(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Li(r)}}var K3={provide:P_,deps:[[new It,O_]]},Q3={provide:Li,useFactory:G3,deps:[[new It,O_],$n]};function AA(t,...e){return Ge("angularfire",_i.full,"fst"),un([Q3,K3,{provide:O_,useFactory:W3(t),multi:!0,deps:[we,_t,Yo,Ii,[new It,ac],[new It,Qo],...e]}])}var MA=Bt(TA,!0);var RA=Bt(EA,!0);var k_=Bt(cA,!0);var xA=Bt(lA,!0);var NA=Bt(IA,!0);var Ch=class t{constructor(e,n,r,i){this.router=e;this.firestore=n;this.auth=r;this.userService=i}user;email="";password="";loginsCollection=[];countLogins=0;sub;ngOnInit(){localStorage.getItem("user")&&this.router.navigate(["/home"])}onLogin(){this.user=new zo(this.email,this.password),AT(this.auth,this.user.getEmail(),this.user.getPassword()).then(e=>{localStorage.setItem("user",JSON.stringify({email:this.auth.currentUser?.email})),this.userService.login(),this.router.navigate(["/home"]),this.logUsuarios()}).catch(e=>{console.log("Error:",e)})}logUsuarios(){let e=k_(this.firestore,"logins"),n={fecha:new Date,email:this.user.getEmail()};RA(e,n)}getData(){let e=k_(this.firestore,"logins"),n=NA(e),r=MA(n);this.sub=r.subscribe(i=>{this.loginsCollection=i,this.countLogins=this.loginsCollection.length,console.log(i)})}quickLogin(e,n){this.email=e,this.password=n,this.onLogin()}static \u0275fac=function(n){return new(n||t)(Z(Yt),Z(Li),Z(Gn),Z(Dr))};static \u0275cmp=ot({type:t,selectors:[["app-login"]],standalone:!0,features:[st],decls:21,vars:2,consts:[[1,"login-section"],[1,"login-container"],[1,"login-form",3,"ngSubmit"],[1,"form-group"],["for","Email"],["id","email","name","email","required","","autocomplete","email",3,"ngModelChange","ngModel"],["for","clave"],["id","clave","name","password","type","password","required","","autocomplete","current-password",3,"ngModelChange","ngModel"],["type","submit",1,"btn_login"],[1,"quick-login-buttons"],[3,"click"]],template:function(n,r){n&1&&(j(0,"section",0)(1,"div",1)(2,"h1"),B(3,"Login"),O(),j(4,"form",2),yt("ngSubmit",function(){return r.onLogin()}),j(5,"div",3)(6,"label",4),B(7,"Email:"),O(),j(8,"input",5),si("ngModelChange",function(o){return So(r.email,o)||(r.email=o),o}),O()(),j(9,"div",3)(10,"label",6),B(11,"Clave:"),O(),j(12,"input",7),si("ngModelChange",function(o){return So(r.password,o)||(r.password=o),o}),O()(),j(13,"div",3)(14,"button",8),B(15,"Login"),O()()(),j(16,"div",9)(17,"button",10),yt("click",function(){return r.quickLogin("pepe@gmail.com","pepe123")}),B(18,"Login como Pepe"),O(),j(19,"button",10),yt("click",function(){return r.quickLogin("romeo@gmail.com","Romeo123")}),B(20,"Login como Romeo"),O()()()()),n&2&&(Se(8),oi("ngModel",r.email),Se(4),oi("ngModel",r.password))},dependencies:[cd,ad,Ho,id,od,Ga,qa,za],styles:[`.login-section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#a0b316;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='192' height='192' viewBox='0 0 192 192'%3E%3Cpath fill='%23ffffff' fill-opacity='0.91' d='M192 15v2a11 11 0 0 0-11 11c0 1.94 1.16 4.75 2.53 6.11l2.36 2.36a6.93 6.93 0 0 1 1.22 7.56l-.43.84a8.08 8.08 0 0 1-6.66 4.13H145v35.02a6.1 6.1 0 0 0 3.03 4.87l.84.43c1.58.79 4 .4 5.24-.85l2.36-2.36a12.04 12.04 0 0 1 7.51-3.11 13 13 0 1 1 .02 26 12 12 0 0 1-7.53-3.11l-2.36-2.36a4.93 4.93 0 0 0-5.24-.85l-.84.43a6.1 6.1 0 0 0-3.03 4.87V143h35.02a8.08 8.08 0 0 1 6.66 4.13l.43.84a6.91 6.91 0 0 1-1.22 7.56l-2.36 2.36A10.06 10.06 0 0 0 181 164a11 11 0 0 0 11 11v2a13 13 0 0 1-13-13 12 12 0 0 1 3.11-7.53l2.36-2.36a4.93 4.93 0 0 0 .85-5.24l-.43-.84a6.1 6.1 0 0 0-4.87-3.03H145v35.02a8.08 8.08 0 0 1-4.13 6.66l-.84.43a6.91 6.91 0 0 1-7.56-1.22l-2.36-2.36A10.06 10.06 0 0 0 124 181a11 11 0 0 0-11 11h-2a13 13 0 0 1 13-13c2.47 0 5.79 1.37 7.53 3.11l2.36 2.36a4.94 4.94 0 0 0 5.24.85l.84-.43a6.1 6.1 0 0 0 3.03-4.87V145h-35.02a8.08 8.08 0 0 1-6.66-4.13l-.43-.84a6.91 6.91 0 0 1 1.22-7.56l2.36-2.36A10.06 10.06 0 0 0 107 124a11 11 0 0 0-22 0c0 1.94 1.16 4.75 2.53 6.11l2.36 2.36a6.93 6.93 0 0 1 1.22 7.56l-.43.84a8.08 8.08 0 0 1-6.66 4.13H49v35.02a6.1 6.1 0 0 0 3.03 4.87l.84.43c1.58.79 4 .4 5.24-.85l2.36-2.36a12.04 12.04 0 0 1 7.51-3.11A13 13 0 0 1 81 192h-2a11 11 0 0 0-11-11c-1.94 0-4.75 1.16-6.11 2.53l-2.36 2.36a6.93 6.93 0 0 1-7.56 1.22l-.84-.43a8.08 8.08 0 0 1-4.13-6.66V145H11.98a6.1 6.1 0 0 0-4.87 3.03l-.43.84c-.79 1.58-.4 4 .85 5.24l2.36 2.36a12.04 12.04 0 0 1 3.11 7.51A13 13 0 0 1 0 177v-2a11 11 0 0 0 11-11c0-1.94-1.16-4.75-2.53-6.11l-2.36-2.36a6.93 6.93 0 0 1-1.22-7.56l.43-.84a8.08 8.08 0 0 1 6.66-4.13H47v-35.02a6.1 6.1 0 0 0-3.03-4.87l-.84-.43c-1.59-.8-4-.4-5.24.85l-2.36 2.36A12 12 0 0 1 28 109a13 13 0 1 1 0-26c2.47 0 5.79 1.37 7.53 3.11l2.36 2.36a4.94 4.94 0 0 0 5.24.85l.84-.43A6.1 6.1 0 0 0 47 84.02V49H11.98a8.08 8.08 0 0 1-6.66-4.13l-.43-.84a6.91 6.91 0 0 1 1.22-7.56l2.36-2.36A10.06 10.06 0 0 0 11 28 11 11 0 0 0 0 17v-2a13 13 0 0 1 13 13c0 2.47-1.37 5.79-3.11 7.53l-2.36 2.36a4.94 4.94 0 0 0-.85 5.24l.43.84A6.1 6.1 0 0 0 11.98 47H47V11.98a8.08 8.08 0 0 1 4.13-6.66l.84-.43a6.91 6.91 0 0 1 7.56 1.22l2.36 2.36A10.06 10.06 0 0 0 68 11 11 11 0 0 0 79 0h2a13 13 0 0 1-13 13 12 12 0 0 1-7.53-3.11l-2.36-2.36a4.93 4.93 0 0 0-5.24-.85l-.84.43A6.1 6.1 0 0 0 49 11.98V47h35.02a8.08 8.08 0 0 1 6.66 4.13l.43.84a6.91 6.91 0 0 1-1.22 7.56l-2.36 2.36A10.06 10.06 0 0 0 85 68a11 11 0 0 0 22 0c0-1.94-1.16-4.75-2.53-6.11l-2.36-2.36a6.93 6.93 0 0 1-1.22-7.56l.43-.84a8.08 8.08 0 0 1 6.66-4.13H143V11.98a6.1 6.1 0 0 0-3.03-4.87l-.84-.43c-1.59-.8-4-.4-5.24.85l-2.36 2.36A12 12 0 0 1 124 13a13 13 0 0 1-13-13h2a11 11 0 0 0 11 11c1.94 0 4.75-1.16 6.11-2.53l2.36-2.36a6.93 6.93 0 0 1 7.56-1.22l.84.43a8.08 8.08 0 0 1 4.13 6.66V47h35.02a6.1 6.1 0 0 0 4.87-3.03l.43-.84c.8-1.59.4-4-.85-5.24l-2.36-2.36A12 12 0 0 1 179 28a13 13 0 0 1 13-13zM84.02 143a6.1 6.1 0 0 0 4.87-3.03l.43-.84c.8-1.59.4-4-.85-5.24l-2.36-2.36A12 12 0 0 1 83 124a13 13 0 1 1 26 0c0 2.47-1.37 5.79-3.11 7.53l-2.36 2.36a4.94 4.94 0 0 0-.85 5.24l.43.84a6.1 6.1 0 0 0 4.87 3.03H143v-35.02a8.08 8.08 0 0 1 4.13-6.66l.84-.43a6.91 6.91 0 0 1 7.56 1.22l2.36 2.36A10.06 10.06 0 0 0 164 107a11 11 0 0 0 0-22c-1.94 0-4.75 1.16-6.11 2.53l-2.36 2.36a6.93 6.93 0 0 1-7.56 1.22l-.84-.43a8.08 8.08 0 0 1-4.13-6.66V49h-35.02a6.1 6.1 0 0 0-4.87 3.03l-.43.84c-.79 1.58-.4 4 .85 5.24l2.36 2.36a12.04 12.04 0 0 1 3.11 7.51A13 13 0 1 1 83 68a12 12 0 0 1 3.11-7.53l2.36-2.36a4.93 4.93 0 0 0 .85-5.24l-.43-.84A6.1 6.1 0 0 0 84.02 49H49v35.02a8.08 8.08 0 0 1-4.13 6.66l-.84.43a6.91 6.91 0 0 1-7.56-1.22l-2.36-2.36A10.06 10.06 0 0 0 28 85a11 11 0 0 0 0 22c1.94 0 4.75-1.16 6.11-2.53l2.36-2.36a6.93 6.93 0 0 1 7.56-1.22l.84.43a8.08 8.08 0 0 1 4.13 6.66V143h35.02z'%3E%3C/path%3E%3C/svg%3E");background-size:200px;background-repeat:repeat;background-position:center}.login-container[_ngcontent-%COMP%]{background:#fff;padding:4.5rem;border-radius:12px;box-shadow:0 8px 20px #0000001a;max-width:350px;width:92%;margin-top:60px}h1[_ngcontent-%COMP%]{margin-bottom:1.5rem;font-size:2.2rem;color:#343a40;text-align:center}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-size:1rem;color:#495057}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:92%;padding:.8rem;border:1px solid #ced4da;border-radius:6px;font-size:1rem;transition:border-color .3s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none;box-shadow:0 0 0 3px #007bff40}.form-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.8rem 9.7rem}button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:.8rem 1.5rem;border-radius:6px;cursor:pointer;font-size:1rem;transition:background-color .3s,transform .2s;display:block;margin:0}button[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:translateY(-2px)}.quick-login-buttons[_ngcontent-%COMP%]{margin-top:1.5rem;display:flex;justify-content:space-between}.quick-login-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#28a745;padding:.8rem 1.5rem;flex:1;margin:0 .5rem;font-size:.9rem;border-radius:6px}@media (max-width: 768px){.login-container[_ngcontent-%COMP%]{padding:3rem}h1[_ngcontent-%COMP%]{font-size:1.8rem}.form-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.8rem 8rem}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:92%;padding:.8rem .72rem}}`]})};var Th=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ot({type:t,selectors:[["app-quien-soy"]],standalone:!0,features:[st],decls:66,vars:0,consts:[[1,"quien-soy-section"],[1,"alumno-container"],[1,"image-section"],["src","https://gyazo.com/54e22f567e0c49fe4345d3f165d73c3a.jpg","alt","Imagen del Alumno",1,"alumno-image"],[1,"info-section"]],template:function(n,r){n&1&&(j(0,"section",0)(1,"div",1)(2,"div",2),Ke(3,"img",3),O(),j(4,"div",4)(5,"h1"),B(6,"Qui\xE9n soy"),O(),j(7,"p")(8,"strong"),B(9,"Nombre:"),O(),B(10," Cristian Delgado"),O(),j(11,"p")(12,"strong"),B(13,"Edad:"),O(),B(14," 23 a\xF1os"),O(),j(15,"p")(16,"strong"),B(17,"Estudios:"),O(),B(18," Tecnicatura en Programaci\xF3n en la UTN"),O(),j(19,"h2"),B(20,"Explicaci\xF3n del Juego Propio: Test de Reflejos"),O(),j(21,"p")(22,"strong"),B(23,"Test de Reflejos"),O(),B(24," es un juego dise\xF1ado para medir y desafiar la rapidez de tus reflejos. Se basa en la premisa simple de reaccionar ante est\xEDmulos visuales, similar a las pruebas de reflejos de Human Benchmark. "),O(),j(25,"h3"),B(26,"C\xF3mo Jugar"),O(),j(27,"p")(28,"strong"),B(29,"Objetivo del Juego:"),O(),B(30," El objetivo es hacer clic en el bot\xF3n de reacci\xF3n tan r\xE1pido como sea posible cuando se ilumine. Cuanto m\xE1s r\xE1pido respondas, mejor ser\xE1 tu puntuaci\xF3n. "),O(),j(31,"p")(32,"strong"),B(33,"Inicio del Juego:"),O(),B(34," Cuando el juego comienza, el bot\xF3n de reacci\xF3n estar\xE1 desactivado y de color gris. Debes esperar hasta que se ilumine de color verde, momento en el cual debes hacer clic en \xE9l lo m\xE1s r\xE1pido posible. "),O(),j(35,"p")(36,"strong"),B(37,"Temporizador de Reacci\xF3n:"),O(),B(38," Despu\xE9s de que el bot\xF3n se ilumine, tendr\xE1s un breve per\xEDodo de tiempo para hacer clic. El tiempo que tarda en iluminarse es aleatorio, por lo que debes estar atento. "),O(),j(39,"p")(40,"strong"),B(41,"Medici\xF3n del Tiempo:"),O(),B(42," El juego mide el tiempo entre el momento en que el bot\xF3n se ilumina y el momento en que haces clic. Este tiempo se muestra como tu tiempo de reacci\xF3n. "),O(),j(43,"p")(44,"strong"),B(45,"Objetivo:"),O(),B(46," Reducir el tiempo de reacci\xF3n en cada intento para mejorar tu puntuaci\xF3n y desafiar tus reflejos. "),O(),j(47,"h3"),B(48,"Caracter\xEDsticas del Juego"),O(),j(49,"ul")(50,"li")(51,"strong"),B(52,"Interfaz Sencilla:"),O(),B(53," Un dise\xF1o limpio con un bot\xF3n de reacci\xF3n claramente visible."),O(),j(54,"li")(55,"strong"),B(56,"Medici\xF3n Precisa:"),O(),B(57," Calcula el tiempo de reacci\xF3n con alta precisi\xF3n."),O(),j(58,"li")(59,"strong"),B(60,"Historial de Resultados:"),O(),B(61," Guarda y muestra tus mejores tiempos de reacci\xF3n para seguimiento y comparaci\xF3n."),O(),j(62,"li")(63,"strong"),B(64,"Modo de Pr\xE1ctica:"),O(),B(65," Permite repetir la prueba para mejorar tus reflejos y habilidad."),O()()()()())},styles:[`.quien-soy-section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#000;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='80' height='80' viewBox='0 0 80 80'%3E%3Cg fill='%23ffffff' fill-opacity='0.71'%3E%3Cpath fill-rule='evenodd' d='M11 0l5 20H6l5-20zm42 31a3 3 0 1 0 0-6 3 3 0 0 0 0 6zM0 72h40v4H0v-4zm0-8h31v4H0v-4zm20-16h20v4H20v-4zM0 56h40v4H0v-4zm63-25a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm10 0a3 3 0 1 0 0-6 3 3 0 0 0 0 6zM53 41a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm10 0a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm10 0a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-30 0a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-28-8a5 5 0 0 0-10 0h10zm10 0a5 5 0 0 1-10 0h10zM56 5a5 5 0 0 0-10 0h10zm10 0a5 5 0 0 1-10 0h10zm-3 46a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm10 0a3 3 0 1 0 0-6 3 3 0 0 0 0 6zM21 0l5 20H16l5-20zm43 64v-4h-4v4h-4v4h4v4h4v-4h4v-4h-4zM36 13h4v4h-4v-4zm4 4h4v4h-4v-4zm-4 4h4v4h-4v-4zm8-8h4v4h-4v-4z'/%3E%3C/g%3E%3C/svg%3E");background-size:100px;background-repeat:repeat;background-position:center}.alumno-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:40px;max-width:800px;background-color:#ffffffe6;border-radius:12px;box-shadow:0 8px 16px #0003}.alumno-image[_ngcontent-%COMP%]{max-width:220px;border-radius:10%;border:3px solid #e0e0e0;box-shadow:0 4px 8px #0000001a}.info-section[_ngcontent-%COMP%]{max-width:100%}h1[_ngcontent-%COMP%]{font-size:2.5em;color:#333;margin-bottom:20px;font-weight:700;text-shadow:1px 1px 2px rgba(0,0,0,.1)}h2[_ngcontent-%COMP%]{font-size:2em;color:#444;margin-top:30px;margin-bottom:15px;font-weight:600;border-bottom:2px solid #007bff;padding-bottom:5px}h3[_ngcontent-%COMP%]{font-size:1.8em;color:#555;margin-top:20px;margin-bottom:10px;font-weight:500;position:relative}h3[_ngcontent-%COMP%]:before{content:"";display:block;width:50px;height:3px;background:#007bff;position:absolute;top:0;left:0}p[_ngcontent-%COMP%]{font-size:1.1em;color:#444;line-height:1.6;margin-bottom:20px;background-color:#f5f5f5cc;border-radius:8px;padding:15px}ul[_ngcontent-%COMP%]{text-align:left;margin-left:40px;list-style-type:disc}li[_ngcontent-%COMP%]{font-size:1.1em;color:#444;margin-bottom:10px}strong[_ngcontent-%COMP%]{color:#000;font-weight:700}@media (max-width: 768px){h1[_ngcontent-%COMP%]{font-size:2em}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{font-size:1.5em}p[_ngcontent-%COMP%]{font-size:1em}.image-section[_ngcontent-%COMP%]{margin-top:24px}}`]})};function Z3(t,e){t&1&&(j(0,"div",12),Ke(1,"div",13),O())}function J3(t,e){if(t&1&&(j(0,"div",14),B(1),O()),t&2){let n=Cl();Se(),ha(n.errorMessage)}}var Sh=class t{constructor(e,n){this.auth=e;this.router=n}user;email;password;errorMessage="";loading=!1;ngOnInit(){localStorage.getItem("user")&&this.router.navigate(["/home"])}onSubmit(e){this.user=new zo(this.email,this.password),this.errorMessage="",this.loading=!0,TT(this.auth,this.user.getEmail(),this.user.getPassword()).then(n=>{this.loading=!1,n.user&&(console.log("Usuario creado con \xE9xito"),localStorage.setItem("user",JSON.stringify({email:n.user.email})),this.router.navigate(["/home"]))}).catch(n=>{switch(this.loading=!1,n.code){case"auth/email-already-in-use":this.errorMessage="El email ya est\xE1 en uso";break;case"auth/invalid-email":this.errorMessage="El email no es v\xE1lido";break;case"auth/weak-password":this.errorMessage="La contrase\xF1a tiene que tener al menos 6 caracteres",this.password="";break;default:this.errorMessage="Error desconocido";break}})}static \u0275fac=function(n){return new(n||t)(Z(Gn),Z(Yt))};static \u0275cmp=ot({type:t,selectors:[["app-registro"]],standalone:!0,features:[st],decls:18,vars:5,consts:[["registroForm","ngForm"],[1,"registro-section"],[1,"registro-container"],[1,"registro-form",3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","required","","autocomplete","email",3,"ngModelChange","ngModel"],["for","contrasena"],["type","password","id","contrasena","name","contrasena","required","","autocomplete","new-password",3,"ngModelChange","ngModel"],["type","submit",3,"disabled"],["class","spinner",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"spinner"],[1,"loader"],[1,"error-message"]],template:function(n,r){if(n&1){let i=bl();j(0,"section",1)(1,"div",2)(2,"h1"),B(3,"Registro de Usuario"),O(),j(4,"form",3,0),yt("ngSubmit",function(){wo(i);let s=sg(5);return Eo(r.onSubmit(s))}),j(6,"div",4)(7,"label",5),B(8,"Email:"),O(),j(9,"input",6),si("ngModelChange",function(s){return wo(i),So(r.email,s)||(r.email=s),Eo(s)}),O()(),j(10,"div",4)(11,"label",7),B(12,"Contrase\xF1a:"),O(),j(13,"input",8),si("ngModelChange",function(s){return wo(i),So(r.password,s)||(r.password=s),Eo(s)}),O()(),j(14,"button",9),B(15,"Registrar"),O(),la(16,Z3,2,0,"div",10)(17,J3,2,1,"div",11),O()()()}if(n&2){let i=sg(5);Se(9),oi("ngModel",r.email),Se(4),oi("ngModel",r.password),Se(),qe("disabled",r.loading||!i.valid),Se(2),qe("ngIf",r.loading),Se(),qe("ngIf",r.errorMessage)}},dependencies:[cd,ad,Ho,id,od,Ga,qa,za,Ml],styles:[`.registro-section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#a0b316;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='192' height='192' viewBox='0 0 192 192'%3E%3Cpath fill='%23ffffff' fill-opacity='0.91' d='M192 15v2a11 11 0 0 0-11 11c0 1.94 1.16 4.75 2.53 6.11l2.36 2.36a6.93 6.93 0 0 1 1.22 7.56l-.43.84a8.08 8.08 0 0 1-6.66 4.13H145v35.02a6.1 6.1 0 0 0 3.03 4.87l.84.43c1.58.79 4 .4 5.24-.85l2.36-2.36a12.04 12.04 0 0 1 7.51-3.11 13 13 0 1 1 .02 26 12 12 0 0 1-7.53-3.11l-2.36-2.36a4.93 4.93 0 0 0-5.24-.85l-.84.43a6.1 6.1 0 0 0-3.03 4.87V143h35.02a8.08 8.08 0 0 1 6.66 4.13l.43.84a6.91 6.91 0 0 1-1.22 7.56l-2.36 2.36A10.06 10.06 0 0 0 181 164a11 11 0 0 0 11 11v2a13 13 0 0 1-13-13 12 12 0 0 1 3.11-7.53l2.36-2.36a4.93 4.93 0 0 0 .85-5.24l-.43-.84a6.1 6.1 0 0 0-4.87-3.03H145v35.02a8.08 8.08 0 0 1-4.13 6.66l-.84.43a6.91 6.91 0 0 1-7.56-1.22l-2.36-2.36A10.06 10.06 0 0 0 124 181a11 11 0 0 0-11 11h-2a13 13 0 0 1 13-13c2.47 0 5.79 1.37 7.53 3.11l2.36 2.36a4.94 4.94 0 0 0 5.24.85l.84-.43a6.1 6.1 0 0 0 3.03-4.87V145h-35.02a8.08 8.08 0 0 1-6.66-4.13l-.43-.84a6.91 6.91 0 0 1 1.22-7.56l2.36-2.36A10.06 10.06 0 0 0 107 124a11 11 0 0 0-22 0c0 1.94 1.16 4.75 2.53 6.11l2.36 2.36a6.93 6.93 0 0 1 1.22 7.56l-.43.84a8.08 8.08 0 0 1-6.66 4.13H49v35.02a6.1 6.1 0 0 0 3.03 4.87l.84.43c1.58.79 4 .4 5.24-.85l2.36-2.36a12.04 12.04 0 0 1 7.51-3.11A13 13 0 0 1 81 192h-2a11 11 0 0 0-11-11c-1.94 0-4.75 1.16-6.11 2.53l-2.36 2.36a6.93 6.93 0 0 1-7.56 1.22l-.84-.43a8.08 8.08 0 0 1-4.13-6.66V145H11.98a6.1 6.1 0 0 0-4.87 3.03l-.43.84c-.79 1.58-.4 4 .85 5.24l2.36 2.36a12.04 12.04 0 0 1 3.11 7.51A13 13 0 0 1 0 177v-2a11 11 0 0 0 11-11c0-1.94-1.16-4.75-2.53-6.11l-2.36-2.36a6.93 6.93 0 0 1-1.22-7.56l.43-.84a8.08 8.08 0 0 1 6.66-4.13H47v-35.02a6.1 6.1 0 0 0-3.03-4.87l-.84-.43c-1.59-.8-4-.4-5.24.85l-2.36 2.36A12 12 0 0 1 28 109a13 13 0 1 1 0-26c2.47 0 5.79 1.37 7.53 3.11l2.36 2.36a4.94 4.94 0 0 0 5.24.85l.84-.43A6.1 6.1 0 0 0 47 84.02V49H11.98a8.08 8.08 0 0 1-6.66-4.13l-.43-.84a6.91 6.91 0 0 1 1.22-7.56l2.36-2.36A10.06 10.06 0 0 0 11 28 11 11 0 0 0 0 17v-2a13 13 0 0 1 13 13c0 2.47-1.37 5.79-3.11 7.53l-2.36 2.36a4.94 4.94 0 0 0-.85 5.24l.43.84A6.1 6.1 0 0 0 11.98 47H47V11.98a8.08 8.08 0 0 1 4.13-6.66l.84-.43a6.91 6.91 0 0 1 7.56 1.22l2.36 2.36A10.06 10.06 0 0 0 68 11 11 11 0 0 0 79 0h2a13 13 0 0 1-13 13 12 12 0 0 1-7.53-3.11l-2.36-2.36a4.93 4.93 0 0 0-5.24-.85l-.84.43A6.1 6.1 0 0 0 49 11.98V47h35.02a8.08 8.08 0 0 1 6.66 4.13l.43.84a6.91 6.91 0 0 1-1.22 7.56l-2.36 2.36A10.06 10.06 0 0 0 85 68a11 11 0 0 0 22 0c0-1.94-1.16-4.75-2.53-6.11l-2.36-2.36a6.93 6.93 0 0 1-1.22-7.56l.43-.84a8.08 8.08 0 0 1 6.66-4.13H143V11.98a6.1 6.1 0 0 0-3.03-4.87l-.84-.43c-1.59-.8-4-.4-5.24.85l-2.36 2.36A12 12 0 0 1 124 13a13 13 0 0 1-13-13h2a11 11 0 0 0 11 11c1.94 0 4.75-1.16 6.11-2.53l2.36-2.36a6.93 6.93 0 0 1 7.56-1.22l.84.43a8.08 8.08 0 0 1 4.13 6.66V47h35.02a6.1 6.1 0 0 0 4.87-3.03l.43-.84c.8-1.59.4-4-.85-5.24l-2.36-2.36A12 12 0 0 1 179 28a13 13 0 0 1 13-13zM84.02 143a6.1 6.1 0 0 0 4.87-3.03l.43-.84c.8-1.59.4-4-.85-5.24l-2.36-2.36A12 12 0 0 1 83 124a13 13 0 1 1 26 0c0 2.47-1.37 5.79-3.11 7.53l-2.36 2.36a4.94 4.94 0 0 0-.85 5.24l.43.84a6.1 6.1 0 0 0 4.87 3.03H143v-35.02a8.08 8.08 0 0 1 4.13-6.66l.84-.43a6.91 6.91 0 0 1 7.56 1.22l2.36 2.36A10.06 10.06 0 0 0 164 107a11 11 0 0 0 0-22c-1.94 0-4.75 1.16-6.11 2.53l-2.36 2.36a6.93 6.93 0 0 1-7.56 1.22l-.84-.43a8.08 8.08 0 0 1-4.13-6.66V49h-35.02a6.1 6.1 0 0 0-4.87 3.03l-.43.84c-.79 1.58-.4 4 .85 5.24l2.36 2.36a12.04 12.04 0 0 1 3.11 7.51A13 13 0 1 1 83 68a12 12 0 0 1 3.11-7.53l2.36-2.36a4.93 4.93 0 0 0 .85-5.24l-.43-.84A6.1 6.1 0 0 0 84.02 49H49v35.02a8.08 8.08 0 0 1-4.13 6.66l-.84.43a6.91 6.91 0 0 1-7.56-1.22l-2.36-2.36A10.06 10.06 0 0 0 28 85a11 11 0 0 0 0 22c1.94 0 4.75-1.16 6.11-2.53l2.36-2.36a6.93 6.93 0 0 1 7.56-1.22l.84.43a8.08 8.08 0 0 1 4.13 6.66V143h35.02z'%3E%3C/path%3E%3C/svg%3E");background-size:200px;background-repeat:repeat;background-position:center}.registro-container[_ngcontent-%COMP%]{background:#fff;padding:5rem;border-radius:12px;box-shadow:0 8px 20px #0000001a;max-width:350px;width:100%;margin-top:60px}h1[_ngcontent-%COMP%]{margin-bottom:1.5rem;font-size:2.2rem;color:#343a40;text-align:center}.registro-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-size:1rem;color:#495057}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:92%;padding:.8rem;border:1px solid #ced4da;border-radius:6px;font-size:1rem;transition:border-color .3s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none;box-shadow:0 0 0 3px #007bff40}.form-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.8rem 7rem}button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:.8rem 1.5rem;border-radius:6px;cursor:pointer;font-size:1rem;transition:background-color .3s,transform .2s;display:block;margin:0}button[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:translateY(-2px)}.error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:.9rem;margin-top:.5rem}@media (max-width: 768px){.registro-container[_ngcontent-%COMP%]{padding:3rem;margin-top:40px}h1[_ngcontent-%COMP%]{font-size:1.8rem}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:92%;padding:.8rem .7rem}.form-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.8rem 9rem}}.spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:10px}.loader[_ngcontent-%COMP%]{border:8px solid #f3f3f3;border-top:8px solid #3498db;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 2s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}`]})};var PA=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",title:"Home",component:Yl},{path:"login",title:"Login",component:Ch},{path:"quien-soy",title:"Quien soy",component:Th},{path:"registro",title:"Registro",component:Sh},{path:"**",redirectTo:"home"}];var OA={projectId:"muestrahosting-77e1e",appId:"1:490264029325:web:da9d3d51f03b0cf3df5ac4",storageBucket:"muestrahosting-77e1e.appspot.com",apiKey:"AIzaSyAZ3RTfIv8FjXLeCvu98J32Iw_wD3OoejY",authDomain:"muestrahosting-77e1e.firebaseapp.com",messagingSenderId:"490264029325"};var kA={providers:[ID({eventCoalescing:!0}),Ab(PA),AC(()=>MC(OA)),CT(()=>ST()),AA(()=>xA())]};var X3=t=>({active:t});function eB(t,e){t&1&&(j(0,"li")(1,"a",9),B(2,"Login"),O()())}function tB(t,e){t&1&&(j(0,"li")(1,"a",10),B(2,"Registrarse"),O()())}function nB(t,e){if(t&1){let n=bl();j(0,"li")(1,"button",11),yt("click",function(){wo(n);let i=Cl();return Eo(i.logOut())}),B(2,"Logout"),O()()}}var Ah=class t{constructor(e,n){this.userService=e;this.router=n;this.userService.user$.subscribe(r=>{this.userInLocalStorage=r})}userInLocalStorage=!1;isNavbarOpen;toggleNavbar(){this.isNavbarOpen=!this.isNavbarOpen}logOut(){this.userService.logout(),this.router.navigate(["/login"])}static \u0275fac=function(n){return new(n||t)(Z(Dr),Z(Yt))};static \u0275cmp=ot({type:t,selectors:[["app-navbar"]],standalone:!0,features:[st],decls:17,vars:6,consts:[[1,"navbar"],[1,"navbar-container"],[1,"navbar-brand"],["routerLink","/home"],[1,"hamburger",3,"click"],[1,"fa-solid","fa-bars"],[1,"navbar-list",3,"ngClass"],["routerLink","/quien-soy"],[4,"ngIf"],["routerLink","/login"],["routerLink","/registro"],[1,"logout-button",3,"click"]],template:function(n,r){n&1&&(j(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),B(4,"Mi App"),O()(),j(5,"button",4),yt("click",function(){return r.toggleNavbar()}),Ke(6,"i",5),O(),j(7,"ul",6)(8,"li")(9,"a",3),B(10,"Inicio"),O()(),j(11,"li")(12,"a",7),B(13,"Sobre m\xED"),O()(),la(14,eB,3,0,"li",8)(15,tB,3,0,"li",8)(16,nB,3,0,"li",8),O()()()),n&2&&(Se(7),qe("ngClass",fD(4,X3,r.isNavbarOpen)),Se(7),qe("ngIf",!r.userInLocalStorage),Se(),qe("ngIf",!r.userInLocalStorage),Se(),qe("ngIf",r.userInLocalStorage))},dependencies:[fg,kD,Ml,Kl],styles:[".navbar[_ngcontent-%COMP%]{background-color:#343a40;padding:1rem;box-shadow:0 2px 4px #0003}.navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:1200px;margin:0 auto}.navbar-brand[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ffc107;font-size:1.5rem;font-weight:700;text-decoration:none}.navbar-list[_ngcontent-%COMP%]{list-style-type:none;display:flex;gap:2rem}.navbar-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center}.navbar-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:1.2rem;transition:color .3s}.navbar-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ffc107}.logout-button[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none;padding:.5rem 1rem;border-radius:5px;cursor:pointer;font-size:1rem;transition:background-color .3s}.logout-button[_ngcontent-%COMP%]:hover{background-color:#c82333}.hamburger[_ngcontent-%COMP%]{display:none;font-size:2rem;background:none;border:none;color:#fff;cursor:pointer}@media (max-width: 768px){.navbar[_ngcontent-%COMP%]{background-color:#343a40;padding:1rem;box-shadow:0 2px 4px #0003;position:sticky;top:0;z-index:1000}.navbar-list[_ngcontent-%COMP%]{display:none;flex-direction:column;width:100%;position:absolute;top:60px;left:0;background-color:#343a40;z-index:1000;gap:.3rem}.navbar-list.active[_ngcontent-%COMP%]{display:flex}.navbar-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;text-align:center;padding:1rem 0}.logout-button[_ngcontent-%COMP%]{width:30%;padding:.7rem;font-size:1rem;border-radius:0}.hamburger[_ngcontent-%COMP%]{display:block}}"]})};var Mh=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ot({type:t,selectors:[["app-footer"]],standalone:!0,features:[st],decls:6,vars:0,consts:[[1,"footer"],[1,"footer-container"],["href","https://github.com/CristianDelgado31/sala_juegos.git","target","_blank",1,"footer-link"],[1,"fab","fa-github"]],template:function(n,r){n&1&&(j(0,"footer",0)(1,"div",1)(2,"p")(3,"a",2),Ke(4,"i",3),B(5," Repositorio de GitHub "),O()()()())},styles:[".footer[_ngcontent-%COMP%]{background-color:#343a40;color:#fff;padding:1rem;text-align:center;position:relative}.footer-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.footer-link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;transition:color .3s}.footer-link[_ngcontent-%COMP%]:hover{color:#ffc107}.footer-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem;font-size:1.2rem}"]})};var Rh=class t{title="sala-de-juegos";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ot({type:t,selectors:[["app-root"]],standalone:!0,features:[st],decls:3,vars:0,template:function(n,r){n&1&&Ke(0,"app-navbar")(1,"router-outlet")(2,"app-footer")},dependencies:[em,Ah,Mh]})};qD(Rh,kA).catch(t=>console.error(t));
